import{u as G,f as K,g as Ce,r as c,o as b,a as C,w as a,e as t,h as I,b as H,F as j,d as W,i as de,j as ee,t as te,k as A,c as Y,l as Fe,m as X,n as qe,v as Ue,p as Ae,q as Pe}from"./index-348d70a1.js";import{c as ye,V as De}from"./styles-9eaf22d8.js";import{_ as ze}from"./PanelCard-4c61ac8d.js";const z="_app.settings.header.",Ne={__name:"SettingsHeader",setup(q){const e=G(),o={required:n=>!!n||e.replacer("%t(_app.settings.rules.required)")},u=K(),m=Ce({name:"",title:"",icon:"",cmd:""});function k(){e.app.config.header.commands.push(JSON.parse(JSON.stringify(m))),u.value.reset()}function y(n){e.app.config.header.commands.splice(n,1)}return(n,i)=>{const _=c("v-btn"),x=c("v-list-item"),g=c("v-text-field"),w=c("v-col"),U=c("v-checkbox"),E=c("v-row"),V=c("v-divider"),S=c("v-form"),$=c("v-list");return b(),C($,null,{default:a(()=>[t(x,{title:n.$t(z+"barTitle")},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[0]||(i[0]=l=>I(e).help("kopfzeile"))})]),_:1},8,["title"]),t(x,null,{default:a(()=>[t(E,{"no-gutters":""},{default:a(()=>[t(w,{cols:"12",lg:"4",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"imageUrlPlaceholder"),label:n.$t(z+"imageUrl"),modelValue:I(e).app.config.header.imageUrl,"onUpdate:modelValue":i[1]||(i[1]=l=>I(e).app.config.header.imageUrl=l)},null,8,["placeholder","label","modelValue"])]),_:1}),t(w,{cols:"12",lg:"5",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"imageGradientPlaceholder"),label:n.$t(z+"imageGradient"),modelValue:I(e).app.config.header.imageGradient,"onUpdate:modelValue":i[2]||(i[2]=l=>I(e).app.config.header.imageGradient=l)},null,8,["placeholder","label","modelValue"])]),_:1}),t(w,{cols:"6",lg:"",class:"pt-1"},{default:a(()=>[t(U,{hint:n.$t(z+"showTimeHint"),label:n.$t(z+"showTime"),modelValue:I(e).app.config.header.showTime,"onUpdate:modelValue":i[3]||(i[3]=l=>I(e).app.config.header.showTime=l)},null,8,["hint","label","modelValue"])]),_:1}),t(w,{cols:"6",lg:"",class:"pt-1"},{default:a(()=>[t(U,{hint:n.$t(z+"showDateHint"),label:n.$t(z+"showDate"),modelValue:I(e).app.config.header.showDate,"onUpdate:modelValue":i[4]||(i[4]=l=>I(e).app.config.header.showDate=l)},null,8,["hint","label","modelValue"])]),_:1})]),_:1})]),_:1}),t(V),t(x,{title:n.$t(z+"optionsTitle")},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[5]||(i[5]=l=>I(e).help("optionsmenü"))})]),_:1},8,["title"]),t(x,null,{default:a(()=>[t(E,{"no-gutters":""},{default:a(()=>[t(w,{cols:"6",lg:""},{default:a(()=>[t(U,{label:n.$t(z+"showDarkMode"),modelValue:I(e).app.config.header.showDarkMode,"onUpdate:modelValue":i[6]||(i[6]=l=>I(e).app.config.header.showDarkMode=l)},null,8,["label","modelValue"])]),_:1}),t(w,{cols:"6",lg:""},{default:a(()=>[t(U,{label:n.$t(z+"showReloadPage"),modelValue:I(e).app.config.header.showReloadPage,"onUpdate:modelValue":i[7]||(i[7]=l=>I(e).app.config.header.showReloadPage=l)},null,8,["label","modelValue"])]),_:1}),t(w,{cols:"6",lg:""},{default:a(()=>[t(U,{label:n.$t(z+"showSettings"),modelValue:I(e).app.config.header.showSettings,"onUpdate:modelValue":i[8]||(i[8]=l=>I(e).app.config.header.showSettings=l)},null,8,["label","modelValue"])]),_:1}),t(w,{cols:"6",lg:""},{default:a(()=>[t(U,{label:n.$t(z+"showLanguages"),modelValue:I(e).app.config.header.showLanguages,"onUpdate:modelValue":i[9]||(i[9]=l=>I(e).app.config.header.showLanguages=l)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),t(V),t(x,{title:n.$t(z+"optionsCommandTitle")},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[10]||(i[10]=l=>I(e).help("optionsmenü-fhem-befehle"))})]),_:1},8,["title"]),(b(!0),H(j,null,W(I(e).app.config.header.commands,(l,r)=>(b(),C(x,{key:r},{default:a(()=>[t(E,{"no-gutters":""},{default:a(()=>[t(w,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandNamePlaceholder"),label:n.$t(z+"commandName"),rules:[o.required],modelValue:l.name,"onUpdate:modelValue":d=>l.name=d},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandTitlePlaceholder"),label:n.$t(z+"commandTitle"),rules:[o.required],modelValue:l.title,"onUpdate:modelValue":d=>l.title=d},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandIconPlaceholder"),label:n.$t(z+"commandIcon"),"append-inner-icon":l.icon,modelValue:l.icon,"onUpdate:modelValue":d=>l.icon=d},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"10",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandCmdPlaceholder"),label:n.$t(z+"commandCmd"),rules:[o.required],modelValue:l.cmd,"onUpdate:modelValue":d=>l.cmd=d},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{class:"pt-3 text-right"},{default:a(()=>[t(_,{variant:"text",icon:"mdi-delete",onClick:d=>y(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t(x,null,{default:a(()=>[t(S,{ref_key:"form",ref:u},{default:a(()=>[t(E,{"no-gutters":""},{default:a(()=>[t(w,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandNamePlaceholder"),label:n.$t(z+"commandName"),rules:[o.required],modelValue:m.name,"onUpdate:modelValue":i[11]||(i[11]=l=>m.name=l)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandTitlePlaceholder"),label:n.$t(z+"commandTitle"),rules:[o.required],modelValue:m.title,"onUpdate:modelValue":i[12]||(i[12]=l=>m.title=l)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandIconPlaceholder"),label:n.$t(z+"commandIcon"),"append-inner-icon":m.icon,modelValue:m.icon,"onUpdate:modelValue":i[13]||(i[13]=l=>m.icon=l)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(w,{cols:"9",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(g,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandCmdPlaceholder"),label:n.$t(z+"commandCmd"),rules:[o.required],modelValue:m.cmd,"onUpdate:modelValue":i[14]||(i[14]=l=>m.cmd=l)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(w,{class:"pt-3 text-right"},{default:a(()=>[t(_,{variant:"text",icon:"mdi-cancel",onClick:i[15]||(i[15]=l=>u.value.reset())}),t(_,{variant:"text",icon:"mdi-plus",disabled:!m.name||!m.title||!m.cmd,onClick:i[16]||(i[16]=l=>k())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},O="_app.settings.navigation.",Le={__name:"SettingsNavigation",setup(q){const{mobile:e}=de(),o=G(),u=Ce({path:[],route:["navigation"],items:[],newItem:{name:null,title:null,icon:null,divider:!1,groupAsChips:!1,sort:!1,group:[]}}),m=K(),k={required:g=>!!g||o.replacer("%t(_app.settings.rules.required)")};function y(g){typeof g<"u"&&(u.path.push(g,"group"),u.route.push(u.items[g].name)),u.items=o.getEl(o.app.config.navigation,u.path)}function n(){let g=JSON.parse(JSON.stringify(u.newItem));o.getEl(o.app.config.navigation,u.path).push(g),y(),m.value.reset()}function i(g){o.getEl(o.app.config.navigation,u.path).splice(g,1)}function _(g){return(o.getEl(u.items[g],["group"])||[]).length}function x(){u.route.pop(),u.path.splice(-2,2),y()}return y(),(g,w)=>{const U=c("v-btn"),E=c("v-list-item"),V=c("v-text-field"),S=c("v-col"),$=c("v-checkbox"),l=c("v-icon"),r=c("v-badge"),d=c("v-row"),f=c("v-divider"),s=c("v-form"),p=c("v-list");return b(),C(p,null,{default:a(()=>[t(E,{title:g.$t(O+"title")},{append:a(()=>[t(U,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:w[0]||(w[0]=h=>I(o).help("navigation"))})]),_:1},8,["title"]),u.path.length>0?(b(),C(E,{key:0},{default:a(()=>[t(U,{variant:"text",icon:"mdi-arrow-up-left",onClick:w[1]||(w[1]=h=>x())}),ee(" "+te(u.route.join(" > ")),1)]),_:1})):A("",!0),(b(!0),H(j,null,W(u.items,(h,v)=>(b(),C(E,{key:v},{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(S,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:g.$t(O+"namePlaceholder"),label:g.$t(O+"name"),rules:[k.required],modelValue:h.name,"onUpdate:modelValue":F=>h.name=F},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:g.$t(O+"title1Placeholder"),label:g.$t(O+"title1"),modelValue:h.title,"onUpdate:modelValue":F=>h.title=F},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:g.$t(O+"iconPlaceholder"),label:g.$t(O+"icon"),"append-inner-icon":h.icon,modelValue:h.icon,"onUpdate:modelValue":F=>h.icon=F},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:4,lg:"",class:"pt-1"},{default:a(()=>[t($,{hint:g.$t(O+"groupAsChipsHint"),label:g.$t(O+"groupAsChips"),modelValue:h.groupAsChips,"onUpdate:modelValue":F=>h.groupAsChips=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:4,lg:"",class:"pt-1"},{default:a(()=>[t($,{hint:g.$t(O+"sortHint"),label:g.$t(O+"sort"),modelValue:h.sort,"onUpdate:modelValue":F=>h.sort=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t($,{hint:g.$t(O+"dividerHint"),label:g.$t(O+"divider"),modelValue:h.divider,"onUpdate:modelValue":F=>h.divider=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{class:"pt-3 text-right"},{default:a(()=>[t(U,{variant:"text",icon:"",onClick:F=>y(v)},{default:a(()=>[_(v)>0?(b(),C(r,{key:0,color:"success",content:_(v)},{default:a(()=>[t(l,{icon:"mdi-arrow-down-right"})]),_:2},1032,["content"])):A("",!0),_(v)===0?(b(),C(l,{key:1,icon:"mdi-arrow-down-right"})):A("",!0)]),_:2},1032,["onClick"]),t(U,{variant:"text",icon:"mdi-delete",onClick:F=>i(v)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),I(e)?(b(),C(f,{key:0})):A("",!0)]),_:2},1024))),128)),t(E,null,{default:a(()=>[t(s,{ref_key:"form",ref:m},{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(S,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:g.$t(O+"namePlaceholder"),label:g.$t(O+"name"),rules:[k.required],modelValue:u.newItem.name,"onUpdate:modelValue":w[2]||(w[2]=h=>u.newItem.name=h)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:g.$t(O+"title1Placeholder"),label:g.$t(O+"title1"),modelValue:u.newItem.title,"onUpdate:modelValue":w[3]||(w[3]=h=>u.newItem.title=h)},null,8,["placeholder","label","modelValue"])]),_:1}),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:g.$t(O+"iconPlaceholder"),label:g.$t(O+"icon"),"append-inner-icon":u.newItem.icon,modelValue:u.newItem.icon,"onUpdate:modelValue":w[4]||(w[4]=h=>u.newItem.icon=h)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(S,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t($,{hint:g.$t(O+"groupAsChipsHint"),label:g.$t(O+"groupAsChips"),modelValue:u.newItem.groupAsChips,"onUpdate:modelValue":w[5]||(w[5]=h=>u.newItem.groupAsChips=h)},null,8,["hint","label","modelValue"])]),_:1}),t(S,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t($,{hint:g.$t(O+"sortHint"),label:g.$t(O+"sort"),modelValue:u.newItem.sort,"onUpdate:modelValue":w[6]||(w[6]=h=>u.newItem.sort=h)},null,8,["hint","label","modelValue"])]),_:1}),t(S,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t($,{hint:g.$t(O+"dividerHint"),label:g.$t(O+"divider"),modelValue:u.newItem.divider,"onUpdate:modelValue":w[7]||(w[7]=h=>u.newItem.divider=h)},null,8,["hint","label","modelValue"])]),_:1}),t(S,{class:"pt-3 text-right"},{default:a(()=>[t(U,{variant:"text",icon:"mdi-cancel",onClick:w[8]||(w[8]=h=>m.value.reset())}),t(U,{variant:"text",icon:"mdi-plus",disabled:!u.newItem.name,onClick:w[9]||(w[9]=h=>n())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},Oe={__name:"SettingsPropsItem",props:{type:String,typeIdx:Number,section:String,prop:String,propDef:String,propHelp:String},setup(q){const e=q,o=G(),u=K(),m=K();function k(){o.app.config[e.type][e.typeIdx][e.section][e.prop]?o.app.config[e.type][e.typeIdx][e.section][e.prop].push(m.value):o.app.config[e.type][e.typeIdx][e.section][e.prop]=[m.value],u.value.reset()}function y(n){o.app.config[e.type][e.typeIdx][e.section][e.prop].splice(n,1),o.app.config[e.type][e.typeIdx][e.section][e.prop].length===0&&delete o.app.config[e.type][e.typeIdx][e.section][e.prop]}return(n,i)=>{const _=c("v-text-field"),x=c("v-col"),g=c("v-btn"),w=c("v-row"),U=c("v-list-item"),E=c("v-form"),V=c("v-list");return b(),C(V,null,{default:a(()=>[I(o).app.config[e.type][e.typeIdx][e.section][e.prop]?(b(),C(U,{key:0,class:"pa-0"},{default:a(()=>[(b(!0),H(j,null,W(I(o).app.config[e.type][e.typeIdx][e.section][e.prop],(S,$)=>(b(),C(w,{key:$,"no-gutters":"",class:"pt-3"},{default:a(()=>[t(x,null,{default:a(()=>[t(_,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+($+1),modelValue:I(o).app.config[e.type][e.typeIdx][e.section][e.prop][$],"onUpdate:modelValue":l=>I(o).app.config[e.type][e.typeIdx][e.section][e.prop][$]=l},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(x,{cols:"1",class:"text-right"},{default:a(()=>[t(g,{variant:"text",icon:"mdi-delete",onClick:l=>y($)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):A("",!0),t(U,{class:"pa-0"},{default:a(()=>[t(E,{ref_key:"form",ref:u},{default:a(()=>[t(w,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(x,null,{default:a(()=>[t(_,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=S=>m.value=S),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":i[1]||(i[1]=S=>I(o).help(q.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(x,{cols:"1",class:"text-right"},{default:a(()=>[t(g,{variant:"text",icon:"mdi-plus",disabled:!m.value,onClick:i[2]||(i[2]=S=>k())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},Ke={__name:"SettingsPropsList",props:{type:String,typeIdx:Number,section:String,extended:Boolean},setup(q){const e=q,o=G(),u={panel:[{type:"defs",show:["panels","extended.panels"],required:!0,prop:"devices",def:"key:fhem_device",help:"element-devices"},{type:"template",show:["panels","extended.panels"],required:!1,prop:"template",help:"element-template"},{type:"text",show:["templates"],required:!1,prop:"author",def:"text"},{type:"text",show:["templates"],required:!1,prop:"date",def:"text"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"navigation",def:"reading:value:route",help:"element-navigation"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"expandable",def:"reading:value:expandable:expanded:maximizable",help:"element-expandable"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"sortby",def:"reading:value:sortkey",help:"element-sortkey"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"show",def:"reading:value:show",help:"element-show"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"iconmap",def:"search:icon",help:"element-iconmap"}],status:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar2",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"imageUrl",def:"reading:value:url",help:"element-imageurl"},{type:"defs",show:["panels","extended.panels","templates"],required:!0,prop:"title",def:"reading:value:title",help:"element-title"}],info:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right2",def:"reading:value:text:icon:color",help:"element-info"}]},m=Y(()=>{let n=[],i=e.type==="panels"?e.extended?"extended.panels":"panels":"templates";for(const _ of u[e.section])_.show.indexOf(i)!==-1&&n.push(_);return n}),k=Y(()=>{let n=[];for(const i of o.app.config.templates)i.dist||n.push({title:i.name,value:i.name});n.sort((i,_)=>i.title>_.title?1:_.title>i.title?-1:0);for(const i of o.app.distTemplates)n.push({title:i+" ("+o.replacer("%t(_app.default)","")+")",value:i});return n});function y(n){let i={icon:n.required?"mdi-alert-circle":"mdi-chevron-down",color:n.required?"error":null},_=[e.type,e.typeIdx],x=[];return e.section==="panel"&&["template","date","author"].indexOf(n.prop)!==-1?_.push(n.prop):_.push(e.section,n.prop),x=o.getEl(o.app.config,_),x&&x.length>0&&(i={icon:"mdi-check",color:"success"}),i}return(n,i)=>{const _=c("v-btn"),x=c("v-list-item"),g=c("v-icon"),w=c("v-expansion-panel-title"),U=c("v-autocomplete"),E=c("v-text-field"),V=c("v-expansion-panel-text"),S=c("v-expansion-panel"),$=c("v-expansion-panels");return b(),H(j,null,[t(x,{title:n.$t("_app.settings.title")+" "+n.$t("_app.settings.props."+q.section)+" ("+n.$t("_app.settings."+q.type+".title")+": "+I(o).app.config[q.type][q.typeIdx].name+")"},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[0]||(i[0]=l=>I(o).help(q.section==="panel"?"panel-allgemein":q.section==="status"?"bereich-status":"bereich-info"))})]),_:1},8,["title"]),t(x,null,{default:a(()=>[t($,null,{default:a(()=>[(b(!0),H(j,null,W(m.value,l=>(b(),C(S,{key:l.prop},{default:a(()=>[t(w,null,{actions:a(({expanded:r})=>[t(g,{color:r?"":y(l).color,icon:r?"mdi-chevron-up":y(l).icon},null,8,["color","icon"])]),default:a(()=>[ee(te(l.prop)+" ",1)]),_:2},1024),t(V,null,{default:a(()=>[l.type==="defs"?(b(),C(Oe,{key:0,type:e.type,typeIdx:e.typeIdx,section:e.section,prop:l.prop,propDef:l.def,propHelp:l.help},null,8,["type","typeIdx","section","prop","propDef","propHelp"])):A("",!0),l.type==="template"?(b(),C(U,{key:1,modelValue:I(o).app.config.panels[e.typeIdx].template,"onUpdate:modelValue":i[1]||(i[1]=r=>I(o).app.config.panels[e.typeIdx].template=r),items:k.value,label:n.$t("_app.settings.templates.title"),disabled:I(o).app.config.templates.length===0,density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","items","label","disabled"])):A("",!0),l.type==="text"?(b(),C(E,{key:2,modelValue:I(o).app.config[e.type][e.typeIdx][l.prop],"onUpdate:modelValue":r=>I(o).app.config[e.type][e.typeIdx][l.prop]=r,density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:l.def,label:l.prop,class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])):A("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],64)}}},Te={__name:"SettingsPropsMainItem",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(q){const e=q,o=G(),u=K(),m=K();function k(){o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].push(m.value):o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=[m.value],u.value.reset()}function y(n){o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].splice(n,1),o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].length===0&&delete o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]}return(n,i)=>{const _=c("v-text-field"),x=c("v-col"),g=c("v-btn"),w=c("v-row"),U=c("v-list-item"),E=c("v-form"),V=c("v-list");return b(),C(V,null,{default:a(()=>[I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?(b(),C(U,{key:0,class:"pa-0"},{default:a(()=>[(b(!0),H(j,null,W(I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],(S,$)=>(b(),C(w,{key:$,"no-gutters":"",class:"pt-3"},{default:a(()=>[t(x,null,{default:a(()=>[t(_,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+($+1),modelValue:I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][$],"onUpdate:modelValue":l=>I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][$]=l},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(x,{cols:"1",class:"text-right"},{default:a(()=>[t(g,{variant:"text",icon:"mdi-delete",onClick:l=>y($)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):A("",!0),t(U,{class:"pa-0"},{default:a(()=>[t(E,{ref_key:"form",ref:u},{default:a(()=>[t(w,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(x,null,{default:a(()=>[t(_,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=S=>m.value=S),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":i[1]||(i[1]=S=>I(o).help(q.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(x,{cols:"1",class:"text-right"},{default:a(()=>[t(g,{variant:"text",icon:"mdi-plus",disabled:!m.value,onClick:i[2]||(i[2]=S=>k())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}};function oe(){return oe=Object.assign||function(q){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(q[u]=o[u])}return q},oe.apply(this,arguments)}var He=13,je=9,Me=8,Be=89,pe=90,Re=77,_e=57,be=219,xe=222,ke=192,We=27,we=100,Ye=3e3,Je=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),ge=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ge=Fe({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(e){e?this.codeData=e:this.codeData=""}},content:{immediate:!0,handler:function(){var e=this;this.lineNumbers&&this.$nextTick(function(){e.setLineNumbersHeight()})}},lineNumbers:function(){var e=this;this.$nextTick(function(){e.styleLineNumbers(),e.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var e=this.highlight(this.codeData)+"<br />";return e},lineNumbersCount:function(){var e=this.codeData.split(/\r\n|\n/).length;return e}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var e=this.$refs.pre,o=this.$el.querySelector(".prism-editor__line-numbers"),u=window.getComputedStyle(e);this.$nextTick(function(){var m="border-top-left-radius",k="border-bottom-left-radius";if(o){o.style[m]=u[m],o.style[k]=u[k],e.style[m]="0",e.style[k]="0";var y=["background-color","margin-top","padding-top","font-family","font-size","line-height"];y.forEach(function(n){o.style[n]=u[n]}),o.style["margin-bottom"]="-"+u["padding-top"]}})}},_recordCurrentState:function(){var e=this.$refs.textarea;if(e){var o=e.value,u=e.selectionStart,m=e.selectionEnd;this._recordChange({value:o,selectionStart:u,selectionEnd:m})}},_getLines:function(e,o){return e.substring(0,o).split(`
`)},_applyEdits:function(e){var o=this.$refs.textarea,u=this.history.stack[this.history.offset];u&&o&&(this.history.stack[this.history.offset]=oe({},u,{selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})),this._recordChange(e),this._updateInput(e)},_recordChange:function(e,o){o===void 0&&(o=!1);var u=this.history,m=u.stack,k=u.offset;if(m.length&&k>-1){this.history.stack=m.slice(0,k+1);var y=this.history.stack.length;if(y>we){var n=y-we;this.history.stack=m.slice(n,y),this.history.offset=Math.max(this.history.offset-n,0)}}var i=Date.now();if(o){var _=this.history.stack[this.history.offset];if(_&&i-_.timestamp<Ye){var x,g,w=/[^a-z0-9]([a-z0-9]+)$/i,U=(x=this._getLines(_.value,_.selectionStart).pop())===null||x===void 0?void 0:x.match(w),E=(g=this._getLines(e.value,e.selectionStart).pop())===null||g===void 0?void 0:g.match(w);if(U&&E&&E[1].startsWith(U[1])){this.history.stack[this.history.offset]=oe({},e,{timestamp:i});return}}}this.history.stack.push(oe({},e,{timestamp:i})),this.history.offset++},_updateInput:function(e){var o=this.$refs.textarea;o&&(o.value=e.value,o.selectionStart=e.selectionStart,o.selectionEnd=e.selectionEnd,this.$emit("update:modelValue",e.value))},handleChange:function(e){var o=e.target,u=o.value,m=o.selectionStart,k=o.selectionEnd;this._recordChange({value:u,selectionStart:m,selectionEnd:k},!0),this.$emit("update:modelValue",u)},_undoEdit:function(){var e=this.history,o=e.stack,u=e.offset,m=o[u-1];m&&(this._updateInput(m),this.history.offset=Math.max(u-1,0))},_redoEdit:function(){var e=this.history,o=e.stack,u=e.offset,m=o[u+1];m&&(this._updateInput(m),this.history.offset=Math.min(u+1,o.length-1))},handleKeyDown:function(e){var o=this.tabSize,u=this.insertSpaces,m=this.ignoreTabKey;if(this.$emit("keydown",e),!e.defaultPrevented){e.keyCode===We&&(e.target.blur(),this.$emit("blur",e));var k=e.target,y=k.value,n=k.selectionStart,i=k.selectionEnd,_=(u?" ":"	").repeat(o);if(e.keyCode===je&&!m&&this.capture)if(e.preventDefault(),e.shiftKey){var x=this._getLines(y,n),g=x.length-1,w=this._getLines(y,i).length-1,U=y.split(`
`).map(function(T,B){return B>=g&&B<=w&&T.startsWith(_)?T.substring(_.length):T}).join(`
`);if(y!==U){var E=x[g];this._applyEdits({value:U,selectionStart:E.startsWith(_)?n-_.length:n,selectionEnd:i-(y.length-U.length)})}}else if(n!==i){var V=this._getLines(y,n),S=V.length-1,$=this._getLines(y,i).length-1,l=V[S];this._applyEdits({value:y.split(`
`).map(function(T,B){return B>=S&&B<=$?_+T:T}).join(`
`),selectionStart:/\S/.test(l)?n+_.length:n,selectionEnd:i+_.length*($-S+1)})}else{var r=n+_.length;this._applyEdits({value:y.substring(0,n)+_+y.substring(i),selectionStart:r,selectionEnd:r})}else if(e.keyCode===Me){var d=n!==i,f=y.substring(0,n);if(f.endsWith(_)&&!d){e.preventDefault();var s=n-_.length;this._applyEdits({value:y.substring(0,n-_.length)+y.substring(i),selectionStart:s,selectionEnd:s})}}else if(e.keyCode===He){if(n===i){var p=this._getLines(y,n).pop(),h=p==null?void 0:p.match(/^\s+/);if(h&&h[0]){e.preventDefault();var v=`
`+h[0],F=n+v.length;this._applyEdits({value:y.substring(0,n)+v+y.substring(i),selectionStart:F,selectionEnd:F})}}}else if(e.keyCode===_e||e.keyCode===be||e.keyCode===xe||e.keyCode===ke){var D;e.keyCode===_e&&e.shiftKey?D=["(",")"]:e.keyCode===be?e.shiftKey?D=["{","}"]:D=["[","]"]:e.keyCode===xe?e.shiftKey?D=['"','"']:D=["'","'"]:e.keyCode===ke&&!e.shiftKey&&(D=["`","`"]),n!==i&&D&&(e.preventDefault(),this._applyEdits({value:y.substring(0,n)+D[0]+y.substring(n,i)+D[1]+y.substring(i),selectionStart:n,selectionEnd:i+2}))}else(ge?e.metaKey&&e.keyCode===pe:e.ctrlKey&&e.keyCode===pe)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),this._undoEdit()):(ge?e.metaKey&&e.keyCode===pe&&e.shiftKey:Je?e.ctrlKey&&e.keyCode===Be:e.ctrlKey&&e.keyCode===pe&&e.shiftKey)&&!e.altKey?(e.preventDefault(),this._redoEdit()):e.keyCode===Re&&e.ctrlKey&&(!ge||e.shiftKey)&&(e.preventDefault(),this.capture=!this.capture)}}},render:function(){var e=this,o=X("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),u=X("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[o,Array.from(Array(this.lineNumbersCount).keys()).map(function(n,i){return X("div",{class:"prism-editor__line-number token comment"},""+ ++i)})]),m=X("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(i){e.$emit("click",i)},onKeyup:function(i){e.$emit("keyup",i)},onFocus:function(i){e.$emit("focus",i)},onBlur:function(i){e.$emit("blur",i)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),k=X("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),y=X("div",{class:"prism-editor__container"},[m,k]);return X("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&u,y])}});var Se={exports:{}};(function(q){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var o=function(u){var m=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,k=0,y={},n={manual:u.Prism&&u.Prism.manual,disableWorkerMessageHandler:u.Prism&&u.Prism.disableWorkerMessageHandler,util:{encode:function l(r){return r instanceof i?new i(r.type,l(r.content),r.alias):Array.isArray(r)?r.map(l):r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(l){return Object.prototype.toString.call(l).slice(8,-1)},objId:function(l){return l.__id||Object.defineProperty(l,"__id",{value:++k}),l.__id},clone:function l(r,d){d=d||{};var f,s;switch(n.util.type(r)){case"Object":if(s=n.util.objId(r),d[s])return d[s];f={},d[s]=f;for(var p in r)r.hasOwnProperty(p)&&(f[p]=l(r[p],d));return f;case"Array":return s=n.util.objId(r),d[s]?d[s]:(f=[],d[s]=f,r.forEach(function(h,v){f[v]=l(h,d)}),f);default:return r}},getLanguage:function(l){for(;l;){var r=m.exec(l.className);if(r)return r[1].toLowerCase();l=l.parentElement}return"none"},setLanguage:function(l,r){l.className=l.className.replace(RegExp(m,"gi"),""),l.classList.add("language-"+r)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(f){var l=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(f.stack)||[])[1];if(l){var r=document.getElementsByTagName("script");for(var d in r)if(r[d].src==l)return r[d]}return null}},isActive:function(l,r,d){for(var f="no-"+r;l;){var s=l.classList;if(s.contains(r))return!0;if(s.contains(f))return!1;l=l.parentElement}return!!d}},languages:{plain:y,plaintext:y,text:y,txt:y,extend:function(l,r){var d=n.util.clone(n.languages[l]);for(var f in r)d[f]=r[f];return d},insertBefore:function(l,r,d,f){f=f||n.languages;var s=f[l],p={};for(var h in s)if(s.hasOwnProperty(h)){if(h==r)for(var v in d)d.hasOwnProperty(v)&&(p[v]=d[v]);d.hasOwnProperty(h)||(p[h]=s[h])}var F=f[l];return f[l]=p,n.languages.DFS(n.languages,function(D,T){T===F&&D!=l&&(this[D]=p)}),p},DFS:function l(r,d,f,s){s=s||{};var p=n.util.objId;for(var h in r)if(r.hasOwnProperty(h)){d.call(r,h,r[h],f||h);var v=r[h],F=n.util.type(v);F==="Object"&&!s[p(v)]?(s[p(v)]=!0,l(v,d,null,s)):F==="Array"&&!s[p(v)]&&(s[p(v)]=!0,l(v,d,h,s))}}},plugins:{},highlightAll:function(l,r){n.highlightAllUnder(document,l,r)},highlightAllUnder:function(l,r,d){var f={callback:d,container:l,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",f),f.elements=Array.prototype.slice.apply(f.container.querySelectorAll(f.selector)),n.hooks.run("before-all-elements-highlight",f);for(var s=0,p;p=f.elements[s++];)n.highlightElement(p,r===!0,f.callback)},highlightElement:function(l,r,d){var f=n.util.getLanguage(l),s=n.languages[f];n.util.setLanguage(l,f);var p=l.parentElement;p&&p.nodeName.toLowerCase()==="pre"&&n.util.setLanguage(p,f);var h=l.textContent,v={element:l,language:f,grammar:s,code:h};function F(T){v.highlightedCode=T,n.hooks.run("before-insert",v),v.element.innerHTML=v.highlightedCode,n.hooks.run("after-highlight",v),n.hooks.run("complete",v),d&&d.call(v.element)}if(n.hooks.run("before-sanity-check",v),p=v.element.parentElement,p&&p.nodeName.toLowerCase()==="pre"&&!p.hasAttribute("tabindex")&&p.setAttribute("tabindex","0"),!v.code){n.hooks.run("complete",v),d&&d.call(v.element);return}if(n.hooks.run("before-highlight",v),!v.grammar){F(n.util.encode(v.code));return}if(r&&u.Worker){var D=new Worker(n.filename);D.onmessage=function(T){F(T.data)},D.postMessage(JSON.stringify({language:v.language,code:v.code,immediateClose:!0}))}else F(n.highlight(v.code,v.grammar,v.language))},highlight:function(l,r,d){var f={code:l,grammar:r,language:d};if(n.hooks.run("before-tokenize",f),!f.grammar)throw new Error('The language "'+f.language+'" has no grammar.');return f.tokens=n.tokenize(f.code,f.grammar),n.hooks.run("after-tokenize",f),i.stringify(n.util.encode(f.tokens),f.language)},tokenize:function(l,r){var d=r.rest;if(d){for(var f in d)r[f]=d[f];delete r.rest}var s=new g;return w(s,s.head,l),x(l,s,r,s.head,0),E(s)},hooks:{all:{},add:function(l,r){var d=n.hooks.all;d[l]=d[l]||[],d[l].push(r)},run:function(l,r){var d=n.hooks.all[l];if(!(!d||!d.length))for(var f=0,s;s=d[f++];)s(r)}},Token:i};u.Prism=n;function i(l,r,d,f){this.type=l,this.content=r,this.alias=d,this.length=(f||"").length|0}i.stringify=function l(r,d){if(typeof r=="string")return r;if(Array.isArray(r)){var f="";return r.forEach(function(F){f+=l(F,d)}),f}var s={type:r.type,content:l(r.content,d),tag:"span",classes:["token",r.type],attributes:{},language:d},p=r.alias;p&&(Array.isArray(p)?Array.prototype.push.apply(s.classes,p):s.classes.push(p)),n.hooks.run("wrap",s);var h="";for(var v in s.attributes)h+=" "+v+'="'+(s.attributes[v]||"").replace(/"/g,"&quot;")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'"'+h+">"+s.content+"</"+s.tag+">"};function _(l,r,d,f){l.lastIndex=r;var s=l.exec(d);if(s&&f&&s[1]){var p=s[1].length;s.index+=p,s[0]=s[0].slice(p)}return s}function x(l,r,d,f,s,p){for(var h in d)if(!(!d.hasOwnProperty(h)||!d[h])){var v=d[h];v=Array.isArray(v)?v:[v];for(var F=0;F<v.length;++F){if(p&&p.cause==h+","+F)return;var D=v[F],T=D.inside,B=!!D.lookbehind,J=!!D.greedy,le=D.alias;if(J&&!D.pattern.global){var ne=D.pattern.toString().match(/[imsuy]*$/)[0];D.pattern=RegExp(D.pattern.source,ne+"g")}for(var P=D.pattern||D,L=f.next,M=s;L!==r.tail&&!(p&&M>=p.reach);M+=L.value.length,L=L.next){var Z=L.value;if(r.length>l.length)return;if(!(Z instanceof i)){var N=1,R;if(J){if(R=_(P,M,l,B),!R||R.index>=l.length)break;var ie=R.index,ce=R.index+R[0].length,Q=M;for(Q+=L.value.length;ie>=Q;)L=L.next,Q+=L.value.length;if(Q-=L.value.length,M=Q,L.value instanceof i)continue;for(var ae=L;ae!==r.tail&&(Q<ce||typeof ae.value=="string");ae=ae.next)N++,Q+=ae.value.length;N--,Z=l.slice(M,Q),R.index-=M}else if(R=_(P,0,Z,B),!R)continue;var ie=R.index,re=R[0],me=Z.slice(0,ie),he=Z.slice(ie+re.length),fe=M+Z.length;p&&fe>p.reach&&(p.reach=fe);var se=L.prev;me&&(se=w(r,se,me),M+=me.length),U(r,se,N);var Ee=new i(h,T?n.tokenize(re,T):re,le,re);if(L=w(r,se,Ee),he&&w(r,L,he),N>1){var ve={cause:h+","+F,reach:fe};x(l,r,d,L.prev,M,ve),p&&ve.reach>p.reach&&(p.reach=ve.reach)}}}}}}function g(){var l={value:null,prev:null,next:null},r={value:null,prev:l,next:null};l.next=r,this.head=l,this.tail=r,this.length=0}function w(l,r,d){var f=r.next,s={value:d,prev:r,next:f};return r.next=s,f.prev=s,l.length++,s}function U(l,r,d){for(var f=r.next,s=0;s<d&&f!==l.tail;s++)f=f.next;r.next=f,f.prev=r,l.length-=s}function E(l){for(var r=[],d=l.head.next;d!==l.tail;)r.push(d.value),d=d.next;return r}if(!u.document)return u.addEventListener&&(n.disableWorkerMessageHandler||u.addEventListener("message",function(l){var r=JSON.parse(l.data),d=r.language,f=r.code,s=r.immediateClose;u.postMessage(n.highlight(f,n.languages[d],d)),s&&u.close()},!1)),n;var V=n.util.currentScript();V&&(n.filename=V.src,V.hasAttribute("data-manual")&&(n.manual=!0));function S(){n.manual||n.highlightAll()}if(!n.manual){var $=document.readyState;$==="loading"||$==="interactive"&&V&&V.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return n}(e);q.exports&&(q.exports=o),typeof ye<"u"&&(ye.Prism=o)})(Se);var $e=Se.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Ze={__name:"SettingsPropsMainJson",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(q){const e=q,o=G(),u=K(null),m=K(null);function k(n){return $e.highlight(n,$e.languages.js)}function y(){let n=o.stringToJson(u.value,!0);m.value=n.error,m.value||(o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=n.result)}return u.value=JSON.stringify(o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],null,"	"),(n,i)=>{const _=c("v-alert"),x=c("v-card");return b(),C(x,{variant:m.value?"tonal":"outlined",color:m.value?"error":"",class:"pa-1 mt-2"},{default:a(()=>[t(I(Ge),{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=g=>u.value=g),highlight:k,"line-numbers":"",onInput:y},null,8,["modelValue"]),m.value?(b(),C(_,{key:0,color:"error",density:"compact"},{default:a(()=>[ee(te(m.value),1)]),_:1})):A("",!0)]),_:1},8,["variant","color"])}}},Qe={__name:"SettingsPropsMain",props:{type:String,typeIdx:Number,section:String},setup(q){const e=q,o=[{name:"level",cols:12,color:"orange"},{name:"left1",color:"orange"},{name:"left2",color:"orange"},{name:"mid",color:"orange"},{name:"right1",color:"orange"},{name:"right2",color:"orange"}],u=[{title:"none",value:null},{title:"button",value:"btn"},{title:"info",value:"info"},{title:"slider",value:"slider"},{title:"image",value:"image"},{title:"menu",value:"menu"},{title:"chart",value:"chart"}],m={level:[{type:"defs",required:!1,prop:"show",def:"reading:value:show",help:"main-element-show"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"main-element-divider"},{type:"defs",required:!1,prop:"height",def:"reading:value:height",help:"main-element-height"},{type:"types",required:!1,prop:"left1",help:"main-element-typ"},{type:"types",required:!1,prop:"left2",help:"main-element-typ"},{type:"types",required:!1,prop:"mid",help:"main-element-typ"},{type:"types",required:!1,prop:"right1",help:"main-element-typ"},{type:"types",required:!1,prop:"right2",help:"main-element-typ"}],btn:[{type:"defs",required:!1,prop:"btn",def:"reading:value:icon:disabled:color:variant",help:"level-element-button-btn"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse",help:"level-element-button-status"},{type:"defs",required:!1,prop:"click",def:"reading:value:cmd:type",help:"level-element-button-click"},{type:"defs",required:!1,prop:"longClick",def:"reading:value:cmd:type",help:"level-element-button-longClick"},{type:"defs",required:!1,prop:"longRelease",def:"reading:value:cmd:type",help:"level-element-button-longRelease"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],slider:[{type:"defs",required:!1,prop:"slider",def:"reading:value:cmd:current:color:min:max:steps:reverse:size:vertical",help:"level-element-slider-slider"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],image:[{type:"defs",required:!1,prop:"image",def:"reading:value:source:height",help:"level-element-image-image"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],menu:[{type:"defs",required:!1,prop:"menu",def:"reading:value:name:cmd",help:"level-element-menu-menu"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],info:[{type:"defs",required:!1,prop:"text",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"icon",def:"reading:value:icon:color:size",help:"level-element-info-icon"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse:linear",help:"level-element-info-status"},{type:"defs",required:!1,prop:"text2",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"text3",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],chart:[{type:"defs",required:!1,prop:"serie",def:"reading:value:data:name:digits:suffix:type",help:"level-element-chart-serie"},{type:"json",required:!1,prop:"options",def:"",help:"level-element-chart-options"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}]},k=G(),y=K(0);function n($){return!k.app.config[e.type][e.typeIdx][e.section][x.value-1].level[$]&&$!=="level"}const i=Y(()=>k.app.config[e.type][e.typeIdx][e.section][x.value-1].level[o[y.value].name]),_=Y(()=>{if(y.value!==0){let $=i.value;if($)return m[$]}return m[o[y.value].name]}),x=K(1),g=Y(()=>k.app.config[e.type][e.typeIdx][e.section]?k.app.config[e.type][e.typeIdx][e.section].length:1);function w($,l){$?(k.app.config[e.type][e.typeIdx][e.section][x.value-1][l]={},$==="chart"&&(k.app.config[e.type][e.typeIdx][e.section][x.value-1][l].options={})):delete k.app.config[e.type][e.typeIdx][e.section][x.value-1][l]}function U(){k.app.config[e.type][e.typeIdx][e.section].push({level:{}}),x.value=g.value}function E(){k.app.config[e.type][e.typeIdx][e.section].splice(x.value-1,1),x.value=g.value}function V($){let l={icon:"mdi-alert-circle",color:"error"};if(n($))return{icon:"",color:""};if(k.app.config[e.type][e.typeIdx][e.section][x.value-1][$])for(const r of Object.keys(k.app.config[e.type][e.typeIdx][e.section][x.value-1][$]))k.app.config[e.type][e.typeIdx][e.section][x.value-1][$][r]&&(l.icon="mdi-check",l.color="green-darken-1");return l}function S($){let l={icon:$.required?"mdi-alert-circle":"mdi-chevron-down",color:$.required?"error":null},r=[e.type,e.typeIdx,e.section,x.value-1,o[y.value].name,$.prop],d=[];return d=k.getEl(k.app.config,r),d&&d.length>0&&(l={icon:"mdi-check",color:"success"}),l}return($,l)=>{const r=c("v-btn"),d=c("v-list-item"),f=c("v-icon"),s=c("v-card"),p=c("v-item"),h=c("v-col"),v=c("v-row"),F=c("v-item-group"),D=c("v-expansion-panel-title"),T=c("v-autocomplete"),B=c("v-expansion-panel-text"),J=c("v-expansion-panel"),le=c("v-expansion-panels"),ne=c("v-pagination");return b(),H(j,null,[t(d,{title:$.$t("_app.settings.title")+" "+$.$t("_app.settings.props.main")+" ("+$.$t("_app.settings."+e.type+".title")+": "+I(k).app.config[e.type][e.typeIdx].name+")"},{append:a(()=>[t(r,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:l[0]||(l[0]=P=>I(k).help("bereich-main"))})]),_:1},8,["title"]),t(d,null,{default:a(()=>[t(F,{modelValue:y.value,"onUpdate:modelValue":l[1]||(l[1]=P=>y.value=P),mandatory:""},{default:a(()=>[t(v,{class:"text-center","no-gutters":""},{default:a(()=>[(b(),H(j,null,W(o,P=>qe(t(h,{key:P.name,cols:P.cols},{default:a(()=>[t(p,null,{default:a(({isSelected:L,toggle:M})=>[t(s,{color:L?P.color:P.color+"-lighten-5",subtitle:$.$t("_app.settings.props."+P.name),class:"ma-1 pa-0",variant:"flat",onClick:M},{prepend:a(()=>[t(f)]),append:a(()=>[t(f,{icon:V(P.name).icon,color:V(P.name).color},null,8,["icon","color"])]),_:2},1032,["color","subtitle","onClick"])]),_:2},1024)]),_:2},1032,["cols"]),[[Ue,!n(P.name)]])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,null,{default:a(()=>[t(le,null,{default:a(()=>[(b(!0),H(j,null,W(_.value,P=>(b(),C(J,{key:P.prop},{default:a(()=>[t(D,null,{actions:a(({expanded:L})=>[t(f,{color:L?"":S(P).color,icon:L?"mdi-chevron-up":S(P).icon},null,8,["color","icon"])]),default:a(()=>[ee(te(i.value?i.value+"-":"")+te(P.prop)+" ",1)]),_:2},1024),t(B,null,{default:a(()=>[P.type==="types"?(b(),C(T,{key:0,modelValue:I(k).app.config[e.type][e.typeIdx][e.section][x.value-1].level[P.prop],"onUpdate:modelValue":[L=>I(k).app.config[e.type][e.typeIdx][e.section][x.value-1].level[P.prop]=L,L=>w(L,P.prop)],items:u,label:$.$t("_app.settings.props.type"),density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","label"])):A("",!0),P.type==="json"?(b(),C(Ze,{key:1,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:x.value-1,mainSection:o[y.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):A("",!0),P.type==="defs"?(b(),C(Te,{key:2,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:x.value-1,mainSection:o[y.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):A("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(d,null,{default:a(()=>[t(v,{"no-gutters":""},{default:a(()=>[t(h,null,{default:a(()=>[t(ne,{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=P=>x.value=P),length:g.value,"total-visible":"5",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),t(h,{cols:"2",class:"text-right"},{default:a(()=>[t(r,{variant:"text",icon:"mdi-plus",onClick:l[3]||(l[3]=P=>U())}),t(r,{variant:"text",icon:"mdi-delete",disabled:g.value<2,onClick:l[4]||(l[4]=P=>E())},null,8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}},Ve={__name:"SettingsProps",props:{type:String},setup(q){const e=q,o=G(),{mobile:u}=de(),m="_app.settings."+e.type+".",k=[{section:"panel",color:"grey"},{section:"status",color:"green"},{section:"main",height:80,color:"orange"},{section:"info",color:"blue"}],y=K(0),n=Y(()=>{let s=[];for(const p of o.app.config[e.type])p.dist||s.push(p.name);return s.sort((p,h)=>p>h?1:h>p?-1:0),s}),i=K(n.value[0]),_=Y(()=>o.app.config[e.type].map(s=>s.name).indexOf(i.value)),x=K(null),g=K(null);function w(s){g.value=s}const U=Y(()=>{let s=[];for(const p of o.app.config.panels)p.template===i.value&&s.push(p.name);return s.sort((p,h)=>p>h?1:h>p?-1:0),w(s[0]),s}),E=K(!0),V=K("panel"),S=K(e.type!=="panels"),$=K(!1),l={required:s=>!!s||o.replacer("%t(_app.settings.rules.required)"),uniqe:s=>n.value.indexOf(s)===-1||o.replacer("%t(_app.settings.rules.panelUniqe)")};function r(){let s=o.app.panelList.map(p=>p.name).indexOf(e.type==="templates"?g.value:i.value);return s!==-1?o.app.panelList[s]:null}function d(){o.app.config[e.type].splice(_.value,1),i.value=o.app.config[e.type].length>0?o.app.config[e.type][0].name:"",S.value=e.type!=="panels",y.value=0}function f(){let s={name:i.value,template:null,panel:{},status:{},main:[{level:{}}],info:{}},p={name:i.value,author:null,date:null,panel:{},status:{},main:[{level:{}}],info:{}};o.app.config[e.type].push(e.type==="panels"?s:p)}return(s,p)=>{const h=c("v-btn"),v=c("v-list-item"),F=c("v-col"),D=c("v-divider"),T=c("v-switch"),B=c("v-autocomplete"),J=c("v-row"),le=c("v-text-field"),ne=c("v-form"),P=c("v-card"),L=c("v-item"),M=c("v-item-group"),Z=c("v-list");return b(),C(Z,null,{default:a(()=>[t(J,{"no-gutters":""},{default:a(()=>[_.value===-1?(b(),C(F,{key:0},{default:a(()=>[t(v,{title:s.$t(m+"title")},{append:a(()=>[t(h,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:p[0]||(p[0]=N=>I(o).help(e.type==="panels"?"panels":"vorlagen"))})]),_:1},8,["title"])]),_:1})):A("",!0),_.value!==-1?(b(),C(F,{key:1},{default:a(()=>[k[y.value].section!=="main"?(b(),C(Ke,{key:0,type:q.type,typeIdx:_.value,section:k[y.value].section,extended:S.value},null,8,["type","typeIdx","section","extended"])):A("",!0),k[y.value].section==="main"?(b(),C(Qe,{key:1,type:q.type,typeIdx:_.value,section:k[y.value].section},null,8,["type","typeIdx","section"])):A("",!0)]),_:1})):A("",!0),t(D,{vertical:!I(u)},null,8,["vertical"]),t(F,{cols:"12",lg:"4"},{default:a(()=>[e.type==="panels"?(b(),C(v,{key:0,class:"pa-0"},{default:a(()=>[t(T,{modelValue:S.value,"onUpdate:modelValue":[p[1]||(p[1]=N=>S.value=N),p[2]||(p[2]=N=>N?null:y.value=0)],label:s.$t("_app.settings.panels.extendedSettings"),color:"blue","hide-details":"",class:"ml-4"},null,8,["modelValue","label"])]),_:1})):A("",!0),t(v,null,{default:a(()=>[E.value?(b(),C(J,{key:0,"no-gutters":"",class:"pt-1"},{default:a(()=>[t(F,{cols:"8",class:"pt-1"},{default:a(()=>[t(B,{modelValue:i.value,"onUpdate:modelValue":p[3]||(p[3]=N=>i.value=N),items:n.value,label:s.$t(m+"title"),disabled:n.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),t(F,{class:"text-right"},{default:a(()=>[t(h,{variant:"text",icon:"mdi-plus",onClick:p[4]||(p[4]=N=>{E.value=!E.value,x.value=i.value,i.value=null})}),t(h,{variant:"text",icon:"mdi-delete",disabled:_.value===-1,onClick:p[5]||(p[5]=N=>d())},null,8,["disabled"])]),_:1})]),_:1})):A("",!0),t(ne,{modelValue:$.value,"onUpdate:modelValue":p[9]||(p[9]=N=>$.value=N)},{default:a(()=>[E.value?A("",!0):(b(),C(J,{key:0,"no-gutters":"",class:"pt-1"},{default:a(()=>[t(F,{cols:"8",class:"pt-1"},{default:a(()=>[t(le,{modelValue:i.value,"onUpdate:modelValue":p[6]||(p[6]=N=>i.value=N),label:s.$t(m+"title"),rules:[l.required,l.uniqe],density:"compact",variant:"outlined"},null,8,["modelValue","label","rules"])]),_:1}),t(F,{class:"text-right"},{default:a(()=>[t(h,{variant:"text",icon:"mdi-check",disabled:!$.value,onClick:p[7]||(p[7]=N=>{f(),E.value=!E.value})},null,8,["disabled"]),t(h,{variant:"text",icon:"mdi-cancel",onClick:p[8]||(p[8]=N=>{E.value=!E.value,i.value=x.value})})]),_:1})]),_:1}))]),_:1},8,["modelValue"]),S.value?(b(),C(M,{key:1,modelValue:y.value,"onUpdate:modelValue":p[10]||(p[10]=N=>y.value=N),mandatory:""},{default:a(()=>[t(J,{class:"text-center pb-3","no-gutters":""},{default:a(()=>[(b(),H(j,null,W(k,N=>t(F,{key:N.section,cols:"12"},{default:a(()=>[t(L,null,{default:a(({isSelected:R,toggle:ce})=>[t(P,{subtitle:s.$t("_app.settings.props."+N.section),color:R?N.color:N.color+"-lighten-5",variant:"flat",class:"ma-1 pa-0",height:N.height,onClick:ce},null,8,["subtitle","color","height","onClick"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["modelValue"])):A("",!0),t(D,{class:"pb-3"}),e.type==="templates"?(b(),C(J,{key:2,"no-gutters":""},{default:a(()=>[t(F,{cols:"8",class:"pt-1"},{default:a(()=>[t(B,{modelValue:g.value,"onUpdate:modelValue":p[11]||(p[11]=N=>g.value=N),items:U.value,label:s.$t("_app.settings.panels.preview"),disabled:n.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),t(F,{class:"text-right"},{default:a(()=>[t(h,{variant:"text",icon:V.value==="panel"?"mdi-code-json":"mdi-view-day",onClick:p[12]||(p[12]=N=>V.value=V.value==="panel"?"json":"panel")},null,8,["icon"])]),_:1})]),_:1})):A("",!0),I(o).app.isReady&&r()?(b(),C(J,{key:3,"no-gutters":""},{default:a(()=>[V.value==="panel"?(b(),C(F,{key:0},{default:a(()=>[t(ze,{panel:r()},null,8,["panel"])]),_:1})):A("",!0),V.value==="json"?(b(),C(F,{key:1},{default:a(()=>[t(I(De),{data:r(),deep:1,showLine:!1},null,8,["data"])]),_:1})):A("",!0)]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}},Ie="_app.settings.colors.",Xe={__name:"SettingsColors",setup(q){const{mobile:e}=de(),o=G(),u=K(),m=Y(()=>Object.keys(o.app.config.colors)),k=Y(()=>{let i=[];for(const _ of m.value)for(const x of Object.keys(o.app.config.colors[_]))i.indexOf(x)===-1&&i.push(x);return i});function y(){o.app.config.colors.dark||(o.app.config.colors.dark={}),o.app.config.colors.light||(o.app.config.colors.light={}),o.app.config.colors.dark[u.value]="#E0E0E0",o.app.config.colors.light[u.value]="#E0E0E0",u.value=null}function n(i){for(const _ of m.value)delete o.app.config.colors[_][i]}return(i,_)=>{const x=c("v-btn"),g=c("v-list-item"),w=c("v-color-picker"),U=c("v-spacer"),E=c("v-card-actions"),V=c("v-card"),S=c("v-dialog"),$=c("v-col"),l=c("v-divider"),r=c("v-row"),d=c("v-text-field"),f=c("v-list");return b(),C(f,null,{default:a(()=>[t(g,{title:i.$t(Ie+"title",2)},{append:a(()=>[t(x,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:_[0]||(_[0]=s=>I(o).help("farben"))})]),_:1},8,["title"]),t(g,null,{default:a(()=>[t(r,{"no-gutters":"",class:"text-right"},{default:a(()=>[t($,null,{default:a(()=>[(b(!0),H(j,null,W(k.value,s=>(b(),C(r,{key:s,"no-gutters":"",class:"pt-3"},{default:a(()=>[(b(!0),H(j,null,W(m.value,p=>(b(),C($,{key:p,cols:"12",lg:"",class:"pa-2"},{default:a(()=>[t(S,{width:"350"},{activator:a(({props:h})=>[t(x,Ae({text:s+" ["+p+"] "+(I(o).app.config.colors[p][s]||""),color:I(o).app.config.colors[p][s],modelValue:I(o).app.config.colors[p][s],"onUpdate:modelValue":v=>I(o).app.config.colors[p][s]=v,size:"large",width:"350"},h),null,16,["text","color","modelValue","onUpdate:modelValue"])]),default:a(({isActive:h})=>[t(V,null,{default:a(()=>[t(w,{modelValue:I(o).app.config.colors[p][s],"onUpdate:modelValue":v=>I(o).app.config.colors[p][s]=v,"show-swatches":"",mode:"hexa",width:"350",elevation:"0","swatches-max-height":"400px"},null,8,["modelValue","onUpdate:modelValue"]),t(E,null,{default:a(()=>[t(U),t(x,{onClick:v=>h.value=!1},{default:a(()=>[ee("ok")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t($,{cols:"12",lg:"1",class:"pt-1"},{default:a(()=>[t(x,{variant:"text",icon:"mdi-delete",onClick:p=>n(s)},null,8,["onClick"])]),_:2},1024),I(e)?(b(),C(l,{key:0})):A("",!0)]),_:2},1024))),128))]),_:1}),I(e)?A("",!0):(b(),C(l,{key:0,vertical:"",class:"mx-5"})),t($,{cols:"12",lg:"3"},{default:a(()=>[t(r,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t($,{class:"pt-2"},{default:a(()=>[t(d,{density:"compact",variant:"outlined",clearable:"",label:i.$t(Ie+"newKey"),modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=s=>u.value=s)},null,8,["label","modelValue"])]),_:1}),t($,{cols:"3",class:"pt-1"},{default:a(()=>[t(x,{variant:"text",icon:"mdi-plus",onClick:_[2]||(_[2]=s=>y())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ue="_app.settings.content.",et={__name:"SettingsContent",setup(q){const{mobile:e}=de(),o=G(),u=K(),m=K(),k=K(!1),y=K(!1),n=Y(()=>Object.keys(o.app.config.content)),i=Y(()=>{let E=[];for(const V of n.value)for(const S of Object.keys(o.app.config.content[V]))E.indexOf(S)===-1&&E.push(S);return E}),_={iso639code:E=>/^[a-z]{2}$/.test(E)||o.replacer("%t(_app.settings.rules.iso639code)")};function x(){o.app.config.content[n.value[0]][u.value]="",u.value=null}function g(){o.app.config.content[m.value]={},m.value=null,k.value=!1}function w(){delete o.app.config.content[m.value],m.value=null}function U(E){for(const V of n.value)delete o.app.config.content[V][E]}return(E,V)=>{const S=c("v-btn"),$=c("v-list-item"),l=c("v-text-field"),r=c("v-col"),d=c("v-divider"),f=c("v-row"),s=c("v-autocomplete"),p=c("v-form"),h=c("v-list");return b(),C(h,null,{default:a(()=>[t($,{title:E.$t(ue+"title",2)},{append:a(()=>[t(S,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:V[0]||(V[0]=v=>I(o).help("sprachen"))})]),_:1},8,["title"]),t($,null,{default:a(()=>[t(f,{"no-gutters":"",class:"text-right"},{default:a(()=>[t(r,null,{default:a(()=>[(b(!0),H(j,null,W(i.value,v=>(b(),C(f,{key:v,"no-gutters":"",class:"pt-3"},{default:a(()=>[(b(!0),H(j,null,W(n.value,F=>(b(),C(r,{key:F,cols:"12",lg:"",class:"pa-2"},{default:a(()=>[t(l,{density:"compact",variant:"outlined","hide-details":"",clearable:"",label:v+" ["+F+"]",modelValue:I(o).app.config.content[F][v],"onUpdate:modelValue":D=>I(o).app.config.content[F][v]=D},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),t(r,{cols:"12",lg:"1",class:"pt-1"},{default:a(()=>[t(S,{variant:"text",icon:"mdi-delete",onClick:F=>U(v)},null,8,["onClick"])]),_:2},1024),I(e)?(b(),C(d,{key:0})):A("",!0)]),_:2},1024))),128))]),_:1}),I(e)?A("",!0):(b(),C(d,{key:0,vertical:"",class:"mx-5"})),t(r,{cols:"12",lg:"3"},{default:a(()=>[t(f,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(r,{class:"pt-2"},{default:a(()=>[t(l,{density:"compact",variant:"outlined",clearable:"",disabled:n.value.length<1,label:E.$t(ue+"newKey"),modelValue:u.value,"onUpdate:modelValue":V[1]||(V[1]=v=>u.value=v)},null,8,["disabled","label","modelValue"])]),_:1}),t(r,{cols:"4",class:"pt-1"},{default:a(()=>[t(S,{variant:"text",icon:"mdi-plus",disabled:n.value.length<1,onClick:V[2]||(V[2]=v=>x())},null,8,["disabled"])]),_:1})]),_:1}),t(p,{modelValue:y.value,"onUpdate:modelValue":V[10]||(V[10]=v=>y.value=v)},{default:a(()=>[t(f,{"no-gutters":""},{default:a(()=>[k.value?(b(),C(r,{key:0},{default:a(()=>[t(l,{density:"compact",variant:"outlined",clearable:"",label:E.$t(ue+"newLang"),rules:[_.iso639code],"append-inner-icon":"mdi-help-circle","onClick:appendInner":V[3]||(V[3]=v=>E.openHelp("Sprachcodes")),modelValue:m.value,"onUpdate:modelValue":V[4]||(V[4]=v=>m.value=v)},null,8,["label","rules","modelValue"])]),_:1})):A("",!0),k.value?(b(),C(r,{key:1,cols:"4"},{default:a(()=>[t(S,{variant:"text",icon:"mdi-check",disabled:!y.value,onClick:V[5]||(V[5]=v=>g())},null,8,["disabled"]),t(S,{variant:"text",icon:"mdi-cancel",onClick:V[6]||(V[6]=v=>{k.value=!k.value,m.value=null})})]),_:1})):A("",!0),k.value?A("",!0):(b(),C(r,{key:2},{default:a(()=>[t(s,{modelValue:m.value,"onUpdate:modelValue":V[7]||(V[7]=v=>m.value=v),items:n.value,label:E.$t(ue+"title"),disabled:n.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})),k.value?A("",!0):(b(),C(r,{key:3,cols:"4"},{default:a(()=>[t(S,{variant:"text",icon:"mdi-plus",onClick:V[8]||(V[8]=v=>{k.value=!k.value,m.value=null})}),t(S,{variant:"text",icon:"mdi-delete",disabled:n.value.length===0||n.value.indexOf(m.value)===-1,onClick:V[9]||(V[9]=v=>w())},null,8,["disabled"])]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},at={__name:"SettingsView",setup(q){const e=["header","panels","templates","navigation","colors","content"],o=K(e[0]),u=K(!1),m=G();Pe(m.app.config,y=>{y&&m.app.isReady&&(u.value=!0)});async function k(y){let n=null;if(y){for(const[i,_]of Object.entries(m.app.config.templates))_.dist&&m.app.config.templates.splice(i,1);n=encodeURIComponent(btoa(JSON.stringify(m.app.config))),await m.request("text","set "+m.app.fhemDevice+" config "+n)}await m.createSession(),u.value=!1}return(y,n)=>{const i=c("v-toolbar-title"),_=c("v-btn"),x=c("v-toolbar"),g=c("v-tab"),w=c("v-tabs"),U=c("v-card");return b(),C(U,null,{default:a(()=>[t(x,null,{append:a(()=>[u.value?(b(),C(_,{key:0,icon:"mdi-cancel",onClick:n[0]||(n[0]=E=>k(!1))})):A("",!0),t(_,{disabled:!u.value,icon:"mdi-content-save-outline",onClick:n[1]||(n[1]=E=>k(!0))},null,8,["disabled"])]),default:a(()=>[t(i,null,{default:a(()=>[ee(te(y.$t("_app.settings.title")),1)]),_:1})]),_:1}),t(w,{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=E=>o.value=E)},{default:a(()=>[(b(),H(j,null,W(e,E=>t(g,{value:E,key:E},{default:a(()=>[ee(te(y.$t("_app.settings."+E+".title",2)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),o.value==="header"?(b(),C(Ne,{key:0})):A("",!0),o.value==="navigation"?(b(),C(Le,{key:1})):A("",!0),o.value==="panels"?(b(),C(Ve,{key:2,type:o.value},null,8,["type"])):A("",!0),o.value==="templates"?(b(),C(Ve,{key:3,type:o.value},null,8,["type"])):A("",!0),o.value==="colors"?(b(),C(Xe,{key:4})):A("",!0),o.value==="content"?(b(),C(et,{key:5})):A("",!0)]),_:1})}}};export{at as default};
