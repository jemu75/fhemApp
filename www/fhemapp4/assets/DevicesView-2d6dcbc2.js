import{r as a,o as e,c as h,a as A,b as t,w as l,d as u,e as I,t as f,f as o,F as P,u as $,g as c,h as U,i as Y}from"./index-be78535b.js";const Z={__name:"PanelMain",props:{main:Object,levels:Array},setup(_){const r=_;return(d,x)=>{const i=a("v-sheet"),v=a("v-col"),p=a("v-row"),V=a("v-expand-transition");return e(!0),h(P,null,A(_.main,(m,g)=>(e(),h("div",{key:g},[t(V,null,{default:l(()=>[r.levels.indexOf(g)!==-1?(e(),u(p,{key:0,"no-gutters":"",class:"text-center align-center"},{default:l(()=>[t(i,{height:"68px"}),t(v,null,{default:l(()=>[I(f(g)+" "+f(m.level),1)]),_:2},1024)]),_:2},1024)):o("",!0)]),_:2},1024)]))),128)}}},ee={key:1},te={key:3},le={key:1},ne={key:3},ae={key:1},oe={key:3},se={__name:"PanelCard",props:{panel:Object},setup(_){const r=$(),d=_;function x(s){let n=r.handleDefs(d.panel.status[s],["level","color","reverse","min","max"],[0,"success",!1,0,100]);return n.level=Math.round((n.level-n.min)/(n.max-n.min)*100),n.reverse=!!n.reverse,n}const i=c(()=>x("bar")),v=c(()=>x("bar2")),p=c(()=>r.handleDefs(d.panel.status.imageUrl,["url"],[""])),V=c(()=>r.handleDefs(d.panel.status.title,["title"],[""])),m=c(()=>r.handleDefs(d.panel.panel.expandable,["expandable","expanded"],[!1,!1])),g=U(m.value.expanded),E=c(()=>{let s="";return m.value.expandable?s=g.value?"mdi-arrow-collapse":"mdi-arrow-expand":s="mdi-swap-vertical",s}),y=c(()=>{let s=[];for(const[n,M]of Object.entries(d.panel.main))r.handleDefs(M.level.show,["show"],[!0]).show&&s.push(Number(n));return s}),N=U(!1);function G(){N.value=!1}function T(){m.value.expandable?g.value=!g.value:N.value=!0}const j=c(()=>{let s=[],n=-1;return m.value.expandable?s=g.value?y.value:[y.value[0]]:N.value?(n=y.value.indexOf(j.value?j.value[0]:null),s=n===-1||n===y.value.length-1?[y.value[0]]:[y.value[n+1]],G()):s=[y.value[0]],s});function w(s){return r.handleDefs(d.panel.info[s],["text","icon","color"],["","",null])}const D=c(()=>w("left1")),z=c(()=>w("left2")),C=c(()=>w("mid1")),L=c(()=>w("mid2")),O=c(()=>w("right1")),B=c(()=>w("right2"));return(s,n)=>{const M=a("v-progress-linear"),k=a("v-col"),F=a("v-row"),q=a("v-spacer"),H=a("v-btn"),J=a("v-card-title"),K=a("v-img"),S=a("v-sheet"),Q=a("v-divider"),b=a("v-icon"),W=a("v-card-text"),X=a("v-card");return e(),u(X,{variant:"tonal"},{default:l(()=>[t(F,{"no-gutters":""},{default:l(()=>[_.panel.status.bar?(e(),u(k,{key:0},{default:l(()=>[t(M,{height:"7",modelValue:i.value.level,"onUpdate:modelValue":n[0]||(n[0]=R=>i.value.level=R),color:i.value.color,reverse:i.value.reverse},null,8,["modelValue","color","reverse"])]),_:1})):o("",!0),_.panel.status.bar2?(e(),u(k,{key:1},{default:l(()=>[t(M,{height:"7",modelValue:v.value.level,"onUpdate:modelValue":n[1]||(n[1]=R=>v.value.level=R),color:v.value.color,reverse:v.value.reverse},null,8,["modelValue","color","reverse"])]),_:1})):o("",!0)]),_:1}),t(S,{color:"secondary"},{default:l(()=>[t(K,{src:p.value.url,gradient:p.value.url?Y(r).app.header.imageGradient:"",height:"48",cover:""},{default:l(()=>[_.panel.status.title?(e(),u(J,{key:0},{default:l(()=>[t(F,{"no-gutters":""},{default:l(()=>[t(k,null,{default:l(()=>[I(f(V.value.title),1)]),_:1}),t(q),y.value.length>1?(e(),u(k,{key:0,cols:"1",class:"text-right"},{default:l(()=>[t(H,{icon:E.value,size:"small",variant:"plain",density:"compact",onClick:T},null,8,["icon"])]),_:1})):o("",!0)]),_:1})]),_:1})):o("",!0)]),_:1},8,["src","gradient"])]),_:1}),t(Q),t(Z,{main:_.panel.main,levels:j.value},null,8,["main","levels"]),t(S,{color:"secondary"},{default:l(()=>[t(W,{class:"pa-1"},{default:l(()=>[t(F,{"no-gutters":""},{default:l(()=>[t(k,{class:"text-truncate text-left"},{default:l(()=>[D.value.icon?(e(),u(b,{key:0,icon:D.value.icon,color:D.value.color,size:"small"},null,8,["icon","color"])):o("",!0),D.value.text?(e(),h("span",ee,f(D.value.text),1)):o("",!0),z.value.icon?(e(),u(b,{key:2,icon:z.value.icon,color:z.value.color,size:"small",class:"ml-2"},null,8,["icon","color"])):o("",!0),z.value.text?(e(),h("span",te,f(z.value.text),1)):o("",!0)]),_:1}),t(k,{class:"text-truncate text-center"},{default:l(()=>[C.value.icon?(e(),u(b,{key:0,icon:C.value.icon,color:C.value.color,size:"small"},null,8,["icon","color"])):o("",!0),C.value.text?(e(),h("span",le,f(C.value.text),1)):o("",!0),L.value.icon?(e(),u(b,{key:2,icon:L.value.icon,color:L.value.color,size:"small",class:"ml-2"},null,8,["icon","color"])):o("",!0),L.value.text?(e(),h("span",ne,f(L.value.text),1)):o("",!0)]),_:1}),t(k,{class:"text-truncate text-right"},{default:l(()=>[O.value.icon?(e(),u(b,{key:0,icon:O.value.icon,color:O.value.color,size:"small"},null,8,["icon","color"])):o("",!0),O.value.text?(e(),h("span",ae,f(O.value.text),1)):o("",!0),B.value.icon?(e(),u(b,{key:2,icon:B.value.icon,color:B.value.color,size:"small",class:"ml-2"},null,8,["icon","color"])):o("",!0),B.value.text?(e(),h("span",oe,f(B.value.text),1)):o("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ce={__name:"DevicesView",setup(_){const r=$(),d=c(()=>{let i=[];for(const v of r.app.panelView)r.handleDefs(r.app.panelList[v].panel.show,["show"],[!0]).show&&i.push(r.app.panelList[v]);return i.sort((v,p)=>x(v)>x(p)?1:x(p)>x(v)?-1:0),i});function x(i){return r.handleDefs(i.panel.sortby,["sortby"],["999"]).sortby}return(i,v)=>{const p=a("v-col"),V=a("v-row");return e(),u(V,{"no-gutters":""},{default:l(()=>[(e(!0),h(P,null,A(d.value,m=>(e(),u(p,{cols:"12",sm:"6",lg:"4",key:m.name,class:"pa-1"},{default:l(()=>[t(se,{panel:m},null,8,["panel"])]),_:2},1024))),128))]),_:1})}}};export{ce as default};
