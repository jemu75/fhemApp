import{u as J,f as T,g as Ie,r as c,o as $,a as C,w as o,e as t,h as I,b as H,F as M,d as W,i as de,j as Q,t as X,k as A,c as j,l as Fe,m as Z,n as Ue,v as qe,p as Ae,q as Pe,s as De}from"./index-ab466176.js";import{c as he,V as ze}from"./styles-a3a40051.js";import{_ as Oe}from"./PanelCard-3bc9961a.js";const z="_app.settings.header.",Ne={__name:"SettingsHeader",setup(F){const e=J(),i={required:n=>!!n||e.replacer("%t(_app.settings.rules.required)")},s=T(),m=Ie({name:"",title:"",icon:"",cmd:""});function w(){e.app.config.header.commands.push(JSON.parse(JSON.stringify(m))),s.value.reset()}function x(n){e.app.config.header.commands.splice(n,1)}return(n,r)=>{const b=c("v-btn"),k=c("v-list-item"),h=c("v-text-field"),u=c("v-col"),q=c("v-checkbox"),E=c("v-row"),V=c("v-divider"),S=c("v-form"),_=c("v-list");return $(),C(_,null,{default:o(()=>[t(k,{title:n.$t(z+"barTitle")},{append:o(()=>[t(b,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:r[0]||(r[0]=l=>I(e).help("kopfzeile"))})]),_:1},8,["title"]),t(k,null,{default:o(()=>[t(E,{"no-gutters":""},{default:o(()=>[t(u,{cols:"12",lg:"4",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"imageUrlPlaceholder"),label:n.$t(z+"imageUrl"),modelValue:I(e).app.config.header.imageUrl,"onUpdate:modelValue":r[1]||(r[1]=l=>I(e).app.config.header.imageUrl=l)},null,8,["placeholder","label","modelValue"])]),_:1}),t(u,{cols:"12",lg:"5",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"imageGradientPlaceholder"),label:n.$t(z+"imageGradient"),modelValue:I(e).app.config.header.imageGradient,"onUpdate:modelValue":r[2]||(r[2]=l=>I(e).app.config.header.imageGradient=l)},null,8,["placeholder","label","modelValue"])]),_:1}),t(u,{cols:"6",lg:"",class:"pt-1"},{default:o(()=>[t(q,{hint:n.$t(z+"showTimeHint"),label:n.$t(z+"showTime"),modelValue:I(e).app.config.header.showTime,"onUpdate:modelValue":r[3]||(r[3]=l=>I(e).app.config.header.showTime=l)},null,8,["hint","label","modelValue"])]),_:1}),t(u,{cols:"6",lg:"",class:"pt-1"},{default:o(()=>[t(q,{hint:n.$t(z+"showDateHint"),label:n.$t(z+"showDate"),modelValue:I(e).app.config.header.showDate,"onUpdate:modelValue":r[4]||(r[4]=l=>I(e).app.config.header.showDate=l)},null,8,["hint","label","modelValue"])]),_:1})]),_:1})]),_:1}),t(V),t(k,{title:n.$t(z+"optionsTitle")},{append:o(()=>[t(b,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:r[5]||(r[5]=l=>I(e).help("optionsmenü"))})]),_:1},8,["title"]),t(k,null,{default:o(()=>[t(E,{"no-gutters":""},{default:o(()=>[t(u,{cols:"6",lg:""},{default:o(()=>[t(q,{label:n.$t(z+"showDarkMode"),modelValue:I(e).app.config.header.showDarkMode,"onUpdate:modelValue":r[6]||(r[6]=l=>I(e).app.config.header.showDarkMode=l)},null,8,["label","modelValue"])]),_:1}),t(u,{cols:"6",lg:""},{default:o(()=>[t(q,{label:n.$t(z+"showReloadPage"),modelValue:I(e).app.config.header.showReloadPage,"onUpdate:modelValue":r[7]||(r[7]=l=>I(e).app.config.header.showReloadPage=l)},null,8,["label","modelValue"])]),_:1}),t(u,{cols:"6",lg:""},{default:o(()=>[t(q,{label:n.$t(z+"showSettings"),modelValue:I(e).app.config.header.showSettings,"onUpdate:modelValue":r[8]||(r[8]=l=>I(e).app.config.header.showSettings=l)},null,8,["label","modelValue"])]),_:1}),t(u,{cols:"6",lg:""},{default:o(()=>[t(q,{label:n.$t(z+"showLanguages"),modelValue:I(e).app.config.header.showLanguages,"onUpdate:modelValue":r[9]||(r[9]=l=>I(e).app.config.header.showLanguages=l)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),t(V),t(k,{title:n.$t(z+"optionsCommandTitle")},{append:o(()=>[t(b,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:r[10]||(r[10]=l=>I(e).help("optionsmenü-fhem-befehle"))})]),_:1},8,["title"]),($(!0),H(M,null,W(I(e).app.config.header.commands,(l,a)=>($(),C(k,{key:a},{default:o(()=>[t(E,{"no-gutters":""},{default:o(()=>[t(u,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandNamePlaceholder"),label:n.$t(z+"commandName"),rules:[i.required],modelValue:l.name,"onUpdate:modelValue":p=>l.name=p},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandTitlePlaceholder"),label:n.$t(z+"commandTitle"),rules:[i.required],modelValue:l.title,"onUpdate:modelValue":p=>l.title=p},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandIconPlaceholder"),label:n.$t(z+"commandIcon"),"append-inner-icon":l.icon,modelValue:l.icon,"onUpdate:modelValue":p=>l.icon=p},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(u,{cols:"10",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandCmdPlaceholder"),label:n.$t(z+"commandCmd"),rules:[i.required],modelValue:l.cmd,"onUpdate:modelValue":p=>l.cmd=p},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(u,{class:"pt-3 text-right"},{default:o(()=>[t(b,{variant:"text",icon:"mdi-delete",onClick:p=>x(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t(k,null,{default:o(()=>[t(S,{ref_key:"form",ref:s},{default:o(()=>[t(E,{"no-gutters":""},{default:o(()=>[t(u,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandNamePlaceholder"),label:n.$t(z+"commandName"),rules:[i.required],modelValue:m.name,"onUpdate:modelValue":r[11]||(r[11]=l=>m.name=l)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandTitlePlaceholder"),label:n.$t(z+"commandTitle"),rules:[i.required],modelValue:m.title,"onUpdate:modelValue":r[12]||(r[12]=l=>m.title=l)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandIconPlaceholder"),label:n.$t(z+"commandIcon"),"append-inner-icon":m.icon,modelValue:m.icon,"onUpdate:modelValue":r[13]||(r[13]=l=>m.icon=l)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(u,{cols:"9",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:n.$t(z+"commandCmdPlaceholder"),label:n.$t(z+"commandCmd"),rules:[i.required],modelValue:m.cmd,"onUpdate:modelValue":r[14]||(r[14]=l=>m.cmd=l)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(u,{class:"pt-3 text-right"},{default:o(()=>[t(b,{variant:"text",icon:"mdi-cancel",onClick:r[15]||(r[15]=l=>s.value.reset())}),t(b,{variant:"text",icon:"mdi-plus",disabled:!m.name||!m.title||!m.cmd,onClick:r[16]||(r[16]=l=>w())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},L="_app.settings.navigation.",Le={__name:"SettingsNavigation",setup(F){const{mobile:e}=de(),i=J(),s=Ie({path:[],route:["navigation"],items:[],newItem:{name:null,title:null,icon:null,divider:!1,groupAsChips:!1,sort:!1,group:[]}}),m=T(),w={required:h=>!!h||i.replacer("%t(_app.settings.rules.required)")};function x(h){typeof h<"u"&&(s.path.push(h,"group"),s.route.push(s.items[h].name)),s.items=i.getEl(i.app.config.navigation,s.path)}function n(){let h=JSON.parse(JSON.stringify(s.newItem));i.getEl(i.app.config.navigation,s.path).push(h),x(),m.value.reset()}function r(h){i.getEl(i.app.config.navigation,s.path).splice(h,1)}function b(h){return(i.getEl(s.items[h],["group"])||[]).length}function k(){s.route.pop(),s.path.splice(-2,2),x()}return x(),(h,u)=>{const q=c("v-btn"),E=c("v-list-item"),V=c("v-text-field"),S=c("v-col"),_=c("v-checkbox"),l=c("v-icon"),a=c("v-badge"),p=c("v-row"),f=c("v-divider"),d=c("v-form"),v=c("v-list");return $(),C(v,null,{default:o(()=>[t(E,{title:h.$t(L+"title")},{append:o(()=>[t(q,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:u[0]||(u[0]=y=>I(i).help("navigation"))})]),_:1},8,["title"]),s.path.length>0?($(),C(E,{key:0},{default:o(()=>[t(q,{variant:"text",icon:"mdi-arrow-up-left",onClick:u[1]||(u[1]=y=>k())}),Q(" "+X(s.route.join(" > ")),1)]),_:1})):A("",!0),($(!0),H(M,null,W(s.items,(y,g)=>($(),C(E,{key:g},{default:o(()=>[t(p,{"no-gutters":""},{default:o(()=>[t(S,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:o(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(L+"namePlaceholder"),label:h.$t(L+"name"),rules:[w.required],modelValue:y.name,"onUpdate:modelValue":U=>y.name=U},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(L+"title1Placeholder"),label:h.$t(L+"title1"),modelValue:y.title,"onUpdate:modelValue":U=>y.title=U},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(L+"iconPlaceholder"),label:h.$t(L+"icon"),"append-inner-icon":y.icon,modelValue:y.icon,"onUpdate:modelValue":U=>y.icon=U},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:4,lg:"",class:"pt-1"},{default:o(()=>[t(_,{hint:h.$t(L+"groupAsChipsHint"),label:h.$t(L+"groupAsChips"),modelValue:y.groupAsChips,"onUpdate:modelValue":U=>y.groupAsChips=U},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:4,lg:"",class:"pt-1"},{default:o(()=>[t(_,{hint:h.$t(L+"sortHint"),label:h.$t(L+"sort"),modelValue:y.sort,"onUpdate:modelValue":U=>y.sort=U},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{cols:"4",lg:"",class:"pt-1"},{default:o(()=>[t(_,{hint:h.$t(L+"dividerHint"),label:h.$t(L+"divider"),modelValue:y.divider,"onUpdate:modelValue":U=>y.divider=U},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(S,{class:"pt-3 text-right"},{default:o(()=>[t(q,{variant:"text",icon:"",onClick:U=>x(g)},{default:o(()=>[b(g)>0?($(),C(a,{key:0,color:"success",content:b(g)},{default:o(()=>[t(l,{icon:"mdi-arrow-down-right"})]),_:2},1032,["content"])):A("",!0),b(g)===0?($(),C(l,{key:1,icon:"mdi-arrow-down-right"})):A("",!0)]),_:2},1032,["onClick"]),t(q,{variant:"text",icon:"mdi-delete",onClick:U=>r(g)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),I(e)?($(),C(f,{key:0})):A("",!0)]),_:2},1024))),128)),t(E,null,{default:o(()=>[t(d,{ref_key:"form",ref:m},{default:o(()=>[t(p,{"no-gutters":""},{default:o(()=>[t(S,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:o(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(L+"namePlaceholder"),label:h.$t(L+"name"),rules:[w.required],modelValue:s.newItem.name,"onUpdate:modelValue":u[2]||(u[2]=y=>s.newItem.name=y)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(L+"title1Placeholder"),label:h.$t(L+"title1"),modelValue:s.newItem.title,"onUpdate:modelValue":u[3]||(u[3]=y=>s.newItem.title=y)},null,8,["placeholder","label","modelValue"])]),_:1}),t(S,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:o(()=>[t(V,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(L+"iconPlaceholder"),label:h.$t(L+"icon"),"append-inner-icon":s.newItem.icon,modelValue:s.newItem.icon,"onUpdate:modelValue":u[4]||(u[4]=y=>s.newItem.icon=y)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(S,{cols:"4",lg:"",class:"pt-1"},{default:o(()=>[t(_,{hint:h.$t(L+"groupAsChipsHint"),label:h.$t(L+"groupAsChips"),modelValue:s.newItem.groupAsChips,"onUpdate:modelValue":u[5]||(u[5]=y=>s.newItem.groupAsChips=y)},null,8,["hint","label","modelValue"])]),_:1}),t(S,{cols:"4",lg:"",class:"pt-1"},{default:o(()=>[t(_,{hint:h.$t(L+"sortHint"),label:h.$t(L+"sort"),modelValue:s.newItem.sort,"onUpdate:modelValue":u[6]||(u[6]=y=>s.newItem.sort=y)},null,8,["hint","label","modelValue"])]),_:1}),t(S,{cols:"4",lg:"",class:"pt-1"},{default:o(()=>[t(_,{hint:h.$t(L+"dividerHint"),label:h.$t(L+"divider"),modelValue:s.newItem.divider,"onUpdate:modelValue":u[7]||(u[7]=y=>s.newItem.divider=y)},null,8,["hint","label","modelValue"])]),_:1}),t(S,{class:"pt-3 text-right"},{default:o(()=>[t(q,{variant:"text",icon:"mdi-cancel",onClick:u[8]||(u[8]=y=>m.value.reset())}),t(q,{variant:"text",icon:"mdi-plus",disabled:!s.newItem.name,onClick:u[9]||(u[9]=y=>n())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},Ke={__name:"SettingsPropsItem",props:{type:String,typeIdx:Number,section:String,prop:String,propDef:String,propHelp:String},setup(F){const e=F,i=J(),s=T(),m=T();function w(){i.app.config[e.type][e.typeIdx][e.section][e.prop]?i.app.config[e.type][e.typeIdx][e.section][e.prop].push(m.value):i.app.config[e.type][e.typeIdx][e.section][e.prop]=[m.value],s.value.reset()}function x(n){i.app.config[e.type][e.typeIdx][e.section][e.prop].splice(n,1),i.app.config[e.type][e.typeIdx][e.section][e.prop].length===0&&delete i.app.config[e.type][e.typeIdx][e.section][e.prop]}return(n,r)=>{const b=c("v-text-field"),k=c("v-col"),h=c("v-btn"),u=c("v-row"),q=c("v-list-item"),E=c("v-form"),V=c("v-list");return $(),C(V,null,{default:o(()=>[I(i).app.config[e.type][e.typeIdx][e.section][e.prop]?($(),C(q,{key:0,class:"pa-0"},{default:o(()=>[($(!0),H(M,null,W(I(i).app.config[e.type][e.typeIdx][e.section][e.prop],(S,_)=>($(),C(u,{key:_,"no-gutters":"",class:"pt-3"},{default:o(()=>[t(k,null,{default:o(()=>[t(b,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+(_+1),modelValue:I(i).app.config[e.type][e.typeIdx][e.section][e.prop][_],"onUpdate:modelValue":l=>I(i).app.config[e.type][e.typeIdx][e.section][e.prop][_]=l},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(k,{cols:"1",class:"text-right"},{default:o(()=>[t(h,{variant:"text",icon:"mdi-delete",onClick:l=>x(_)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):A("",!0),t(q,{class:"pa-0"},{default:o(()=>[t(E,{ref_key:"form",ref:s},{default:o(()=>[t(u,{"no-gutters":"",class:"pt-3"},{default:o(()=>[t(k,null,{default:o(()=>[t(b,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=S=>m.value=S),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":r[1]||(r[1]=S=>I(i).help(F.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(k,{cols:"1",class:"text-right"},{default:o(()=>[t(h,{variant:"text",icon:"mdi-plus",disabled:!m.value,onClick:r[2]||(r[2]=S=>w())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},Te={__name:"SettingsPropsList",props:{type:String,typeIdx:Number,section:String,extended:Boolean},setup(F){const e=F,i=J(),s={panel:[{type:"defs",show:["panels","extended.panels"],required:!0,prop:"devices",def:"key:fhem_device",help:"element-devices"},{type:"template",show:["panels","extended.panels"],required:!1,prop:"template",help:"element-template"},{type:"text",show:["templates"],required:!1,prop:"author",def:"text"},{type:"text",show:["templates"],required:!1,prop:"date",def:"text"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"navigation",def:"reading:value:route",help:"element-navigation"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"expandable",def:"reading:value:expandable:expanded:maximizable",help:"element-expandable"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"sortby",def:"reading:value:sortkey",help:"element-sortkey"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"show",def:"reading:value:show",help:"element-show"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"iconmap",def:"search:icon",help:"element-iconmap"}],status:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar2",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"imageUrl",def:"reading:value:url",help:"element-imageurl"},{type:"defs",show:["panels","extended.panels","templates"],required:!0,prop:"title",def:"reading:value:title",help:"element-title"}],info:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right2",def:"reading:value:text:icon:color",help:"element-info"}]},m=j(()=>{let n=[],r=e.type==="panels"?e.extended?"extended.panels":"panels":"templates";for(const b of s[e.section])b.show.indexOf(r)!==-1&&n.push(b);return n}),w=j(()=>{let n=[];for(const r of i.app.config.templates)r.dist||n.push({title:r.name,value:r.name});n.sort((r,b)=>r.title>b.title?1:b.title>r.title?-1:0);for(const r of i.app.distTemplates)n.push({title:r+" ("+i.replacer("%t(_app.default)","")+")",value:r});return n});function x(n){let r={icon:n.required?"mdi-alert-circle":"mdi-chevron-down",color:n.required?"error":null},b=[e.type,e.typeIdx],k=[];return e.section==="panel"&&["template","date","author"].indexOf(n.prop)!==-1?b.push(n.prop):b.push(e.section,n.prop),k=i.getEl(i.app.config,b),k&&k.length>0&&(r={icon:"mdi-check",color:"success"}),r}return(n,r)=>{const b=c("v-icon"),k=c("v-expansion-panel-title"),h=c("v-autocomplete"),u=c("v-text-field"),q=c("v-expansion-panel-text"),E=c("v-expansion-panel"),V=c("v-expansion-panels"),S=c("v-list-item");return $(),C(S,null,{default:o(()=>[t(V,null,{default:o(()=>[($(!0),H(M,null,W(m.value,_=>($(),C(E,{key:_.prop},{default:o(()=>[t(k,null,{actions:o(({expanded:l})=>[t(b,{color:l?"":x(_).color,icon:l?"mdi-chevron-up":x(_).icon},null,8,["color","icon"])]),default:o(()=>[Q(X(_.prop)+" ",1)]),_:2},1024),t(q,null,{default:o(()=>[_.type==="defs"?($(),C(Ke,{key:0,type:e.type,typeIdx:e.typeIdx,section:e.section,prop:_.prop,propDef:_.def,propHelp:_.help},null,8,["type","typeIdx","section","prop","propDef","propHelp"])):A("",!0),_.type==="template"?($(),C(h,{key:1,modelValue:I(i).app.config.panels[e.typeIdx].template,"onUpdate:modelValue":r[0]||(r[0]=l=>I(i).app.config.panels[e.typeIdx].template=l),items:w.value,label:n.$t("_app.settings.templates.title"),disabled:I(i).app.config.templates.length===0,density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","items","label","disabled"])):A("",!0),_.type==="text"?($(),C(u,{key:2,modelValue:I(i).app.config[e.type][e.typeIdx][_.prop],"onUpdate:modelValue":l=>I(i).app.config[e.type][e.typeIdx][_.prop]=l,density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:_.def,label:_.prop,class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])):A("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},je={__name:"SettingsPropsMainItem",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(F){const e=F,i=J(),s=T(),m=T();function w(){i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].push(m.value):i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=[m.value],s.value.reset()}function x(n){i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].splice(n,1),i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].length===0&&delete i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]}return(n,r)=>{const b=c("v-text-field"),k=c("v-col"),h=c("v-btn"),u=c("v-row"),q=c("v-list-item"),E=c("v-form"),V=c("v-list");return $(),C(V,null,{default:o(()=>[I(i).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?($(),C(q,{key:0,class:"pa-0"},{default:o(()=>[($(!0),H(M,null,W(I(i).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],(S,_)=>($(),C(u,{key:_,"no-gutters":"",class:"pt-3"},{default:o(()=>[t(k,null,{default:o(()=>[t(b,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+(_+1),modelValue:I(i).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][_],"onUpdate:modelValue":l=>I(i).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][_]=l},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(k,{cols:"1",class:"text-right"},{default:o(()=>[t(h,{variant:"text",icon:"mdi-delete",onClick:l=>x(_)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):A("",!0),t(q,{class:"pa-0"},{default:o(()=>[t(E,{ref_key:"form",ref:s},{default:o(()=>[t(u,{"no-gutters":"",class:"pt-3"},{default:o(()=>[t(k,null,{default:o(()=>[t(b,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=S=>m.value=S),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":r[1]||(r[1]=S=>I(i).help(F.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(k,{cols:"1",class:"text-right"},{default:o(()=>[t(h,{variant:"text",icon:"mdi-plus",disabled:!m.value,onClick:r[2]||(r[2]=S=>w())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}};function ne(){return ne=Object.assign||function(F){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(F[s]=i[s])}return F},ne.apply(this,arguments)}var He=13,Me=9,Be=8,Re=89,pe=90,We=77,ye=57,_e=219,be=222,xe=192,Ye=27,ke=100,Je=3e3,Ge=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),ve=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ze=Fe({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(e){e?this.codeData=e:this.codeData=""}},content:{immediate:!0,handler:function(){var e=this;this.lineNumbers&&this.$nextTick(function(){e.setLineNumbersHeight()})}},lineNumbers:function(){var e=this;this.$nextTick(function(){e.styleLineNumbers(),e.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var e=this.highlight(this.codeData)+"<br />";return e},lineNumbersCount:function(){var e=this.codeData.split(/\r\n|\n/).length;return e}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var e=this.$refs.pre,i=this.$el.querySelector(".prism-editor__line-numbers"),s=window.getComputedStyle(e);this.$nextTick(function(){var m="border-top-left-radius",w="border-bottom-left-radius";if(i){i.style[m]=s[m],i.style[w]=s[w],e.style[m]="0",e.style[w]="0";var x=["background-color","margin-top","padding-top","font-family","font-size","line-height"];x.forEach(function(n){i.style[n]=s[n]}),i.style["margin-bottom"]="-"+s["padding-top"]}})}},_recordCurrentState:function(){var e=this.$refs.textarea;if(e){var i=e.value,s=e.selectionStart,m=e.selectionEnd;this._recordChange({value:i,selectionStart:s,selectionEnd:m})}},_getLines:function(e,i){return e.substring(0,i).split(`
`)},_applyEdits:function(e){var i=this.$refs.textarea,s=this.history.stack[this.history.offset];s&&i&&(this.history.stack[this.history.offset]=ne({},s,{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})),this._recordChange(e),this._updateInput(e)},_recordChange:function(e,i){i===void 0&&(i=!1);var s=this.history,m=s.stack,w=s.offset;if(m.length&&w>-1){this.history.stack=m.slice(0,w+1);var x=this.history.stack.length;if(x>ke){var n=x-ke;this.history.stack=m.slice(n,x),this.history.offset=Math.max(this.history.offset-n,0)}}var r=Date.now();if(i){var b=this.history.stack[this.history.offset];if(b&&r-b.timestamp<Je){var k,h,u=/[^a-z0-9]([a-z0-9]+)$/i,q=(k=this._getLines(b.value,b.selectionStart).pop())===null||k===void 0?void 0:k.match(u),E=(h=this._getLines(e.value,e.selectionStart).pop())===null||h===void 0?void 0:h.match(u);if(q&&E&&E[1].startsWith(q[1])){this.history.stack[this.history.offset]=ne({},e,{timestamp:r});return}}}this.history.stack.push(ne({},e,{timestamp:r})),this.history.offset++},_updateInput:function(e){var i=this.$refs.textarea;i&&(i.value=e.value,i.selectionStart=e.selectionStart,i.selectionEnd=e.selectionEnd,this.$emit("update:modelValue",e.value))},handleChange:function(e){var i=e.target,s=i.value,m=i.selectionStart,w=i.selectionEnd;this._recordChange({value:s,selectionStart:m,selectionEnd:w},!0),this.$emit("update:modelValue",s)},_undoEdit:function(){var e=this.history,i=e.stack,s=e.offset,m=i[s-1];m&&(this._updateInput(m),this.history.offset=Math.max(s-1,0))},_redoEdit:function(){var e=this.history,i=e.stack,s=e.offset,m=i[s+1];m&&(this._updateInput(m),this.history.offset=Math.min(s+1,i.length-1))},handleKeyDown:function(e){var i=this.tabSize,s=this.insertSpaces,m=this.ignoreTabKey;if(this.$emit("keydown",e),!e.defaultPrevented){e.keyCode===Ye&&(e.target.blur(),this.$emit("blur",e));var w=e.target,x=w.value,n=w.selectionStart,r=w.selectionEnd,b=(s?" ":"	").repeat(i);if(e.keyCode===Me&&!m&&this.capture)if(e.preventDefault(),e.shiftKey){var k=this._getLines(x,n),h=k.length-1,u=this._getLines(x,r).length-1,q=x.split(`
`).map(function(K,B){return B>=h&&B<=u&&K.startsWith(b)?K.substring(b.length):K}).join(`
`);if(x!==q){var E=k[h];this._applyEdits({value:q,selectionStart:E.startsWith(b)?n-b.length:n,selectionEnd:r-(x.length-q.length)})}}else if(n!==r){var V=this._getLines(x,n),S=V.length-1,_=this._getLines(x,r).length-1,l=V[S];this._applyEdits({value:x.split(`
`).map(function(K,B){return B>=S&&B<=_?b+K:K}).join(`
`),selectionStart:/\S/.test(l)?n+b.length:n,selectionEnd:r+b.length*(_-S+1)})}else{var a=n+b.length;this._applyEdits({value:x.substring(0,n)+b+x.substring(r),selectionStart:a,selectionEnd:a})}else if(e.keyCode===Be){var p=n!==r,f=x.substring(0,n);if(f.endsWith(b)&&!p){e.preventDefault();var d=n-b.length;this._applyEdits({value:x.substring(0,n-b.length)+x.substring(r),selectionStart:d,selectionEnd:d})}}else if(e.keyCode===He){if(n===r){var v=this._getLines(x,n).pop(),y=v==null?void 0:v.match(/^\s+/);if(y&&y[0]){e.preventDefault();var g=`
`+y[0],U=n+g.length;this._applyEdits({value:x.substring(0,n)+g+x.substring(r),selectionStart:U,selectionEnd:U})}}}else if(e.keyCode===ye||e.keyCode===_e||e.keyCode===be||e.keyCode===xe){var D;e.keyCode===ye&&e.shiftKey?D=["(",")"]:e.keyCode===_e?e.shiftKey?D=["{","}"]:D=["[","]"]:e.keyCode===be?e.shiftKey?D=['"','"']:D=["'","'"]:e.keyCode===xe&&!e.shiftKey&&(D=["`","`"]),n!==r&&D&&(e.preventDefault(),this._applyEdits({value:x.substring(0,n)+D[0]+x.substring(n,r)+D[1]+x.substring(r),selectionStart:n,selectionEnd:r+2}))}else(ve?e.metaKey&&e.keyCode===pe:e.ctrlKey&&e.keyCode===pe)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),this._undoEdit()):(ve?e.metaKey&&e.keyCode===pe&&e.shiftKey:Ge?e.ctrlKey&&e.keyCode===Re:e.ctrlKey&&e.keyCode===pe&&e.shiftKey)&&!e.altKey?(e.preventDefault(),this._redoEdit()):e.keyCode===We&&e.ctrlKey&&(!ve||e.shiftKey)&&(e.preventDefault(),this.capture=!this.capture)}}},render:function(){var e=this,i=Z("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),s=Z("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[i,Array.from(Array(this.lineNumbersCount).keys()).map(function(n,r){return Z("div",{class:"prism-editor__line-number token comment"},""+ ++r)})]),m=Z("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(r){e.$emit("click",r)},onKeyup:function(r){e.$emit("keyup",r)},onFocus:function(r){e.$emit("focus",r)},onBlur:function(r){e.$emit("blur",r)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),w=Z("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),x=Z("div",{class:"prism-editor__container"},[m,w]);return Z("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&s,x])}});var Ce={exports:{}};(function(F){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var i=function(s){var m=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,w=0,x={},n={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function l(a){return a instanceof r?new r(a.type,l(a.content),a.alias):Array.isArray(a)?a.map(l):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(l){return Object.prototype.toString.call(l).slice(8,-1)},objId:function(l){return l.__id||Object.defineProperty(l,"__id",{value:++w}),l.__id},clone:function l(a,p){p=p||{};var f,d;switch(n.util.type(a)){case"Object":if(d=n.util.objId(a),p[d])return p[d];f={},p[d]=f;for(var v in a)a.hasOwnProperty(v)&&(f[v]=l(a[v],p));return f;case"Array":return d=n.util.objId(a),p[d]?p[d]:(f=[],p[d]=f,a.forEach(function(y,g){f[g]=l(y,p)}),f);default:return a}},getLanguage:function(l){for(;l;){var a=m.exec(l.className);if(a)return a[1].toLowerCase();l=l.parentElement}return"none"},setLanguage:function(l,a){l.className=l.className.replace(RegExp(m,"gi"),""),l.classList.add("language-"+a)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(f){var l=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(f.stack)||[])[1];if(l){var a=document.getElementsByTagName("script");for(var p in a)if(a[p].src==l)return a[p]}return null}},isActive:function(l,a,p){for(var f="no-"+a;l;){var d=l.classList;if(d.contains(a))return!0;if(d.contains(f))return!1;l=l.parentElement}return!!p}},languages:{plain:x,plaintext:x,text:x,txt:x,extend:function(l,a){var p=n.util.clone(n.languages[l]);for(var f in a)p[f]=a[f];return p},insertBefore:function(l,a,p,f){f=f||n.languages;var d=f[l],v={};for(var y in d)if(d.hasOwnProperty(y)){if(y==a)for(var g in p)p.hasOwnProperty(g)&&(v[g]=p[g]);p.hasOwnProperty(y)||(v[y]=d[y])}var U=f[l];return f[l]=v,n.languages.DFS(n.languages,function(D,K){K===U&&D!=l&&(this[D]=v)}),v},DFS:function l(a,p,f,d){d=d||{};var v=n.util.objId;for(var y in a)if(a.hasOwnProperty(y)){p.call(a,y,a[y],f||y);var g=a[y],U=n.util.type(g);U==="Object"&&!d[v(g)]?(d[v(g)]=!0,l(g,p,null,d)):U==="Array"&&!d[v(g)]&&(d[v(g)]=!0,l(g,p,y,d))}}},plugins:{},highlightAll:function(l,a){n.highlightAllUnder(document,l,a)},highlightAllUnder:function(l,a,p){var f={callback:p,container:l,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",f),f.elements=Array.prototype.slice.apply(f.container.querySelectorAll(f.selector)),n.hooks.run("before-all-elements-highlight",f);for(var d=0,v;v=f.elements[d++];)n.highlightElement(v,a===!0,f.callback)},highlightElement:function(l,a,p){var f=n.util.getLanguage(l),d=n.languages[f];n.util.setLanguage(l,f);var v=l.parentElement;v&&v.nodeName.toLowerCase()==="pre"&&n.util.setLanguage(v,f);var y=l.textContent,g={element:l,language:f,grammar:d,code:y};function U(K){g.highlightedCode=K,n.hooks.run("before-insert",g),g.element.innerHTML=g.highlightedCode,n.hooks.run("after-highlight",g),n.hooks.run("complete",g),p&&p.call(g.element)}if(n.hooks.run("before-sanity-check",g),v=g.element.parentElement,v&&v.nodeName.toLowerCase()==="pre"&&!v.hasAttribute("tabindex")&&v.setAttribute("tabindex","0"),!g.code){n.hooks.run("complete",g),p&&p.call(g.element);return}if(n.hooks.run("before-highlight",g),!g.grammar){U(n.util.encode(g.code));return}if(a&&s.Worker){var D=new Worker(n.filename);D.onmessage=function(K){U(K.data)},D.postMessage(JSON.stringify({language:g.language,code:g.code,immediateClose:!0}))}else U(n.highlight(g.code,g.grammar,g.language))},highlight:function(l,a,p){var f={code:l,grammar:a,language:p};if(n.hooks.run("before-tokenize",f),!f.grammar)throw new Error('The language "'+f.language+'" has no grammar.');return f.tokens=n.tokenize(f.code,f.grammar),n.hooks.run("after-tokenize",f),r.stringify(n.util.encode(f.tokens),f.language)},tokenize:function(l,a){var p=a.rest;if(p){for(var f in p)a[f]=p[f];delete a.rest}var d=new h;return u(d,d.head,l),k(l,d,a,d.head,0),E(d)},hooks:{all:{},add:function(l,a){var p=n.hooks.all;p[l]=p[l]||[],p[l].push(a)},run:function(l,a){var p=n.hooks.all[l];if(!(!p||!p.length))for(var f=0,d;d=p[f++];)d(a)}},Token:r};s.Prism=n;function r(l,a,p,f){this.type=l,this.content=a,this.alias=p,this.length=(f||"").length|0}r.stringify=function l(a,p){if(typeof a=="string")return a;if(Array.isArray(a)){var f="";return a.forEach(function(U){f+=l(U,p)}),f}var d={type:a.type,content:l(a.content,p),tag:"span",classes:["token",a.type],attributes:{},language:p},v=a.alias;v&&(Array.isArray(v)?Array.prototype.push.apply(d.classes,v):d.classes.push(v)),n.hooks.run("wrap",d);var y="";for(var g in d.attributes)y+=" "+g+'="'+(d.attributes[g]||"").replace(/"/g,"&quot;")+'"';return"<"+d.tag+' class="'+d.classes.join(" ")+'"'+y+">"+d.content+"</"+d.tag+">"};function b(l,a,p,f){l.lastIndex=a;var d=l.exec(p);if(d&&f&&d[1]){var v=d[1].length;d.index+=v,d[0]=d[0].slice(v)}return d}function k(l,a,p,f,d,v){for(var y in p)if(!(!p.hasOwnProperty(y)||!p[y])){var g=p[y];g=Array.isArray(g)?g:[g];for(var U=0;U<g.length;++U){if(v&&v.cause==y+","+U)return;var D=g[U],K=D.inside,B=!!D.lookbehind,O=!!D.greedy,te=D.alias;if(O&&!D.pattern.global){var ae=D.pattern.toString().match(/[imsuy]*$/)[0];D.pattern=RegExp(D.pattern.source,ae+"g")}for(var P=D.pattern||D,N=f.next,R=d;N!==a.tail&&!(v&&R>=v.reach);R+=N.value.length,N=N.next){var ee=N.value;if(a.length>l.length)return;if(!(ee instanceof r)){var oe=1,Y;if(O){if(Y=b(P,R,l,B),!Y||Y.index>=l.length)break;var ie=Y.index,Se=Y.index+Y[0].length,G=R;for(G+=N.value.length;ie>=G;)N=N.next,G+=N.value.length;if(G-=N.value.length,R=G,N.value instanceof r)continue;for(var le=N;le!==a.tail&&(G<Se||typeof le.value=="string");le=le.next)oe++,G+=le.value.length;oe--,ee=l.slice(R,G),Y.index-=R}else if(Y=b(P,0,ee,B),!Y)continue;var ie=Y.index,re=Y[0],ce=ee.slice(0,ie),ge=ee.slice(ie+re.length),me=R+ee.length;v&&me>v.reach&&(v.reach=me);var se=N.prev;ce&&(se=u(a,se,ce),R+=ce.length),q(a,se,oe);var Ee=new r(y,K?n.tokenize(re,K):re,te,re);if(N=u(a,se,Ee),ge&&u(a,N,ge),oe>1){var fe={cause:y+","+U,reach:me};k(l,a,p,N.prev,R,fe),v&&fe.reach>v.reach&&(v.reach=fe.reach)}}}}}}function h(){var l={value:null,prev:null,next:null},a={value:null,prev:l,next:null};l.next=a,this.head=l,this.tail=a,this.length=0}function u(l,a,p){var f=a.next,d={value:p,prev:a,next:f};return a.next=d,f.prev=d,l.length++,d}function q(l,a,p){for(var f=a.next,d=0;d<p&&f!==l.tail;d++)f=f.next;a.next=f,f.prev=a,l.length-=d}function E(l){for(var a=[],p=l.head.next;p!==l.tail;)a.push(p.value),p=p.next;return a}if(!s.document)return s.addEventListener&&(n.disableWorkerMessageHandler||s.addEventListener("message",function(l){var a=JSON.parse(l.data),p=a.language,f=a.code,d=a.immediateClose;s.postMessage(n.highlight(f,n.languages[p],p)),d&&s.close()},!1)),n;var V=n.util.currentScript();V&&(n.filename=V.src,V.hasAttribute("data-manual")&&(n.manual=!0));function S(){n.manual||n.highlightAll()}if(!n.manual){var _=document.readyState;_==="loading"||_==="interactive"&&V&&V.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return n}(e);F.exports&&(F.exports=i),typeof he<"u"&&(he.Prism=i)})(Ce);var we=Ce.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Qe={__name:"SettingsPropsMainJson",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(F){const e=F,i=J(),s=T(null),m=T(null);function w(n){return we.highlight(n,we.languages.js)}function x(){let n=i.stringToJson(s.value,!0);m.value=n.error,m.value||(i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=n.result)}return s.value=JSON.stringify(i.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],null,"	"),(n,r)=>{const b=c("v-alert"),k=c("v-card");return $(),C(k,{variant:m.value?"tonal":"outlined",color:m.value?"error":"",class:"pa-1 mt-2"},{default:o(()=>[t(I(Ze),{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=h=>s.value=h),highlight:w,"line-numbers":"",onInput:x},null,8,["modelValue"]),m.value?($(),C(b,{key:0,color:"error",density:"compact"},{default:o(()=>[Q(X(m.value),1)]),_:1})):A("",!0)]),_:1},8,["variant","color"])}}},Xe={__name:"SettingsPropsMain",props:{type:String,typeIdx:Number,section:String},setup(F){const e=F,i=[{name:"level",cols:12,color:"orange"},{name:"left1",color:"orange"},{name:"left2",color:"orange"},{name:"mid",color:"orange"},{name:"right1",color:"orange"},{name:"right2",color:"orange"}],s=[{title:"none",value:null},{title:"button",value:"btn"},{title:"info",value:"info"},{title:"slider",value:"slider"},{title:"image",value:"image"},{title:"menu",value:"menu"},{title:"chart",value:"chart"},{title:"colorpicker",value:"colorpicker"}],m={level:[{type:"defs",required:!1,prop:"show",def:"reading:value:show",help:"main-element-show"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"main-element-divider"},{type:"defs",required:!1,prop:"height",def:"reading:value:height",help:"main-element-height"},{type:"types",required:!1,prop:"left1",help:"main-element-typ"},{type:"types",required:!1,prop:"left2",help:"main-element-typ"},{type:"types",required:!1,prop:"mid",help:"main-element-typ"},{type:"types",required:!1,prop:"right1",help:"main-element-typ"},{type:"types",required:!1,prop:"right2",help:"main-element-typ"}],btn:[{type:"defs",required:!1,prop:"btn",def:"reading:value:icon:disabled:color:variant",help:"level-element-button-btn"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse",help:"level-element-button-status"},{type:"defs",required:!1,prop:"click",def:"reading:value:cmd:type",help:"level-element-button-click"},{type:"defs",required:!1,prop:"longClick",def:"reading:value:cmd:type",help:"level-element-button-longClick"},{type:"defs",required:!1,prop:"longRelease",def:"reading:value:cmd:type",help:"level-element-button-longRelease"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],slider:[{type:"defs",required:!1,prop:"slider",def:"reading:value:cmd:current:color:min:max:steps:reverse:size:vertical",help:"level-element-slider-slider"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],image:[{type:"defs",required:!1,prop:"image",def:"reading:value:source:height",help:"level-element-image-image"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],menu:[{type:"defs",required:!1,prop:"menu",def:"reading:value:name:cmd",help:"level-element-menu-menu"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],info:[{type:"defs",required:!1,prop:"text",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"icon",def:"reading:value:icon:color:size",help:"level-element-info-icon"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse:linear",help:"level-element-info-status"},{type:"defs",required:!1,prop:"text2",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"text3",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],chart:[{type:"defs",required:!1,prop:"serie",def:"reading:value:data:name:digits:suffix:type",help:"level-element-chart-serie"},{type:"json",required:!1,prop:"options",def:"",help:"level-element-chart-options"},{type:"json",required:!1,prop:"options2",def:"",help:"level-element-chart-options"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],colorpicker:[{type:"defs",required:!1,prop:"picker",def:"reading:value:cmd:current",help:"level-element-colorpicker-picker"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}]},w=J(),x=T(0);function n(_){return!w.app.config[e.type][e.typeIdx][e.section][k.value-1].level[_]&&_!=="level"}const r=j(()=>w.app.config[e.type][e.typeIdx][e.section][k.value-1].level[i[x.value].name]),b=j(()=>{if(x.value!==0){let _=r.value;if(_)return m[_]}return m[i[x.value].name]}),k=T(1),h=j(()=>w.app.config[e.type][e.typeIdx][e.section]?w.app.config[e.type][e.typeIdx][e.section].length:1);function u(_,l){_?(w.app.config[e.type][e.typeIdx][e.section][k.value-1][l]={},_==="chart"&&(w.app.config[e.type][e.typeIdx][e.section][k.value-1][l].options={})):delete w.app.config[e.type][e.typeIdx][e.section][k.value-1][l]}function q(){w.app.config[e.type][e.typeIdx][e.section].push({level:{}}),k.value=h.value}function E(){w.app.config[e.type][e.typeIdx][e.section].splice(k.value-1,1),k.value=h.value}function V(_){let l={icon:"mdi-alert-circle",color:"error"};if(n(_))return{icon:"",color:""};if(w.app.config[e.type][e.typeIdx][e.section][k.value-1][_])for(const a of Object.keys(w.app.config[e.type][e.typeIdx][e.section][k.value-1][_]))w.app.config[e.type][e.typeIdx][e.section][k.value-1][_][a]&&(l.icon="mdi-check",l.color="green-darken-1");return l}function S(_){let l={icon:_.required?"mdi-alert-circle":"mdi-chevron-down",color:_.required?"error":null},a=[e.type,e.typeIdx,e.section,k.value-1,i[x.value].name,_.prop],p=[];return p=w.getEl(w.app.config,a),p&&Object.keys(p).length>0&&(l={icon:"mdi-check",color:"success"}),l}return(_,l)=>{const a=c("v-icon"),p=c("v-card"),f=c("v-item"),d=c("v-col"),v=c("v-row"),y=c("v-item-group"),g=c("v-list-item"),U=c("v-expansion-panel-title"),D=c("v-autocomplete"),K=c("v-expansion-panel-text"),B=c("v-expansion-panel"),O=c("v-expansion-panels"),te=c("v-pagination"),ae=c("v-btn");return $(),H(M,null,[t(g,null,{default:o(()=>[t(y,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=P=>x.value=P),mandatory:""},{default:o(()=>[t(v,{class:"text-center","no-gutters":""},{default:o(()=>[($(),H(M,null,W(i,P=>Ue(t(d,{key:P.name,cols:P.cols},{default:o(()=>[t(f,null,{default:o(({isSelected:N,toggle:R})=>[t(p,{color:N?P.color:P.color+"-lighten-5",subtitle:_.$t("_app.settings.props."+P.name),class:"ma-1 pa-0",variant:"flat",onClick:R},{prepend:o(()=>[t(a)]),append:o(()=>[t(a,{icon:V(P.name).icon,color:V(P.name).color},null,8,["icon","color"])]),_:2},1032,["color","subtitle","onClick"])]),_:2},1024)]),_:2},1032,["cols"]),[[qe,!n(P.name)]])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(g,null,{default:o(()=>[t(O,null,{default:o(()=>[($(!0),H(M,null,W(b.value,P=>($(),C(B,{key:P.prop},{default:o(()=>[t(U,null,{actions:o(({expanded:N})=>[t(a,{color:N?"":S(P).color,icon:N?"mdi-chevron-up":S(P).icon},null,8,["color","icon"])]),default:o(()=>[Q(X(r.value?r.value+"-":"")+X(P.prop)+" ",1)]),_:2},1024),t(K,null,{default:o(()=>[P.type==="types"?($(),C(D,{key:0,modelValue:I(w).app.config[e.type][e.typeIdx][e.section][k.value-1].level[P.prop],"onUpdate:modelValue":[N=>I(w).app.config[e.type][e.typeIdx][e.section][k.value-1].level[P.prop]=N,N=>u(N,P.prop)],items:s,label:_.$t("_app.settings.props.type"),density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","label"])):A("",!0),P.type==="json"?($(),C(Qe,{key:1,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:k.value-1,mainSection:i[x.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):A("",!0),P.type==="defs"?($(),C(je,{key:2,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:k.value-1,mainSection:i[x.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):A("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(g,null,{default:o(()=>[t(v,{"no-gutters":""},{default:o(()=>[t(d,null,{default:o(()=>[t(te,{modelValue:k.value,"onUpdate:modelValue":l[1]||(l[1]=P=>k.value=P),length:h.value,"total-visible":"5",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),t(d,{cols:"2",class:"text-right"},{default:o(()=>[t(ae,{variant:"text",icon:"mdi-plus",onClick:l[2]||(l[2]=P=>q())}),t(ae,{variant:"text",icon:"mdi-delete",disabled:h.value<2,onClick:l[3]||(l[3]=P=>E())},null,8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}},$e={__name:"SettingsProps",props:{type:String},setup(F){const e=F,i=J(),s=Ae(),{mobile:m}=de(),w="_app.settings."+e.type+".",x=j(()=>{let l=[{key:"name",title:s.t(w+"title"),sortable:!0,align:"start"},{key:"actions",title:"",sortable:!1,align:"end"}];return m.value||(e.type==="panels"?l=[{key:"name",title:s.t(w+"title"),sortable:!0,align:"start"},{key:"devices",title:"Devices",sortable:!0,align:"start"},{key:"advanced",title:s.t(w+"extended"),sortable:!0},{key:"actions",title:"",sortable:!1,align:"end"}]:l=[{key:"name",title:s.t(w+"title"),sortable:!0,align:"start"},{key:"panels",title:s.t("_app.settings.panels.title",2),sortable:!0,align:"end"},{key:"actions",title:"",sortable:!1,align:"end"}]),l}),n=T(),r=j(()=>{let l=[],a=[],p="",f=null;for(const[d,v]of Object.entries(i.app.config[e.type]))v.dist||(a=[],e.type==="panels"?(Object.keys(v.status).length>0&&a.push("status"),(v.main.length>1||Object.keys(v.main[0].level).length>0)&&a.push("main"),Object.keys(v.info).length>0&&a.push("info"),p=v.panel.devices.join(", ")):f=i.app.config.panels.map(y=>y.template).filter(y=>y===v.name).length,l.push({idx:parseFloat(d),name:v.name,advanced:a.length>0?a.join(", "):"-",panels:f||"-",devices:p}));return l.sort((d,v)=>d.name.toUpperCase()>v.name.toUpperCase()?1:v.name.toUpperCase()>d.name.toUpperCase()?-1:0),l}),b=j(()=>!(u.value.newItem&&r.value.map(l=>l.name).indexOf(u.value.newItem)===-1)),k=j(()=>{let l=[];for(const a of i.app.config.panels)a.template===n.value.name&&l.push(a.name);return l.sort((a,p)=>a.toUpperCase()>p.toUpperCase()?1:p.toUpperCase()>a.toUpperCase()?-1:0),q(l[0]),l}),h=j(()=>{let l=[{value:"panel"},{value:"status"},{value:"main"},{value:"info"}];for(const a of l)a.title=s.t("_app.settings.props."+a.value);return l}),u=T({search:"",newItem:"",itemIdx:null,extended:e.type!=="panels",rawMode:!1,section:"panel",panel:null,preview:"panel"});function q(l){u.value.panel=l}function E(){let l=i.app.panelList.map(a=>a.name).indexOf(e.type==="templates"?u.value.panel:n.value.name);return l!==-1?i.app.panelList[l]:null}function V(){let l={name:u.value.newItem,template:null,panel:{},status:{},main:[{level:{}}],info:{}},a={name:u.value.newItem,author:null,date:null,panel:{},status:{},main:[{level:{}}],info:{}};i.app.config[e.type].push(e.type==="panels"?l:a),u.value.newItem=""}function S(l){n.value=i.app.config[e.type][l],u.value.itemIdx=l,u.value.extended=r.value[r.value.map(a=>a.idx).indexOf(l)].advanced!=="-"}function _(l){i.app.config[e.type].splice(l,1)}return(l,a)=>{const p=c("v-btn"),f=c("v-list-item"),d=c("v-text-field"),v=c("v-col"),y=c("v-row"),g=c("v-data-table"),U=c("v-autocomplete"),D=c("v-switch"),K=c("v-divider"),B=c("v-list");return $(),C(B,null,{default:o(()=>[t(f,{title:l.$t(w+"title",n.value?1:2)+(n.value?" ("+n.value.name+")":"")},{append:o(()=>[t(p,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:a[0]||(a[0]=O=>I(i).help(e.type==="panels"?"panels":"vorlagen"))})]),_:1},8,["title"]),n.value?A("",!0):($(),C(f,{key:0},{default:o(()=>[t(y,{"no-gutters":""},{default:o(()=>[t(v,null,{default:o(()=>[t(d,{modelValue:u.value.search,"onUpdate:modelValue":a[1]||(a[1]=O=>u.value.search=O),label:l.$t(w+"search"),"prepend-inner-icon":"mdi-magnify","single-line":"",clearable:"",density:"compact",variant:"outlined"},null,8,["modelValue","label"])]),_:1}),t(v,{class:"mx-2"},{default:o(()=>[t(d,{modelValue:u.value.newItem,"onUpdate:modelValue":a[3]||(a[3]=O=>u.value.newItem=O),label:l.$t(w+"new"),"single-line":"",clearable:"",density:"compact",variant:"outlined"},{append:o(()=>[t(p,{variant:"text",icon:"mdi-plus",disabled:b.value,density:"compact",onClick:a[2]||(a[2]=O=>V())},null,8,["disabled"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1})]),_:1})),n.value?A("",!0):($(),C(f,{key:1},{default:o(()=>[t(g,{headers:x.value,items:r.value,search:u.value.search,density:"compact"},{"item.actions":o(({item:O})=>[t(p,{icon:"mdi-pencil",variant:"plain",density:"compact",class:"mr-3",onClick:te=>S(O.idx)},null,8,["onClick"]),t(p,{icon:"mdi-delete",variant:"plain",density:"compact",onClick:te=>_(O.idx)},null,8,["onClick"])]),_:1},8,["headers","items","search"])]),_:1})),n.value?($(),C(f,{key:2},{default:o(()=>[t(y,null,{default:o(()=>[t(v,null,{default:o(()=>[t(y,{class:"align-center"},{default:o(()=>[t(p,{variant:"plain",icon:"mdi-arrow-up-left",onClick:a[4]||(a[4]=O=>n.value=null)}),t(v,{cols:"10",md:""},{default:o(()=>[t(U,{modelValue:u.value.section,"onUpdate:modelValue":a[5]||(a[5]=O=>u.value.section=O),items:h.value,disabled:!(u.value.extended||e.type==="templates"),density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","items","disabled"])]),_:1}),e.type==="panels"?($(),C(v,{key:0,cols:"6",md:"auto",class:"pl-5"},{default:o(()=>[t(D,{modelValue:u.value.extended,"onUpdate:modelValue":[a[6]||(a[6]=O=>u.value.extended=O),a[7]||(a[7]=O=>O?null:u.value.section="panel")],label:l.$t("_app.settings.panels.extended"),color:"blue","hide-details":""},null,8,["modelValue","label"])]),_:1})):A("",!0),t(v,{cols:"6",md:"auto",class:"pl-5"},{default:o(()=>[t(D,{modelValue:u.value.rawMode,"onUpdate:modelValue":a[8]||(a[8]=O=>u.value.rawMode=O),label:l.$t("_app.settings.panels.rawMode"),color:"blue","hide-details":""},null,8,["modelValue","label"])]),_:1})]),_:1}),t(y,{"no-gutters":""},{default:o(()=>[t(v,null,{default:o(()=>[u.value.section!=="main"?($(),C(Te,{key:0,type:F.type,typeIdx:u.value.itemIdx,section:u.value.section,extended:u.value.extended},null,8,["type","typeIdx","section","extended"])):A("",!0),u.value.section==="main"?($(),C(Xe,{key:1,type:F.type,typeIdx:u.value.itemIdx,section:u.value.section},null,8,["type","typeIdx","section"])):A("",!0)]),_:1})]),_:1})]),_:1}),t(K,{vertical:!I(m)},null,8,["vertical"]),t(v,{cols:"12",lg:"4"},{default:o(()=>[t(y,{class:"align-center pt-2"},{default:o(()=>[t(v,null,{default:o(()=>[t(U,{modelValue:u.value.panel,"onUpdate:modelValue":a[9]||(a[9]=O=>u.value.panel=O),items:k.value,label:l.$t("_app.settings.panels.preview"),disabled:e.type!=="templates",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),t(p,{class:"mr-3",variant:"plain",icon:u.value.preview==="panel"?"mdi-code-json":"mdi-view-day",onClick:a[10]||(a[10]=O=>u.value.preview=u.value.preview==="panel"?"json":"panel")},null,8,["icon"]),u.value.preview==="panel"&&I(i).app.isReady&&E()?($(),C(v,{key:0,cols:"12",class:"pt-0"},{default:o(()=>[t(Oe,{panel:E()},null,8,["panel"])]),_:1})):A("",!0),u.value.preview==="json"?($(),C(v,{key:1,cols:"12"},{default:o(()=>[t(I(ze),{data:E(),deep:1,showLine:!1},null,8,["data"])]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})}}},Ve="_app.settings.colors.",et={__name:"SettingsColors",setup(F){const{mobile:e}=de(),i=J(),s=T(),m=j(()=>Object.keys(i.app.config.colors)),w=j(()=>{let r=[];for(const b of m.value)for(const k of Object.keys(i.app.config.colors[b]))r.indexOf(k)===-1&&r.push(k);return r});function x(){i.app.config.colors.dark||(i.app.config.colors.dark={}),i.app.config.colors.light||(i.app.config.colors.light={}),i.app.config.colors.dark[s.value]="#E0E0E0",i.app.config.colors.light[s.value]="#E0E0E0",s.value=null}function n(r){for(const b of m.value)delete i.app.config.colors[b][r]}return(r,b)=>{const k=c("v-btn"),h=c("v-list-item"),u=c("v-color-picker"),q=c("v-spacer"),E=c("v-card-actions"),V=c("v-card"),S=c("v-dialog"),_=c("v-col"),l=c("v-divider"),a=c("v-row"),p=c("v-text-field"),f=c("v-list");return $(),C(f,null,{default:o(()=>[t(h,{title:r.$t(Ve+"title",2)},{append:o(()=>[t(k,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:b[0]||(b[0]=d=>I(i).help("farben"))})]),_:1},8,["title"]),t(h,null,{default:o(()=>[t(a,{"no-gutters":"",class:"text-right"},{default:o(()=>[t(_,null,{default:o(()=>[($(!0),H(M,null,W(w.value,d=>($(),C(a,{key:d,"no-gutters":"",class:"pt-3"},{default:o(()=>[($(!0),H(M,null,W(m.value,v=>($(),C(_,{key:v,cols:"12",lg:"",class:"pa-2"},{default:o(()=>[t(S,{width:"350"},{activator:o(({props:y})=>[t(k,Pe({text:d+" ["+v+"] "+(I(i).app.config.colors[v][d]||""),color:I(i).app.config.colors[v][d],modelValue:I(i).app.config.colors[v][d],"onUpdate:modelValue":g=>I(i).app.config.colors[v][d]=g,size:"large",width:"350"},y),null,16,["text","color","modelValue","onUpdate:modelValue"])]),default:o(({isActive:y})=>[t(V,null,{default:o(()=>[t(u,{modelValue:I(i).app.config.colors[v][d],"onUpdate:modelValue":g=>I(i).app.config.colors[v][d]=g,"show-swatches":"",mode:"hexa",width:"350",elevation:"0","swatches-max-height":"400px"},null,8,["modelValue","onUpdate:modelValue"]),t(E,null,{default:o(()=>[t(q),t(k,{onClick:g=>y.value=!1},{default:o(()=>[Q("ok")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t(_,{cols:"12",lg:"1",class:"pt-1"},{default:o(()=>[t(k,{variant:"text",icon:"mdi-delete",onClick:v=>n(d)},null,8,["onClick"])]),_:2},1024),I(e)?($(),C(l,{key:0})):A("",!0)]),_:2},1024))),128))]),_:1}),I(e)?A("",!0):($(),C(l,{key:0,vertical:"",class:"mx-5"})),t(_,{cols:"12",lg:"3"},{default:o(()=>[t(a,{"no-gutters":"",class:"pt-3"},{default:o(()=>[t(_,{class:"pt-2"},{default:o(()=>[t(p,{density:"compact",variant:"outlined",clearable:"",label:r.$t(Ve+"newKey"),modelValue:s.value,"onUpdate:modelValue":b[1]||(b[1]=d=>s.value=d)},null,8,["label","modelValue"])]),_:1}),t(_,{cols:"3",class:"pt-1"},{default:o(()=>[t(k,{variant:"text",icon:"mdi-plus",onClick:b[2]||(b[2]=d=>x())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ue="_app.settings.content.",tt={__name:"SettingsContent",setup(F){const{mobile:e}=de(),i=J(),s=T(),m=T(),w=T(!1),x=T(!1),n=j(()=>Object.keys(i.app.config.content)),r=j(()=>{let E=[];for(const V of n.value)for(const S of Object.keys(i.app.config.content[V]))E.indexOf(S)===-1&&E.push(S);return E}),b={iso639code:E=>/^[a-z]{2}$/.test(E)||i.replacer("%t(_app.settings.rules.iso639code)")};function k(){i.app.config.content[n.value[0]][s.value]="",s.value=null}function h(){i.app.config.content[m.value]={},m.value=null,w.value=!1}function u(){delete i.app.config.content[m.value],m.value=null}function q(E){for(const V of n.value)delete i.app.config.content[V][E]}return(E,V)=>{const S=c("v-btn"),_=c("v-list-item"),l=c("v-text-field"),a=c("v-col"),p=c("v-divider"),f=c("v-row"),d=c("v-autocomplete"),v=c("v-form"),y=c("v-list");return $(),C(y,null,{default:o(()=>[t(_,{title:E.$t(ue+"title",2)},{append:o(()=>[t(S,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:V[0]||(V[0]=g=>I(i).help("sprachen"))})]),_:1},8,["title"]),t(_,null,{default:o(()=>[t(f,{"no-gutters":"",class:"text-right"},{default:o(()=>[t(a,null,{default:o(()=>[($(!0),H(M,null,W(r.value,g=>($(),C(f,{key:g,"no-gutters":"",class:"pt-3"},{default:o(()=>[($(!0),H(M,null,W(n.value,U=>($(),C(a,{key:U,cols:"12",lg:"",class:"pa-2"},{default:o(()=>[t(l,{density:"compact",variant:"outlined","hide-details":"",clearable:"",label:g+" ["+U+"]",modelValue:I(i).app.config.content[U][g],"onUpdate:modelValue":D=>I(i).app.config.content[U][g]=D},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),t(a,{cols:"12",lg:"1",class:"pt-1"},{default:o(()=>[t(S,{variant:"text",icon:"mdi-delete",onClick:U=>q(g)},null,8,["onClick"])]),_:2},1024),I(e)?($(),C(p,{key:0})):A("",!0)]),_:2},1024))),128))]),_:1}),I(e)?A("",!0):($(),C(p,{key:0,vertical:"",class:"mx-5"})),t(a,{cols:"12",lg:"3"},{default:o(()=>[t(f,{"no-gutters":"",class:"pt-3"},{default:o(()=>[t(a,{class:"pt-2"},{default:o(()=>[t(l,{density:"compact",variant:"outlined",clearable:"",disabled:n.value.length<1,label:E.$t(ue+"newKey"),modelValue:s.value,"onUpdate:modelValue":V[1]||(V[1]=g=>s.value=g)},null,8,["disabled","label","modelValue"])]),_:1}),t(a,{cols:"4",class:"pt-1"},{default:o(()=>[t(S,{variant:"text",icon:"mdi-plus",disabled:n.value.length<1,onClick:V[2]||(V[2]=g=>k())},null,8,["disabled"])]),_:1})]),_:1}),t(v,{modelValue:x.value,"onUpdate:modelValue":V[10]||(V[10]=g=>x.value=g)},{default:o(()=>[t(f,{"no-gutters":""},{default:o(()=>[w.value?($(),C(a,{key:0},{default:o(()=>[t(l,{density:"compact",variant:"outlined",clearable:"",label:E.$t(ue+"newLang"),rules:[b.iso639code],"append-inner-icon":"mdi-help-circle","onClick:appendInner":V[3]||(V[3]=g=>E.openHelp("Sprachcodes")),modelValue:m.value,"onUpdate:modelValue":V[4]||(V[4]=g=>m.value=g)},null,8,["label","rules","modelValue"])]),_:1})):A("",!0),w.value?($(),C(a,{key:1,cols:"4"},{default:o(()=>[t(S,{variant:"text",icon:"mdi-check",disabled:!x.value,onClick:V[5]||(V[5]=g=>h())},null,8,["disabled"]),t(S,{variant:"text",icon:"mdi-cancel",onClick:V[6]||(V[6]=g=>{w.value=!w.value,m.value=null})})]),_:1})):A("",!0),w.value?A("",!0):($(),C(a,{key:2},{default:o(()=>[t(d,{modelValue:m.value,"onUpdate:modelValue":V[7]||(V[7]=g=>m.value=g),items:n.value,label:E.$t(ue+"title"),disabled:n.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})),w.value?A("",!0):($(),C(a,{key:3,cols:"4"},{default:o(()=>[t(S,{variant:"text",icon:"mdi-plus",onClick:V[8]||(V[8]=g=>{w.value=!w.value,m.value=null})}),t(S,{variant:"text",icon:"mdi-delete",disabled:n.value.length===0||n.value.indexOf(m.value)===-1,onClick:V[9]||(V[9]=g=>u())},null,8,["disabled"])]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},ot={__name:"SettingsView",setup(F){const e=["header","panels","templates","navigation","colors","content"],i=T(e[0]),s=T(!1),m=J();De(m.app.config,x=>{x&&m.app.isReady&&(s.value=!0)});async function w(x){let n=null;if(x){for(const[r,b]of Object.entries(m.app.config.templates))b.dist&&m.app.config.templates.splice(r,1);n=encodeURIComponent(btoa(JSON.stringify(m.app.config))),await m.request("text","set "+m.app.fhemDevice+" config "+n)}await m.createSession(),s.value=!1}return(x,n)=>{const r=c("v-toolbar-title"),b=c("v-btn"),k=c("v-toolbar"),h=c("v-tab"),u=c("v-tabs"),q=c("v-card");return $(),C(q,null,{default:o(()=>[t(k,null,{append:o(()=>[s.value?($(),C(b,{key:0,icon:"mdi-cancel",onClick:n[0]||(n[0]=E=>w(!1))})):A("",!0),t(b,{disabled:!s.value,icon:"mdi-content-save-outline",onClick:n[1]||(n[1]=E=>w(!0))},null,8,["disabled"])]),default:o(()=>[t(r,null,{default:o(()=>[Q(X(x.$t("_app.settings.title")),1)]),_:1})]),_:1}),t(u,{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=E=>i.value=E)},{default:o(()=>[($(),H(M,null,W(e,E=>t(h,{value:E,key:E},{default:o(()=>[Q(X(x.$t("_app.settings."+E+".title",2)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),i.value==="header"?($(),C(Ne,{key:0})):A("",!0),i.value==="navigation"?($(),C(Le,{key:1})):A("",!0),i.value==="panels"?($(),C($e,{key:2,type:i.value},null,8,["type"])):A("",!0),i.value==="templates"?($(),C($e,{key:3,type:i.value},null,8,["type"])):A("",!0),i.value==="colors"?($(),C(et,{key:4})):A("",!0),i.value==="content"?($(),C(tt,{key:5})):A("",!0)]),_:1})}}};export{ot as default};
