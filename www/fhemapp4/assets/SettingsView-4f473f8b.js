import{u as G,f as H,g as Ie,r as m,o as x,a as C,w as a,e as t,h as I,b as R,F as W,d as Y,i as me,j as Q,t as X,k as q,l as qe,m as le,c as M,n as De,v as Ae,p as Pe,q as Se,s as je,x as ze}from"./index-59d23f5a.js";import{c as _e,u as Oe,V as Ne}from"./index-97c0ecea.js";import{_ as Le}from"./PanelCard-23880320.js";const z="_app.settings.header.",Ke={__name:"SettingsHeader",setup(U){const e=G(),o={required:l=>!!l||e.replacer("%t(_app.settings.rules.required)")},u=H(),f=Ie({name:"",title:"",icon:"",cmd:""});function V(){e.app.config.header.commands||(e.app.config.header.commands=[]),e.app.config.header.commands.push(JSON.parse(JSON.stringify(f))),u.value.reset()}function y(l){e.app.config.header.commands.splice(l,1)}return(l,i)=>{const _=m("v-btn"),$=m("v-list-item"),h=m("v-text-field"),k=m("v-col"),D=m("v-checkbox"),d=m("v-row"),S=m("v-divider"),E=m("v-form"),b=m("v-list");return x(),C(b,null,{default:a(()=>[t($,{title:l.$t(z+"barTitle")},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[0]||(i[0]=n=>I(e).help("kopfzeile"))})]),_:1},8,["title"]),t($,null,{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(k,{cols:"12",lg:"4",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"imageUrlPlaceholder"),label:l.$t(z+"imageUrl"),modelValue:I(e).app.config.header.imageUrl,"onUpdate:modelValue":i[1]||(i[1]=n=>I(e).app.config.header.imageUrl=n)},null,8,["placeholder","label","modelValue"])]),_:1}),t(k,{cols:"12",lg:"5",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"imageGradientPlaceholder"),label:l.$t(z+"imageGradient"),modelValue:I(e).app.config.header.imageGradient,"onUpdate:modelValue":i[2]||(i[2]=n=>I(e).app.config.header.imageGradient=n)},null,8,["placeholder","label","modelValue"])]),_:1}),t(k,{cols:"6",lg:"",class:"pt-1"},{default:a(()=>[t(D,{hint:l.$t(z+"showTimeHint"),label:l.$t(z+"showTime"),modelValue:I(e).app.config.header.showTime,"onUpdate:modelValue":i[3]||(i[3]=n=>I(e).app.config.header.showTime=n)},null,8,["hint","label","modelValue"])]),_:1}),t(k,{cols:"6",lg:"",class:"pt-1"},{default:a(()=>[t(D,{hint:l.$t(z+"showDateHint"),label:l.$t(z+"showDate"),modelValue:I(e).app.config.header.showDate,"onUpdate:modelValue":i[4]||(i[4]=n=>I(e).app.config.header.showDate=n)},null,8,["hint","label","modelValue"])]),_:1})]),_:1})]),_:1}),t(S),t($,{title:l.$t(z+"optionsTitle")},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[5]||(i[5]=n=>I(e).help("optionsmenü"))})]),_:1},8,["title"]),t($,null,{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(k,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(z+"showDarkMode"),modelValue:I(e).app.config.header.showDarkMode,"onUpdate:modelValue":i[6]||(i[6]=n=>I(e).app.config.header.showDarkMode=n)},null,8,["label","modelValue"])]),_:1}),t(k,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(z+"showReloadPage"),modelValue:I(e).app.config.header.showReloadPage,"onUpdate:modelValue":i[7]||(i[7]=n=>I(e).app.config.header.showReloadPage=n)},null,8,["label","modelValue"])]),_:1}),t(k,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(z+"showSettings"),modelValue:I(e).app.config.header.showSettings,"onUpdate:modelValue":i[8]||(i[8]=n=>I(e).app.config.header.showSettings=n)},null,8,["label","modelValue"])]),_:1}),t(k,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(z+"showLanguages"),modelValue:I(e).app.config.header.showLanguages,"onUpdate:modelValue":i[9]||(i[9]=n=>I(e).app.config.header.showLanguages=n)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),t(S),t($,{title:l.$t(z+"optionsCommandTitle")},{append:a(()=>[t(_,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[10]||(i[10]=n=>I(e).help("optionsmenü-fhem-befehle"))})]),_:1},8,["title"]),(x(!0),R(W,null,Y(I(e).app.config.header.commands,(n,s)=>(x(),C($,{key:s},{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(k,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandNamePlaceholder"),label:l.$t(z+"commandName"),rules:[o.required],modelValue:n.name,"onUpdate:modelValue":c=>n.name=c},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(k,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandTitlePlaceholder"),label:l.$t(z+"commandTitle"),rules:[o.required],modelValue:n.title,"onUpdate:modelValue":c=>n.title=c},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(k,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandIconPlaceholder"),label:l.$t(z+"commandIcon"),"append-inner-icon":n.icon,modelValue:n.icon,"onUpdate:modelValue":c=>n.icon=c},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(k,{cols:"10",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandCmdPlaceholder"),label:l.$t(z+"commandCmd"),rules:[o.required],modelValue:n.cmd,"onUpdate:modelValue":c=>n.cmd=c},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(k,{class:"pt-3 text-right"},{default:a(()=>[t(_,{variant:"text",icon:"mdi-delete",onClick:c=>y(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t($,null,{default:a(()=>[t(E,{ref_key:"form",ref:u},{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(k,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandNamePlaceholder"),label:l.$t(z+"commandName"),rules:[o.required],modelValue:f.name,"onUpdate:modelValue":i[11]||(i[11]=n=>f.name=n)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(k,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandTitlePlaceholder"),label:l.$t(z+"commandTitle"),rules:[o.required],modelValue:f.title,"onUpdate:modelValue":i[12]||(i[12]=n=>f.title=n)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(k,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandIconPlaceholder"),label:l.$t(z+"commandIcon"),"append-inner-icon":f.icon,modelValue:f.icon,"onUpdate:modelValue":i[13]||(i[13]=n=>f.icon=n)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(k,{cols:"9",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(z+"commandCmdPlaceholder"),label:l.$t(z+"commandCmd"),rules:[o.required],modelValue:f.cmd,"onUpdate:modelValue":i[14]||(i[14]=n=>f.cmd=n)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(k,{class:"pt-3 text-right"},{default:a(()=>[t(_,{variant:"text",icon:"mdi-cancel",onClick:i[15]||(i[15]=n=>u.value.reset())}),t(_,{variant:"text",icon:"mdi-plus",disabled:!f.name||!f.title||!f.cmd,onClick:i[16]||(i[16]=n=>V())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},K="_app.settings.navigation.",He={__name:"SettingsNavigation",setup(U){const{mobile:e}=me(),o=G(),u=Ie({path:[],route:["navigation"],items:[],newItem:{name:null,title:null,icon:null,divider:!1,groupAsChips:!1,sort:!1,group:[]}}),f=H(),V={required:h=>!!h||o.replacer("%t(_app.settings.rules.required)")};function y(h){typeof h<"u"&&(u.path.push(h,"group"),u.route.push(u.items[h].name)),u.items=o.getEl(o.app.config.navigation,u.path)}function l(){let h=JSON.parse(JSON.stringify(u.newItem));o.getEl(o.app.config.navigation,u.path).push(h),y(),f.value.reset()}function i(h){o.getEl(o.app.config.navigation,u.path).splice(h,1)}function _(h){return(o.getEl(u.items[h],["group"])||[]).length}function $(){u.route.pop(),u.path.splice(-2,2),y()}return y(),(h,k)=>{const D=m("v-btn"),d=m("v-list-item"),S=m("v-text-field"),E=m("v-col"),b=m("v-checkbox"),n=m("v-icon"),s=m("v-badge"),c=m("v-row"),g=m("v-divider"),v=m("v-form"),w=m("v-list");return x(),C(w,null,{default:a(()=>[t(d,{title:h.$t(K+"title")},{append:a(()=>[t(D,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:k[0]||(k[0]=p=>I(o).help("navigation"))})]),_:1},8,["title"]),u.path.length>0?(x(),C(d,{key:0},{default:a(()=>[t(D,{variant:"text",icon:"mdi-arrow-up-left",onClick:k[1]||(k[1]=p=>$())}),Q(" "+X(u.route.join(" > ")),1)]),_:1})):q("",!0),(x(!0),R(W,null,Y(u.items,(p,r)=>(x(),C(d,{key:r},{default:a(()=>[t(c,{"no-gutters":""},{default:a(()=>[t(E,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(K+"namePlaceholder"),label:h.$t(K+"name"),rules:[V.required],modelValue:p.name,"onUpdate:modelValue":F=>p.name=F},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(K+"title1Placeholder"),label:h.$t(K+"title1"),modelValue:p.title,"onUpdate:modelValue":F=>p.title=F},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(K+"iconPlaceholder"),label:h.$t(K+"icon"),"append-inner-icon":p.icon,modelValue:p.icon,"onUpdate:modelValue":F=>p.icon=F},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:4,lg:"",class:"pt-1"},{default:a(()=>[t(b,{hint:h.$t(K+"groupAsChipsHint"),label:h.$t(K+"groupAsChips"),modelValue:p.groupAsChips,"onUpdate:modelValue":F=>p.groupAsChips=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:4,lg:"",class:"pt-1"},{default:a(()=>[t(b,{hint:h.$t(K+"sortHint"),label:h.$t(K+"sort"),modelValue:p.sort,"onUpdate:modelValue":F=>p.sort=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(b,{hint:h.$t(K+"dividerHint"),label:h.$t(K+"divider"),modelValue:p.divider,"onUpdate:modelValue":F=>p.divider=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{class:"pt-3 text-right"},{default:a(()=>[t(D,{variant:"text",icon:"",onClick:F=>y(r)},{default:a(()=>[_(r)>0?(x(),C(s,{key:0,color:"success",content:_(r)},{default:a(()=>[t(n,{icon:"mdi-arrow-down-right"})]),_:2},1032,["content"])):q("",!0),_(r)===0?(x(),C(n,{key:1,icon:"mdi-arrow-down-right"})):q("",!0)]),_:2},1032,["onClick"]),t(D,{variant:"text",icon:"mdi-delete",onClick:F=>i(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),I(e)?(x(),C(g,{key:0})):q("",!0)]),_:2},1024))),128)),t(d,null,{default:a(()=>[t(v,{ref_key:"form",ref:f},{default:a(()=>[t(c,{"no-gutters":""},{default:a(()=>[t(E,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(K+"namePlaceholder"),label:h.$t(K+"name"),rules:[V.required],modelValue:u.newItem.name,"onUpdate:modelValue":k[2]||(k[2]=p=>u.newItem.name=p)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(K+"title1Placeholder"),label:h.$t(K+"title1"),modelValue:u.newItem.title,"onUpdate:modelValue":k[3]||(k[3]=p=>u.newItem.title=p)},null,8,["placeholder","label","modelValue"])]),_:1}),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:h.$t(K+"iconPlaceholder"),label:h.$t(K+"icon"),"append-inner-icon":u.newItem.icon,modelValue:u.newItem.icon,"onUpdate:modelValue":k[4]||(k[4]=p=>u.newItem.icon=p)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(b,{hint:h.$t(K+"groupAsChipsHint"),label:h.$t(K+"groupAsChips"),modelValue:u.newItem.groupAsChips,"onUpdate:modelValue":k[5]||(k[5]=p=>u.newItem.groupAsChips=p)},null,8,["hint","label","modelValue"])]),_:1}),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(b,{hint:h.$t(K+"sortHint"),label:h.$t(K+"sort"),modelValue:u.newItem.sort,"onUpdate:modelValue":k[6]||(k[6]=p=>u.newItem.sort=p)},null,8,["hint","label","modelValue"])]),_:1}),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(b,{hint:h.$t(K+"dividerHint"),label:h.$t(K+"divider"),modelValue:u.newItem.divider,"onUpdate:modelValue":k[7]||(k[7]=p=>u.newItem.divider=p)},null,8,["hint","label","modelValue"])]),_:1}),t(E,{class:"pt-3 text-right"},{default:a(()=>[t(D,{variant:"text",icon:"mdi-cancel",onClick:k[8]||(k[8]=p=>f.value.reset())}),t(D,{variant:"text",icon:"mdi-plus",disabled:!u.newItem.name,onClick:k[9]||(k[9]=p=>l())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}};function ie(){return ie=Object.assign||function(U){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(U[u]=o[u])}return U},ie.apply(this,arguments)}var Te=13,Me=9,Be=8,Je=89,ue=90,Re=77,be=57,xe=219,ke=222,we=192,We=27,$e=100,Ye=3e3,Ge=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),he=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ee=qe({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(e){e?this.codeData=e:this.codeData=""}},content:{immediate:!0,handler:function(){var e=this;this.lineNumbers&&this.$nextTick(function(){e.setLineNumbersHeight()})}},lineNumbers:function(){var e=this;this.$nextTick(function(){e.styleLineNumbers(),e.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var e=this.highlight(this.codeData)+"<br />";return e},lineNumbersCount:function(){var e=this.codeData.split(/\r\n|\n/).length;return e}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var e=this.$refs.pre,o=this.$el.querySelector(".prism-editor__line-numbers"),u=window.getComputedStyle(e);this.$nextTick(function(){var f="border-top-left-radius",V="border-bottom-left-radius";if(o){o.style[f]=u[f],o.style[V]=u[V],e.style[f]="0",e.style[V]="0";var y=["background-color","margin-top","padding-top","font-family","font-size","line-height"];y.forEach(function(l){o.style[l]=u[l]}),o.style["margin-bottom"]="-"+u["padding-top"]}})}},_recordCurrentState:function(){var e=this.$refs.textarea;if(e){var o=e.value,u=e.selectionStart,f=e.selectionEnd;this._recordChange({value:o,selectionStart:u,selectionEnd:f})}},_getLines:function(e,o){return e.substring(0,o).split(`
`)},_applyEdits:function(e){var o=this.$refs.textarea,u=this.history.stack[this.history.offset];u&&o&&(this.history.stack[this.history.offset]=ie({},u,{selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})),this._recordChange(e),this._updateInput(e)},_recordChange:function(e,o){o===void 0&&(o=!1);var u=this.history,f=u.stack,V=u.offset;if(f.length&&V>-1){this.history.stack=f.slice(0,V+1);var y=this.history.stack.length;if(y>$e){var l=y-$e;this.history.stack=f.slice(l,y),this.history.offset=Math.max(this.history.offset-l,0)}}var i=Date.now();if(o){var _=this.history.stack[this.history.offset];if(_&&i-_.timestamp<Ye){var $,h,k=/[^a-z0-9]([a-z0-9]+)$/i,D=($=this._getLines(_.value,_.selectionStart).pop())===null||$===void 0?void 0:$.match(k),d=(h=this._getLines(e.value,e.selectionStart).pop())===null||h===void 0?void 0:h.match(k);if(D&&d&&d[1].startsWith(D[1])){this.history.stack[this.history.offset]=ie({},e,{timestamp:i});return}}}this.history.stack.push(ie({},e,{timestamp:i})),this.history.offset++},_updateInput:function(e){var o=this.$refs.textarea;o&&(o.value=e.value,o.selectionStart=e.selectionStart,o.selectionEnd=e.selectionEnd,this.$emit("update:modelValue",e.value))},handleChange:function(e){var o=e.target,u=o.value,f=o.selectionStart,V=o.selectionEnd;this._recordChange({value:u,selectionStart:f,selectionEnd:V},!0),this.$emit("update:modelValue",u)},_undoEdit:function(){var e=this.history,o=e.stack,u=e.offset,f=o[u-1];f&&(this._updateInput(f),this.history.offset=Math.max(u-1,0))},_redoEdit:function(){var e=this.history,o=e.stack,u=e.offset,f=o[u+1];f&&(this._updateInput(f),this.history.offset=Math.min(u+1,o.length-1))},handleKeyDown:function(e){var o=this.tabSize,u=this.insertSpaces,f=this.ignoreTabKey;if(this.$emit("keydown",e),!e.defaultPrevented){e.keyCode===We&&(e.target.blur(),this.$emit("blur",e));var V=e.target,y=V.value,l=V.selectionStart,i=V.selectionEnd,_=(u?" ":"	").repeat(o);if(e.keyCode===Me&&!f&&this.capture)if(e.preventDefault(),e.shiftKey){var $=this._getLines(y,l),h=$.length-1,k=this._getLines(y,i).length-1,D=y.split(`
`).map(function(L,j){return j>=h&&j<=k&&L.startsWith(_)?L.substring(_.length):L}).join(`
`);if(y!==D){var d=$[h];this._applyEdits({value:D,selectionStart:d.startsWith(_)?l-_.length:l,selectionEnd:i-(y.length-D.length)})}}else if(l!==i){var S=this._getLines(y,l),E=S.length-1,b=this._getLines(y,i).length-1,n=S[E];this._applyEdits({value:y.split(`
`).map(function(L,j){return j>=E&&j<=b?_+L:L}).join(`
`),selectionStart:/\S/.test(n)?l+_.length:l,selectionEnd:i+_.length*(b-E+1)})}else{var s=l+_.length;this._applyEdits({value:y.substring(0,l)+_+y.substring(i),selectionStart:s,selectionEnd:s})}else if(e.keyCode===Be){var c=l!==i,g=y.substring(0,l);if(g.endsWith(_)&&!c){e.preventDefault();var v=l-_.length;this._applyEdits({value:y.substring(0,l-_.length)+y.substring(i),selectionStart:v,selectionEnd:v})}}else if(e.keyCode===Te){if(l===i){var w=this._getLines(y,l).pop(),p=w==null?void 0:w.match(/^\s+/);if(p&&p[0]){e.preventDefault();var r=`
`+p[0],F=l+r.length;this._applyEdits({value:y.substring(0,l)+r+y.substring(i),selectionStart:F,selectionEnd:F})}}}else if(e.keyCode===be||e.keyCode===xe||e.keyCode===ke||e.keyCode===we){var A;e.keyCode===be&&e.shiftKey?A=["(",")"]:e.keyCode===xe?e.shiftKey?A=["{","}"]:A=["[","]"]:e.keyCode===ke?e.shiftKey?A=['"','"']:A=["'","'"]:e.keyCode===we&&!e.shiftKey&&(A=["`","`"]),l!==i&&A&&(e.preventDefault(),this._applyEdits({value:y.substring(0,l)+A[0]+y.substring(l,i)+A[1]+y.substring(i),selectionStart:l,selectionEnd:i+2}))}else(he?e.metaKey&&e.keyCode===ue:e.ctrlKey&&e.keyCode===ue)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),this._undoEdit()):(he?e.metaKey&&e.keyCode===ue&&e.shiftKey:Ge?e.ctrlKey&&e.keyCode===Je:e.ctrlKey&&e.keyCode===ue&&e.shiftKey)&&!e.altKey?(e.preventDefault(),this._redoEdit()):e.keyCode===Re&&e.ctrlKey&&(!he||e.shiftKey)&&(e.preventDefault(),this.capture=!this.capture)}}},render:function(){var e=this,o=le("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),u=le("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[o,Array.from(Array(this.lineNumbersCount).keys()).map(function(l,i){return le("div",{class:"prism-editor__line-number token comment"},""+ ++i)})]),f=le("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(i){e.$emit("click",i)},onKeyup:function(i){e.$emit("keyup",i)},onFocus:function(i){e.$emit("focus",i)},onBlur:function(i){e.$emit("blur",i)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),V=le("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),y=le("div",{class:"prism-editor__container"},[f,V]);return le("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&u,y])}});var Fe={exports:{}};(function(U){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var o=function(u){var f=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,V=0,y={},l={manual:u.Prism&&u.Prism.manual,disableWorkerMessageHandler:u.Prism&&u.Prism.disableWorkerMessageHandler,util:{encode:function n(s){return s instanceof i?new i(s.type,n(s.content),s.alias):Array.isArray(s)?s.map(n):s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(n){return Object.prototype.toString.call(n).slice(8,-1)},objId:function(n){return n.__id||Object.defineProperty(n,"__id",{value:++V}),n.__id},clone:function n(s,c){c=c||{};var g,v;switch(l.util.type(s)){case"Object":if(v=l.util.objId(s),c[v])return c[v];g={},c[v]=g;for(var w in s)s.hasOwnProperty(w)&&(g[w]=n(s[w],c));return g;case"Array":return v=l.util.objId(s),c[v]?c[v]:(g=[],c[v]=g,s.forEach(function(p,r){g[r]=n(p,c)}),g);default:return s}},getLanguage:function(n){for(;n;){var s=f.exec(n.className);if(s)return s[1].toLowerCase();n=n.parentElement}return"none"},setLanguage:function(n,s){n.className=n.className.replace(RegExp(f,"gi"),""),n.classList.add("language-"+s)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(g){var n=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(g.stack)||[])[1];if(n){var s=document.getElementsByTagName("script");for(var c in s)if(s[c].src==n)return s[c]}return null}},isActive:function(n,s,c){for(var g="no-"+s;n;){var v=n.classList;if(v.contains(s))return!0;if(v.contains(g))return!1;n=n.parentElement}return!!c}},languages:{plain:y,plaintext:y,text:y,txt:y,extend:function(n,s){var c=l.util.clone(l.languages[n]);for(var g in s)c[g]=s[g];return c},insertBefore:function(n,s,c,g){g=g||l.languages;var v=g[n],w={};for(var p in v)if(v.hasOwnProperty(p)){if(p==s)for(var r in c)c.hasOwnProperty(r)&&(w[r]=c[r]);c.hasOwnProperty(p)||(w[p]=v[p])}var F=g[n];return g[n]=w,l.languages.DFS(l.languages,function(A,L){L===F&&A!=n&&(this[A]=w)}),w},DFS:function n(s,c,g,v){v=v||{};var w=l.util.objId;for(var p in s)if(s.hasOwnProperty(p)){c.call(s,p,s[p],g||p);var r=s[p],F=l.util.type(r);F==="Object"&&!v[w(r)]?(v[w(r)]=!0,n(r,c,null,v)):F==="Array"&&!v[w(r)]&&(v[w(r)]=!0,n(r,c,p,v))}}},plugins:{},highlightAll:function(n,s){l.highlightAllUnder(document,n,s)},highlightAllUnder:function(n,s,c){var g={callback:c,container:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",g),g.elements=Array.prototype.slice.apply(g.container.querySelectorAll(g.selector)),l.hooks.run("before-all-elements-highlight",g);for(var v=0,w;w=g.elements[v++];)l.highlightElement(w,s===!0,g.callback)},highlightElement:function(n,s,c){var g=l.util.getLanguage(n),v=l.languages[g];l.util.setLanguage(n,g);var w=n.parentElement;w&&w.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(w,g);var p=n.textContent,r={element:n,language:g,grammar:v,code:p};function F(L){r.highlightedCode=L,l.hooks.run("before-insert",r),r.element.innerHTML=r.highlightedCode,l.hooks.run("after-highlight",r),l.hooks.run("complete",r),c&&c.call(r.element)}if(l.hooks.run("before-sanity-check",r),w=r.element.parentElement,w&&w.nodeName.toLowerCase()==="pre"&&!w.hasAttribute("tabindex")&&w.setAttribute("tabindex","0"),!r.code){l.hooks.run("complete",r),c&&c.call(r.element);return}if(l.hooks.run("before-highlight",r),!r.grammar){F(l.util.encode(r.code));return}if(s&&u.Worker){var A=new Worker(l.filename);A.onmessage=function(L){F(L.data)},A.postMessage(JSON.stringify({language:r.language,code:r.code,immediateClose:!0}))}else F(l.highlight(r.code,r.grammar,r.language))},highlight:function(n,s,c){var g={code:n,grammar:s,language:c};if(l.hooks.run("before-tokenize",g),!g.grammar)throw new Error('The language "'+g.language+'" has no grammar.');return g.tokens=l.tokenize(g.code,g.grammar),l.hooks.run("after-tokenize",g),i.stringify(l.util.encode(g.tokens),g.language)},tokenize:function(n,s){var c=s.rest;if(c){for(var g in c)s[g]=c[g];delete s.rest}var v=new h;return k(v,v.head,n),$(n,v,s,v.head,0),d(v)},hooks:{all:{},add:function(n,s){var c=l.hooks.all;c[n]=c[n]||[],c[n].push(s)},run:function(n,s){var c=l.hooks.all[n];if(!(!c||!c.length))for(var g=0,v;v=c[g++];)v(s)}},Token:i};u.Prism=l;function i(n,s,c,g){this.type=n,this.content=s,this.alias=c,this.length=(g||"").length|0}i.stringify=function n(s,c){if(typeof s=="string")return s;if(Array.isArray(s)){var g="";return s.forEach(function(F){g+=n(F,c)}),g}var v={type:s.type,content:n(s.content,c),tag:"span",classes:["token",s.type],attributes:{},language:c},w=s.alias;w&&(Array.isArray(w)?Array.prototype.push.apply(v.classes,w):v.classes.push(w)),l.hooks.run("wrap",v);var p="";for(var r in v.attributes)p+=" "+r+'="'+(v.attributes[r]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+p+">"+v.content+"</"+v.tag+">"};function _(n,s,c,g){n.lastIndex=s;var v=n.exec(c);if(v&&g&&v[1]){var w=v[1].length;v.index+=w,v[0]=v[0].slice(w)}return v}function $(n,s,c,g,v,w){for(var p in c)if(!(!c.hasOwnProperty(p)||!c[p])){var r=c[p];r=Array.isArray(r)?r:[r];for(var F=0;F<r.length;++F){if(w&&w.cause==p+","+F)return;var A=r[F],L=A.inside,j=!!A.lookbehind,T=!!A.greedy,ae=A.alias;if(T&&!A.pattern.global){var te=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,te+"g")}for(var P=A.pattern||A,N=g.next,B=v;N!==s.tail&&!(w&&B>=w.reach);B+=N.value.length,N=N.next){var ee=N.value;if(s.length>n.length)return;if(!(ee instanceof i)){var ne=1,J;if(T){if(J=_(P,B,n,j),!J||J.index>=n.length)break;var re=J.index,O=J.index+J[0].length,Z=B;for(Z+=N.value.length;re>=Z;)N=N.next,Z+=N.value.length;if(Z-=N.value.length,B=Z,N.value instanceof i)continue;for(var oe=N;oe!==s.tail&&(Z<O||typeof oe.value=="string");oe=oe.next)ne++,Z+=oe.value.length;ne--,ee=n.slice(B,Z),J.index-=B}else if(J=_(P,0,ee,j),!J)continue;var re=J.index,se=J[0],fe=ee.slice(0,re),ye=ee.slice(re+se.length),ve=B+ee.length;w&&ve>w.reach&&(w.reach=ve);var pe=N.prev;fe&&(pe=k(s,pe,fe),B+=fe.length),D(s,pe,ne);var Ue=new i(p,L?l.tokenize(se,L):se,ae,se);if(N=k(s,pe,Ue),ye&&k(s,N,ye),ne>1){var ge={cause:p+","+F,reach:ve};$(n,s,c,N.prev,B,ge),w&&ge.reach>w.reach&&(w.reach=ge.reach)}}}}}}function h(){var n={value:null,prev:null,next:null},s={value:null,prev:n,next:null};n.next=s,this.head=n,this.tail=s,this.length=0}function k(n,s,c){var g=s.next,v={value:c,prev:s,next:g};return s.next=v,g.prev=v,n.length++,v}function D(n,s,c){for(var g=s.next,v=0;v<c&&g!==n.tail;v++)g=g.next;s.next=g,g.prev=s,n.length-=v}function d(n){for(var s=[],c=n.head.next;c!==n.tail;)s.push(c.value),c=c.next;return s}if(!u.document)return u.addEventListener&&(l.disableWorkerMessageHandler||u.addEventListener("message",function(n){var s=JSON.parse(n.data),c=s.language,g=s.code,v=s.immediateClose;u.postMessage(l.highlight(g,l.languages[c],c)),v&&u.close()},!1)),l;var S=l.util.currentScript();S&&(l.filename=S.src,S.hasAttribute("data-manual")&&(l.manual=!0));function E(){l.manual||l.highlightAll()}if(!l.manual){var b=document.readyState;b==="loading"||b==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return l}(e);U.exports&&(U.exports=o),typeof _e<"u"&&(_e.Prism=o)})(Fe);var ce=Fe.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Ze={__name:"SettingsPropsItem",props:{type:String,typeIdx:Number,section:String,prop:String,propDef:String,propHelp:String},setup(U){const e=U,o=G(),u=H(),f=H();function V(){o.app.config[e.type][e.typeIdx][e.section][e.prop]?o.app.config[e.type][e.typeIdx][e.section][e.prop].push(f.value):o.app.config[e.type][e.typeIdx][e.section][e.prop]=[f.value],u.value.reset()}function y(l){o.app.config[e.type][e.typeIdx][e.section][e.prop].splice(l,1),o.app.config[e.type][e.typeIdx][e.section][e.prop].length===0&&delete o.app.config[e.type][e.typeIdx][e.section][e.prop]}return(l,i)=>{const _=m("v-text-field"),$=m("v-col"),h=m("v-btn"),k=m("v-row"),D=m("v-list-item"),d=m("v-form"),S=m("v-list");return x(),C(S,{class:"pa-0"},{default:a(()=>[I(o).app.config[e.type][e.typeIdx][e.section][e.prop]?(x(),C(D,{key:0,class:"pa-0"},{default:a(()=>[(x(!0),R(W,null,Y(I(o).app.config[e.type][e.typeIdx][e.section][e.prop],(E,b)=>(x(),C(k,{key:b,"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,null,{default:a(()=>[t(_,{density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"Definition "+(b+1),modelValue:I(o).app.config[e.type][e.typeIdx][e.section][e.prop][b],"onUpdate:modelValue":n=>I(o).app.config[e.type][e.typeIdx][e.section][e.prop][b]=n},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(h,{variant:"plain",icon:"mdi-delete",onClick:n=>y(b)},null,8,["onClick"])]),_:2},1024))),128))]),_:1})):q("",!0),t(D,{class:"pa-0"},{default:a(()=>[t(d,{ref_key:"form",ref:u},{default:a(()=>[t(k,{"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,{cols:"10"},{default:a(()=>[t(_,{modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=E=>f.value=E),density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":i[1]||(i[1]=E=>I(o).help(U.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(h,{variant:"plain",icon:"mdi-plus",disabled:!f.value,onClick:i[2]||(i[2]=E=>V())},null,8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1})}}},Qe={__name:"SettingsPropsList",props:{type:String,typeIdx:Number,section:String,extended:Boolean},setup(U){const e=U,o=G(),u={panel:[{type:"defs",show:["panels","extended.panels"],required:!0,prop:"devices",def:"key:fhem_device",help:"element-devices"},{type:"template",show:["panels","extended.panels"],required:!1,prop:"template",help:"element-template"},{type:"text",show:["templates"],required:!1,prop:"author",def:"text"},{type:"text",show:["templates"],required:!1,prop:"date",def:"text"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"navigation",def:"reading:value:route",help:"element-navigation"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"expandable",def:"reading:value:expandable:expanded:maximizable",help:"element-expandable"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"sortby",def:"reading:value:sortkey",help:"element-sortkey"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"show",def:"reading:value:show",help:"element-show"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"iconmap",def:"search:icon",help:"element-iconmap"}],status:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar2",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"imageUrl",def:"reading:value:url",help:"element-imageurl"},{type:"defs",show:["panels","extended.panels","templates"],required:!0,prop:"title",def:"reading:value:title",help:"element-title"}],info:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right2",def:"reading:value:text:icon:color",help:"element-info"}]},f=M(()=>{let l=[],i=e.type==="panels"?e.extended?"extended.panels":"panels":"templates";for(const _ of u[e.section])_.show.indexOf(i)!==-1&&l.push(_);return l}),V=M(()=>{let l=[];for(const i of o.app.config.templates)i.dist||l.push({title:i.name,value:i.name});l.sort((i,_)=>i.title>_.title?1:_.title>i.title?-1:0);for(const i of o.app.distTemplates)l.push({title:i+" ("+o.replacer("%t(_app.default)","")+")",value:i});return l});function y(l){let i={icon:l.required?"mdi-alert-circle":"mdi-chevron-down",color:l.required?"error":null},_=[e.type,e.typeIdx],$=[];return e.section==="panel"&&["template","date","author"].indexOf(l.prop)!==-1?_.push(l.prop):_.push(e.section,l.prop),$=o.getEl(o.app.config,_),$&&$.length>0&&(i={icon:"mdi-check",color:"success"}),i}return(l,i)=>{const _=m("v-icon"),$=m("v-expansion-panel-title"),h=m("v-autocomplete"),k=m("v-text-field"),D=m("v-expansion-panel-text"),d=m("v-expansion-panel"),S=m("v-expansion-panels"),E=m("v-list-item");return x(),C(E,null,{default:a(()=>[t(S,null,{default:a(()=>[(x(!0),R(W,null,Y(f.value,b=>(x(),C(d,{key:b.prop},{default:a(()=>[t($,null,{actions:a(({expanded:n})=>[t(_,{color:n?"":y(b).color,icon:n?"mdi-chevron-up":y(b).icon},null,8,["color","icon"])]),default:a(()=>[Q(X(b.prop)+" ",1)]),_:2},1024),t(D,null,{default:a(()=>[b.type==="defs"?(x(),C(Ze,{key:0,type:e.type,typeIdx:e.typeIdx,section:e.section,prop:b.prop,propDef:b.def,propHelp:b.help},null,8,["type","typeIdx","section","prop","propDef","propHelp"])):q("",!0),b.type==="template"?(x(),C(h,{key:1,modelValue:I(o).app.config.panels[e.typeIdx].template,"onUpdate:modelValue":i[0]||(i[0]=n=>I(o).app.config.panels[e.typeIdx].template=n),items:V.value,label:l.$t("_app.settings.templates.title"),disabled:I(o).app.config.templates.length===0,density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","items","label","disabled"])):q("",!0),b.type==="text"?(x(),C(k,{key:2,modelValue:I(o).app.config[e.type][e.typeIdx][b.prop],"onUpdate:modelValue":n=>I(o).app.config[e.type][e.typeIdx][b.prop]=n,density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:b.def,label:b.prop,class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])):q("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},Xe={__name:"SettingsPropsMainItem",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(U){const e=U,o=G(),u=H(),f=H();function V(){o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].push(f.value):o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=[f.value],u.value.reset()}function y(l){o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].splice(l,1),o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].length===0&&delete o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]}return(l,i)=>{const _=m("v-text-field"),$=m("v-col"),h=m("v-btn"),k=m("v-row"),D=m("v-list-item"),d=m("v-form"),S=m("v-list");return x(),C(S,{class:"pa-0"},{default:a(()=>[I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?(x(),C(D,{key:0,class:"pa-0"},{default:a(()=>[(x(!0),R(W,null,Y(I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],(E,b)=>(x(),C(k,{key:b,"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,null,{default:a(()=>[t(_,{density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"Definition "+(b+1),modelValue:I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][b],"onUpdate:modelValue":n=>I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][b]=n},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(h,{variant:"plain",icon:"mdi-delete",onClick:n=>y(b)},null,8,["onClick"])]),_:2},1024))),128))]),_:1})):q("",!0),t(D,{class:"pa-0"},{default:a(()=>[t(d,{ref_key:"form",ref:u},{default:a(()=>[t(k,{"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,{cols:"10"},{default:a(()=>[t(_,{modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=E=>f.value=E),density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":i[1]||(i[1]=E=>I(o).help(U.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(h,{variant:"plain",icon:"mdi-plus",disabled:!f.value,onClick:i[2]||(i[2]=E=>V())},null,8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1})}}};const et={__name:"SettingsPropsMainJson",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(U){const e=U,o=G(),u=H(null),f=H(null);function V(l){return ce.highlight(l,ce.languages.js)}function y(){let l=o.stringToJson(u.value,!0);f.value=l.error,f.value||(o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=l.result)}return u.value=JSON.stringify(o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],null,"	"),(l,i)=>{const _=m("v-alert"),$=m("v-card");return x(),C($,{variant:f.value?"tonal":"outlined",color:f.value?"error":"",class:"pa-1 mt-2"},{default:a(()=>[t(I(Ee),{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=h=>u.value=h),highlight:V,"line-numbers":"",onInput:y},null,8,["modelValue"]),f.value?(x(),C(_,{key:0,color:"error",density:"compact"},{default:a(()=>[Q(X(f.value),1)]),_:1})):q("",!0)]),_:1},8,["variant","color"])}}},tt={__name:"SettingsPropsMain",props:{type:String,typeIdx:Number,section:String},setup(U){const e=U,o=[{name:"level",cols:12,color:"orange"},{name:"left1",color:"orange"},{name:"left2",color:"orange"},{name:"mid",color:"orange"},{name:"right1",color:"orange"},{name:"right2",color:"orange"}],u=[{title:"none",value:null},{title:"button",value:"btn"},{title:"info",value:"info"},{title:"slider",value:"slider"},{title:"image",value:"image"},{title:"menu",value:"menu"},{title:"chart",value:"chart"},{title:"colorpicker",value:"colorpicker"}],f={level:[{type:"defs",required:!1,prop:"show",def:"reading:value:show",help:"main-element-show"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"main-element-divider"},{type:"defs",required:!1,prop:"height",def:"reading:value:height",help:"main-element-height"},{type:"types",required:!1,prop:"left1",help:"main-element-typ"},{type:"types",required:!1,prop:"left2",help:"main-element-typ"},{type:"types",required:!1,prop:"mid",help:"main-element-typ"},{type:"types",required:!1,prop:"right1",help:"main-element-typ"},{type:"types",required:!1,prop:"right2",help:"main-element-typ"}],btn:[{type:"defs",required:!1,prop:"btn",def:"reading:value:icon:disabled:color:variant",help:"level-element-button-btn"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse",help:"level-element-button-status"},{type:"defs",required:!1,prop:"click",def:"reading:value:cmd:type",help:"level-element-button-click"},{type:"defs",required:!1,prop:"longClick",def:"reading:value:cmd:type",help:"level-element-button-longClick"},{type:"defs",required:!1,prop:"longRelease",def:"reading:value:cmd:type",help:"level-element-button-longRelease"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],slider:[{type:"defs",required:!1,prop:"slider",def:"reading:value:cmd:current:color:min:max:steps:reverse:size:vertical",help:"level-element-slider-slider"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],image:[{type:"defs",required:!1,prop:"image",def:"reading:value:source:height",help:"level-element-image-image"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],menu:[{type:"defs",required:!1,prop:"menu",def:"reading:value:name:cmd",help:"level-element-menu-menu"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],info:[{type:"defs",required:!1,prop:"text",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"icon",def:"reading:value:icon:color:size",help:"level-element-info-icon"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse:linear",help:"level-element-info-status"},{type:"defs",required:!1,prop:"text2",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"text3",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],chart:[{type:"defs",required:!1,prop:"serie",def:"reading:value:data:name:digits:suffix:type",help:"level-element-chart-serie"},{type:"json",required:!1,prop:"options",def:"",help:"level-element-chart-options"},{type:"json",required:!1,prop:"options2",def:"",help:"level-element-chart-options"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],colorpicker:[{type:"defs",required:!1,prop:"picker",def:"reading:value:cmd:current",help:"level-element-colorpicker-picker"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}]},V=G(),y=H(0);function l(b){return!V.app.config[e.type][e.typeIdx][e.section][$.value-1].level[b]&&b!=="level"}const i=M(()=>V.app.config[e.type][e.typeIdx][e.section][$.value-1].level[o[y.value].name]),_=M(()=>{if(y.value!==0){let b=i.value;if(b)return f[b]}return f[o[y.value].name]}),$=H(1),h=M(()=>V.app.config[e.type][e.typeIdx][e.section]?V.app.config[e.type][e.typeIdx][e.section].length:1);function k(b,n){b?(V.app.config[e.type][e.typeIdx][e.section][$.value-1][n]={},b==="chart"&&(V.app.config[e.type][e.typeIdx][e.section][$.value-1][n].options={})):delete V.app.config[e.type][e.typeIdx][e.section][$.value-1][n]}function D(){V.app.config[e.type][e.typeIdx][e.section].push({level:{}}),$.value=h.value}function d(){V.app.config[e.type][e.typeIdx][e.section].splice($.value-1,1),$.value=h.value}function S(b){let n={icon:"mdi-alert-circle",color:"error"};if(l(b))return{icon:"",color:""};if(V.app.config[e.type][e.typeIdx][e.section][$.value-1][b])for(const s of Object.keys(V.app.config[e.type][e.typeIdx][e.section][$.value-1][b]))V.app.config[e.type][e.typeIdx][e.section][$.value-1][b][s]&&(n.icon="mdi-check",n.color="green-darken-1");return n}function E(b){let n={icon:b.required?"mdi-alert-circle":"mdi-chevron-down",color:b.required?"error":null},s=[e.type,e.typeIdx,e.section,$.value-1,o[y.value].name,b.prop],c=[];return c=V.getEl(V.app.config,s),c&&Object.keys(c).length>0&&(n={icon:"mdi-check",color:"success"}),n}return(b,n)=>{const s=m("v-icon"),c=m("v-card"),g=m("v-item"),v=m("v-col"),w=m("v-row"),p=m("v-item-group"),r=m("v-list-item"),F=m("v-expansion-panel-title"),A=m("v-autocomplete"),L=m("v-expansion-panel-text"),j=m("v-expansion-panel"),T=m("v-expansion-panels"),ae=m("v-pagination"),te=m("v-btn");return x(),R(W,null,[t(r,null,{default:a(()=>[t(p,{modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=P=>y.value=P),mandatory:""},{default:a(()=>[t(w,{class:"text-center","no-gutters":""},{default:a(()=>[(x(),R(W,null,Y(o,P=>De(t(v,{key:P.name,cols:P.cols},{default:a(()=>[t(g,null,{default:a(({isSelected:N,toggle:B})=>[t(c,{color:N?P.color:P.color+"-lighten-5",subtitle:b.$t("_app.settings.props."+P.name),class:"ma-1 pa-0",variant:"flat",onClick:B},{prepend:a(()=>[t(s)]),append:a(()=>[t(s,{icon:S(P.name).icon,color:S(P.name).color},null,8,["icon","color"])]),_:2},1032,["color","subtitle","onClick"])]),_:2},1024)]),_:2},1032,["cols"]),[[Ae,!l(P.name)]])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(r,null,{default:a(()=>[t(T,null,{default:a(()=>[(x(!0),R(W,null,Y(_.value,P=>(x(),C(j,{key:P.prop},{default:a(()=>[t(F,null,{actions:a(({expanded:N})=>[t(s,{color:N?"":E(P).color,icon:N?"mdi-chevron-up":E(P).icon},null,8,["color","icon"])]),default:a(()=>[Q(X(i.value?i.value+"-":"")+X(P.prop)+" ",1)]),_:2},1024),t(L,null,{default:a(()=>[P.type==="types"?(x(),C(A,{key:0,modelValue:I(V).app.config[e.type][e.typeIdx][e.section][$.value-1].level[P.prop],"onUpdate:modelValue":[N=>I(V).app.config[e.type][e.typeIdx][e.section][$.value-1].level[P.prop]=N,N=>k(N,P.prop)],items:u,label:b.$t("_app.settings.props.type"),density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","label"])):q("",!0),P.type==="json"?(x(),C(et,{key:1,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:$.value-1,mainSection:o[y.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):q("",!0),P.type==="defs"?(x(),C(Xe,{key:2,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:$.value-1,mainSection:o[y.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):q("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(r,null,{default:a(()=>[t(w,{"no-gutters":""},{default:a(()=>[t(v,null,{default:a(()=>[t(ae,{modelValue:$.value,"onUpdate:modelValue":n[1]||(n[1]=P=>$.value=P),length:h.value,"total-visible":"5",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),t(v,{cols:"2",class:"text-right"},{default:a(()=>[t(te,{variant:"text",icon:"mdi-plus",onClick:n[2]||(n[2]=P=>D())}),t(te,{variant:"text",icon:"mdi-delete",disabled:h.value<2,onClick:n[3]||(n[3]=P=>d())},null,8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}},Ve={__name:"SettingsProps",props:{type:String},setup(U){const e=U,o=G(),u=Pe(),{mobile:f}=me(),{toClipboard:V}=Oe(),y="_app.settings."+e.type+".",l=M(()=>{let p=[{key:"name",title:u.t(y+"title"),sortable:!0,align:"start"},{key:"actions",title:"",sortable:!1,align:"end"}];return f.value||(e.type==="panels"?p=[{key:"name",title:u.t(y+"title"),sortable:!0,align:"start"},{key:"devices",title:"Devices",sortable:!0,align:"start"},{key:"advanced",title:u.t(y+"extended"),sortable:!0},{key:"actions",title:"",sortable:!1,align:"end"}]:p=[{key:"name",title:u.t(y+"title"),sortable:!0,align:"start"},{key:"panels",title:u.t("_app.settings.panels.title",2),sortable:!0,align:"end"},{key:"actions",title:"",sortable:!1,align:"end"}]),p}),i=H(),_=M(()=>{let p=[],r=[],F="",A=null;for(const[L,j]of Object.entries(o.app.config[e.type]))j.dist||(r=[],e.type==="panels"?(Object.keys(j.status).length>0&&r.push("status"),(j.main.length>1||Object.keys(j.main[0].level).length>0)&&r.push("main"),Object.keys(j.info).length>0&&r.push("info"),j.panel.devices&&(F=j.panel.devices.join(", "))):A=o.app.config.panels.map(T=>T.template).filter(T=>T===j.name).length,p.push({idx:parseFloat(L),name:j.name,advanced:r.length>0?r.join(", "):"-",panels:A||"-",devices:F}));return p.sort((L,j)=>L.name.toUpperCase()>j.name.toUpperCase()?1:j.name.toUpperCase()>L.name.toUpperCase()?-1:0),p}),$=M(()=>!(d.value.newItem&&_.value.map(p=>p.name).indexOf(d.value.newItem)===-1)),h=M(()=>{let p=[];for(const r of o.app.config.panels)r.template===i.value.name&&p.push(r.name);return p.sort((r,F)=>r.toUpperCase()>F.toUpperCase()?1:F.toUpperCase()>r.toUpperCase()?-1:0),S(p[0]),p}),k=M(()=>{let p=[{value:"panel"},{value:"status"},{value:"main"},{value:"info"}];for(const r of p)r.title=u.t("_app.settings.props."+r.value);return p}),D=M(()=>window.innerHeight-(d.value.jsonError?380:340)+"px"),d=H({search:"",newItem:"",itemIdx:null,extended:e.type!=="panels",rawMode:!1,section:"panel",panel:null,preview:"panel",jsonDef:null,jsonError:null});function S(p){d.value.panel=p}function E(){let p=o.app.panelList.map(r=>r.name).indexOf(e.type==="templates"?d.value.panel:i.value.name);return p!==-1?o.app.panelList[p]:null}function b(){let p={name:d.value.newItem,template:null,panel:{},status:{},main:[{level:{}}],info:{}},r={name:d.value.newItem,author:null,date:null,panel:{},status:{},main:[{level:{}}],info:{}};o.app.config[e.type].push(e.type==="panels"?p:r),d.value.newItem="",n(o.app.config[e.type].length-1)}function n(p){i.value=o.app.config[e.type][p],d.value.itemIdx=p,d.value.extended=_.value[_.value.map(r=>r.idx).indexOf(p)].advanced!=="-",typeof i.value=="object"&&(d.value.jsonDef=JSON.stringify(i.value,null,"	"),d.value.jsonError=null)}function s(p){o.app.config[e.type].splice(p,1)}function c(p){return ce.highlight(p,ce.languages.js)}function g(p){p&&(d.value.jsonDef=JSON.stringify(o.app.config[e.type][d.value.itemIdx],null,"	"))}function v(){let p=o.stringToJson(d.value.jsonDef,!0);d.value.jsonError=p.error,d.value.jsonError||(o.app.config[e.type][d.value.itemIdx]=p.result)}function w(){V(d.value.jsonDef)}return(p,r)=>{const F=m("v-btn"),A=m("v-list-item"),L=m("v-text-field"),j=m("v-col"),T=m("v-row"),ae=m("v-data-table"),te=m("v-autocomplete"),P=m("v-switch"),N=m("v-snackbar"),B=m("v-card"),ee=m("v-alert"),ne=m("v-divider"),J=m("v-list");return x(),C(J,null,{default:a(()=>[t(A,{title:p.$t(y+"title",i.value?1:2)+(i.value?" ("+i.value.name+")":"")},{append:a(()=>[t(F,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:r[0]||(r[0]=O=>I(o).help(e.type==="panels"?"panels":"vorlagen"))})]),_:1},8,["title"]),i.value?q("",!0):(x(),C(A,{key:0},{default:a(()=>[t(T,{"no-gutters":""},{default:a(()=>[t(j,null,{default:a(()=>[t(L,{modelValue:d.value.search,"onUpdate:modelValue":r[1]||(r[1]=O=>d.value.search=O),label:p.$t(y+"search"),"prepend-inner-icon":"mdi-magnify","single-line":"",clearable:"",density:"compact",variant:"outlined"},null,8,["modelValue","label"])]),_:1}),t(j,{class:"mx-2"},{default:a(()=>[t(L,{modelValue:d.value.newItem,"onUpdate:modelValue":r[3]||(r[3]=O=>d.value.newItem=O),label:p.$t(y+"new"),"single-line":"",clearable:"",density:"compact",variant:"outlined"},{append:a(()=>[t(F,{variant:"text",icon:"mdi-plus",disabled:$.value,density:"compact",onClick:r[2]||(r[2]=O=>b())},null,8,["disabled"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1})]),_:1})),i.value?q("",!0):(x(),C(A,{key:1},{default:a(()=>[t(ae,{headers:l.value,items:_.value,search:d.value.search,density:"compact"},{"item.actions":a(({item:O})=>[t(F,{icon:"mdi-pencil",variant:"plain",density:"compact",class:"mr-3",onClick:Z=>n(O.idx)},null,8,["onClick"]),t(F,{icon:"mdi-delete",variant:"plain",density:"compact",onClick:Z=>s(O.idx)},null,8,["onClick"])]),_:1},8,["headers","items","search"])]),_:1})),i.value?(x(),C(A,{key:2},{default:a(()=>[t(T,null,{default:a(()=>[t(j,null,{default:a(()=>[t(T,{class:"align-center"},{default:a(()=>[t(F,{variant:"plain",icon:"mdi-arrow-up-left",onClick:r[4]||(r[4]=O=>i.value=null)}),t(j,{cols:"10",md:""},{default:a(()=>[d.value.rawMode?q("",!0):(x(),C(te,{key:0,modelValue:d.value.section,"onUpdate:modelValue":r[5]||(r[5]=O=>d.value.section=O),items:k.value,disabled:!(d.value.extended||e.type==="templates"),density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","items","disabled"]))]),_:1}),e.type==="panels"?(x(),C(j,{key:0,cols:"6",md:"auto",class:"pl-5"},{default:a(()=>[t(P,{modelValue:d.value.extended,"onUpdate:modelValue":[r[6]||(r[6]=O=>d.value.extended=O),r[7]||(r[7]=O=>O?null:d.value.section="panel")],label:p.$t("_app.settings.panels.extended"),color:"blue","hide-details":""},null,8,["modelValue","label"])]),_:1})):q("",!0),d.value.rawMode?(x(),C(N,{key:1,timeout:2e3,rounded:"pill"},{activator:a(({props:O})=>[t(F,Se(O,{variant:"text",icon:"mdi-clipboard-multiple-outline",size:"small",onClick:w}),null,16)]),default:a(()=>[Q(" "+X(p.$t("_app.messages.clipboard.text")),1)]),_:1})):q("",!0),t(j,{cols:"6",md:"auto",class:"pl-5"},{default:a(()=>[t(P,{modelValue:d.value.rawMode,"onUpdate:modelValue":[r[8]||(r[8]=O=>d.value.rawMode=O),r[9]||(r[9]=O=>g(O))],label:p.$t("_app.settings.panels.rawMode"),color:"blue","hide-details":""},null,8,["modelValue","label"])]),_:1})]),_:1}),d.value.rawMode?q("",!0):(x(),C(T,{key:0,"no-gutters":""},{default:a(()=>[t(j,null,{default:a(()=>[d.value.section!=="main"?(x(),C(Qe,{key:0,type:U.type,typeIdx:d.value.itemIdx,section:d.value.section,extended:d.value.extended},null,8,["type","typeIdx","section","extended"])):q("",!0),d.value.section==="main"?(x(),C(tt,{key:1,type:U.type,typeIdx:d.value.itemIdx,section:d.value.section},null,8,["type","typeIdx","section"])):q("",!0)]),_:1})]),_:1})),d.value.rawMode?(x(),C(T,{key:1,"no-gutters":""},{default:a(()=>[t(j,null,{default:a(()=>[t(B,{variant:d.value.jsonError?"tonal":"outlined",color:d.value.jsonError?"error":"",class:"pa-1 mt-2",height:D.value},{default:a(()=>[t(I(Ee),{modelValue:d.value.jsonDef,"onUpdate:modelValue":r[10]||(r[10]=O=>d.value.jsonDef=O),highlight:c,"line-numbers":"",onInput:v},null,8,["modelValue"])]),_:1},8,["variant","color","height"]),d.value.jsonError?(x(),C(ee,{key:0,color:"error",density:"compact"},{default:a(()=>[Q(X(d.value.jsonError),1)]),_:1})):q("",!0)]),_:1})]),_:1})):q("",!0)]),_:1}),t(ne,{vertical:!I(f)},null,8,["vertical"]),t(j,{cols:"12",lg:"4"},{default:a(()=>[t(T,{class:"align-center pt-2"},{default:a(()=>[t(j,null,{default:a(()=>[t(te,{modelValue:d.value.panel,"onUpdate:modelValue":r[11]||(r[11]=O=>d.value.panel=O),items:h.value,label:p.$t("_app.settings.panels.preview"),disabled:e.type!=="templates",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),t(F,{class:"mr-3",variant:"plain",icon:d.value.preview==="panel"?"mdi-code-json":"mdi-view-day",onClick:r[12]||(r[12]=O=>d.value.preview=d.value.preview==="panel"?"json":"panel")},null,8,["icon"]),d.value.preview==="panel"&&I(o).app.isReady&&E()?(x(),C(j,{key:0,cols:"12",class:"pt-0"},{default:a(()=>[t(Le,{panel:E()},null,8,["panel"])]),_:1})):q("",!0),d.value.preview==="json"?(x(),C(j,{key:1,cols:"12"},{default:a(()=>[t(I(Ne),{data:E(),deep:1,showLine:!1},null,8,["data"])]),_:1})):q("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):q("",!0)]),_:1})}}},Ce="_app.settings.colors.",lt={__name:"SettingsColors",setup(U){const{mobile:e}=me(),o=G(),u=H(),f=M(()=>Object.keys(o.app.config.colors)),V=M(()=>{let i=[];for(const _ of f.value)for(const $ of Object.keys(o.app.config.colors[_]))i.indexOf($)===-1&&i.push($);return i});function y(){o.app.config.colors.dark||(o.app.config.colors.dark={}),o.app.config.colors.light||(o.app.config.colors.light={}),o.app.config.colors.dark[u.value]="#E0E0E0",o.app.config.colors.light[u.value]="#E0E0E0",u.value=null}function l(i){for(const _ of f.value)delete o.app.config.colors[_][i]}return(i,_)=>{const $=m("v-btn"),h=m("v-list-item"),k=m("v-color-picker"),D=m("v-spacer"),d=m("v-card-actions"),S=m("v-card"),E=m("v-dialog"),b=m("v-col"),n=m("v-divider"),s=m("v-row"),c=m("v-text-field"),g=m("v-list");return x(),C(g,null,{default:a(()=>[t(h,{title:i.$t(Ce+"title",2)},{append:a(()=>[t($,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:_[0]||(_[0]=v=>I(o).help("farben"))})]),_:1},8,["title"]),t(h,null,{default:a(()=>[t(s,{"no-gutters":"",class:"text-right"},{default:a(()=>[t(b,null,{default:a(()=>[(x(!0),R(W,null,Y(V.value,v=>(x(),C(s,{key:v,"no-gutters":"",class:"pt-3"},{default:a(()=>[(x(!0),R(W,null,Y(f.value,w=>(x(),C(b,{key:w,cols:"12",lg:"",class:"pa-2"},{default:a(()=>[t(E,{width:"350"},{activator:a(({props:p})=>[t($,Se({text:v+" ["+w+"] "+(I(o).app.config.colors[w][v]||""),color:I(o).app.config.colors[w][v],modelValue:I(o).app.config.colors[w][v],"onUpdate:modelValue":r=>I(o).app.config.colors[w][v]=r,size:"large",width:"350"},p),null,16,["text","color","modelValue","onUpdate:modelValue"])]),default:a(({isActive:p})=>[t(S,null,{default:a(()=>[t(k,{modelValue:I(o).app.config.colors[w][v],"onUpdate:modelValue":r=>I(o).app.config.colors[w][v]=r,"show-swatches":"",mode:"hexa",width:"350",elevation:"0","swatches-max-height":"400px"},null,8,["modelValue","onUpdate:modelValue"]),t(d,null,{default:a(()=>[t(D),t($,{onClick:r=>p.value=!1},{default:a(()=>[Q("ok")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t(b,{cols:"12",lg:"1",class:"pt-1"},{default:a(()=>[t($,{variant:"text",icon:"mdi-delete",onClick:w=>l(v)},null,8,["onClick"])]),_:2},1024),I(e)?(x(),C(n,{key:0})):q("",!0)]),_:2},1024))),128))]),_:1}),I(e)?q("",!0):(x(),C(n,{key:0,vertical:"",class:"mx-5"})),t(b,{cols:"12",lg:"3"},{default:a(()=>[t(s,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(b,{class:"pt-2"},{default:a(()=>[t(c,{density:"compact",variant:"outlined",clearable:"",label:i.$t(Ce+"newKey"),modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=v=>u.value=v)},null,8,["label","modelValue"])]),_:1}),t(b,{cols:"3",class:"pt-1"},{default:a(()=>[t($,{variant:"text",icon:"mdi-plus",onClick:_[2]||(_[2]=v=>y())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},de="_app.settings.content.",nt={__name:"SettingsContent",setup(U){const{mobile:e}=me(),o=G(),u=H(),f=H(),V=H(!1),y=H(!1),l=M(()=>Object.keys(o.app.config.content)),i=M(()=>{let d=[];for(const S of l.value)for(const E of Object.keys(o.app.config.content[S]))d.indexOf(E)===-1&&d.push(E);return d}),_={iso639code:d=>/^[a-z]{2}$/.test(d)||o.replacer("%t(_app.settings.rules.iso639code)")};function $(){o.app.config.content[l.value[0]][u.value]="",u.value=null}function h(){o.app.config.content[f.value]={},f.value=null,V.value=!1}function k(){delete o.app.config.content[f.value],f.value=null}function D(d){for(const S of l.value)delete o.app.config.content[S][d]}return(d,S)=>{const E=m("v-btn"),b=m("v-list-item"),n=m("v-text-field"),s=m("v-col"),c=m("v-divider"),g=m("v-row"),v=m("v-autocomplete"),w=m("v-form"),p=m("v-list");return x(),C(p,null,{default:a(()=>[t(b,{title:d.$t(de+"title",2)},{append:a(()=>[t(E,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:S[0]||(S[0]=r=>I(o).help("sprachen"))})]),_:1},8,["title"]),t(b,null,{default:a(()=>[t(g,{"no-gutters":"",class:"text-right"},{default:a(()=>[t(s,null,{default:a(()=>[(x(!0),R(W,null,Y(i.value,r=>(x(),C(g,{key:r,"no-gutters":"",class:"pt-3"},{default:a(()=>[(x(!0),R(W,null,Y(l.value,F=>(x(),C(s,{key:F,cols:"12",lg:"",class:"pa-2"},{default:a(()=>[t(n,{density:"compact",variant:"outlined","hide-details":"",clearable:"",label:r+" ["+F+"]",modelValue:I(o).app.config.content[F][r],"onUpdate:modelValue":A=>I(o).app.config.content[F][r]=A},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),t(s,{cols:"12",lg:"1",class:"pt-1"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-delete",onClick:F=>D(r)},null,8,["onClick"])]),_:2},1024),I(e)?(x(),C(c,{key:0})):q("",!0)]),_:2},1024))),128))]),_:1}),I(e)?q("",!0):(x(),C(c,{key:0,vertical:"",class:"mx-5"})),t(s,{cols:"12",lg:"3"},{default:a(()=>[t(g,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(s,{class:"pt-2"},{default:a(()=>[t(n,{density:"compact",variant:"outlined",clearable:"",disabled:l.value.length<1,label:d.$t(de+"newKey"),modelValue:u.value,"onUpdate:modelValue":S[1]||(S[1]=r=>u.value=r)},null,8,["disabled","label","modelValue"])]),_:1}),t(s,{cols:"4",class:"pt-1"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-plus",disabled:l.value.length<1,onClick:S[2]||(S[2]=r=>$())},null,8,["disabled"])]),_:1})]),_:1}),t(w,{modelValue:y.value,"onUpdate:modelValue":S[10]||(S[10]=r=>y.value=r)},{default:a(()=>[t(g,{"no-gutters":""},{default:a(()=>[V.value?(x(),C(s,{key:0},{default:a(()=>[t(n,{density:"compact",variant:"outlined",clearable:"",label:d.$t(de+"newLang"),rules:[_.iso639code],"append-inner-icon":"mdi-help-circle","onClick:appendInner":S[3]||(S[3]=r=>d.openHelp("Sprachcodes")),modelValue:f.value,"onUpdate:modelValue":S[4]||(S[4]=r=>f.value=r)},null,8,["label","rules","modelValue"])]),_:1})):q("",!0),V.value?(x(),C(s,{key:1,cols:"4"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-check",disabled:!y.value,onClick:S[5]||(S[5]=r=>h())},null,8,["disabled"]),t(E,{variant:"text",icon:"mdi-cancel",onClick:S[6]||(S[6]=r=>{V.value=!V.value,f.value=null})})]),_:1})):q("",!0),V.value?q("",!0):(x(),C(s,{key:2},{default:a(()=>[t(v,{modelValue:f.value,"onUpdate:modelValue":S[7]||(S[7]=r=>f.value=r),items:l.value,label:d.$t(de+"title"),disabled:l.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})),V.value?q("",!0):(x(),C(s,{key:3,cols:"4"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-plus",onClick:S[8]||(S[8]=r=>{V.value=!V.value,f.value=null})}),t(E,{variant:"text",icon:"mdi-delete",disabled:l.value.length===0||l.value.indexOf(f.value)===-1,onClick:S[9]||(S[9]=r=>k())},null,8,["disabled"])]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},rt={__name:"SettingsView",setup(U){const e=["header","panels","templates","navigation","colors","content"],o=H(e[0]),u=H(!1),f=G();je(f.app.config,y=>{y&&f.app.isReady&&(u.value=!0)});async function V(y){let l=null;if(y){for(const[i,_]of Object.entries(f.app.config.templates))_.dist&&f.app.config.templates.splice(i,1);l=encodeURIComponent(btoa(JSON.stringify(f.app.config))),await f.request("text","set "+f.app.fhemDevice+" config "+l)}await f.createSession(),u.value=!1}return ze(()=>{f.app.noConfig&&f.log(3,"Settings View - No Config handling",null,"noConfig")}),(y,l)=>{const i=m("v-toolbar-title"),_=m("v-btn"),$=m("v-toolbar"),h=m("v-tab"),k=m("v-tabs"),D=m("v-card");return x(),C(D,null,{default:a(()=>[t($,null,{append:a(()=>[u.value?(x(),C(_,{key:0,icon:"mdi-cancel",onClick:l[0]||(l[0]=d=>V(!1))})):q("",!0),t(_,{disabled:!u.value,icon:"mdi-content-save-outline",onClick:l[1]||(l[1]=d=>V(!0))},null,8,["disabled"])]),default:a(()=>[t(i,null,{default:a(()=>[Q(X(y.$t("_app.settings.title")),1)]),_:1})]),_:1}),t(k,{modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=d=>o.value=d)},{default:a(()=>[(x(),R(W,null,Y(e,d=>t(h,{value:d,key:d},{default:a(()=>[Q(X(y.$t("_app.settings."+d+".title",2)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),o.value==="header"?(x(),C(Ke,{key:0})):q("",!0),o.value==="navigation"?(x(),C(He,{key:1})):q("",!0),o.value==="panels"?(x(),C(Ve,{key:2,type:o.value},null,8,["type"])):q("",!0),o.value==="templates"?(x(),C(Ve,{key:3,type:o.value},null,8,["type"])):q("",!0),o.value==="colors"?(x(),C(lt,{key:4})):q("",!0),o.value==="content"?(x(),C(nt,{key:5})):q("",!0)]),_:1})}}};export{rt as default};
