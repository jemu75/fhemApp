import{u as F,f as L,g as ne,r as o,o as s,a as h,w as t,e as l,h as f,b as E,F as A,d as R,i as X,j as J,t as K,k as C,c as B,l as ie,v as se,m as re,n as de}from"./index-5358080c.js";import{_ as ue}from"./PanelCard-c964e782.js";const U="_app.settings.header.",ce={__name:"SettingsHeader",setup(z){const e=F(),n={required:p=>!!p||e.replacer("%t(_app.settings.rules.required)")},g=L(),m=ne({name:"",title:"",icon:"",cmd:""});function x(){e.app.config.header.commands.push(JSON.parse(JSON.stringify(m))),g.value.reset()}function y(p){e.app.config.header.commands.splice(p,1)}return(p,a)=>{const c=o("v-btn"),$=o("v-list-item"),d=o("v-text-field"),_=o("v-col"),q=o("v-checkbox"),V=o("v-row"),b=o("v-divider"),u=o("v-form"),r=o("v-list");return s(),h(r,null,{default:t(()=>[l($,{title:p.$t(U+"barTitle")},{append:t(()=>[l(c,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:a[0]||(a[0]=i=>f(e).help("kopfzeile"))})]),_:1},8,["title"]),l($,null,{default:t(()=>[l(V,{"no-gutters":""},{default:t(()=>[l(_,{cols:"12",lg:"4",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"imageUrlPlaceholder"),label:p.$t(U+"imageUrl"),modelValue:f(e).app.config.header.imageUrl,"onUpdate:modelValue":a[1]||(a[1]=i=>f(e).app.config.header.imageUrl=i)},null,8,["placeholder","label","modelValue"])]),_:1}),l(_,{cols:"12",lg:"5",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"imageGradientPlaceholder"),label:p.$t(U+"imageGradient"),modelValue:f(e).app.config.header.imageGradient,"onUpdate:modelValue":a[2]||(a[2]=i=>f(e).app.config.header.imageGradient=i)},null,8,["placeholder","label","modelValue"])]),_:1}),l(_,{cols:"6",lg:"",class:"pt-1"},{default:t(()=>[l(q,{hint:p.$t(U+"showTimeHint"),label:p.$t(U+"showTime"),modelValue:f(e).app.config.header.showTime,"onUpdate:modelValue":a[3]||(a[3]=i=>f(e).app.config.header.showTime=i)},null,8,["hint","label","modelValue"])]),_:1}),l(_,{cols:"6",lg:"",class:"pt-1"},{default:t(()=>[l(q,{hint:p.$t(U+"showDateHint"),label:p.$t(U+"showDate"),modelValue:f(e).app.config.header.showDate,"onUpdate:modelValue":a[4]||(a[4]=i=>f(e).app.config.header.showDate=i)},null,8,["hint","label","modelValue"])]),_:1})]),_:1})]),_:1}),l(b),l($,{title:p.$t(U+"optionsTitle")},{append:t(()=>[l(c,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:a[5]||(a[5]=i=>f(e).help("optionsmenü"))})]),_:1},8,["title"]),l($,null,{default:t(()=>[l(V,{"no-gutters":""},{default:t(()=>[l(_,{cols:"6",lg:""},{default:t(()=>[l(q,{label:p.$t(U+"showDarkMode"),modelValue:f(e).app.config.header.showDarkMode,"onUpdate:modelValue":a[6]||(a[6]=i=>f(e).app.config.header.showDarkMode=i)},null,8,["label","modelValue"])]),_:1}),l(_,{cols:"6",lg:""},{default:t(()=>[l(q,{label:p.$t(U+"showReloadPage"),modelValue:f(e).app.config.header.showReloadPage,"onUpdate:modelValue":a[7]||(a[7]=i=>f(e).app.config.header.showReloadPage=i)},null,8,["label","modelValue"])]),_:1}),l(_,{cols:"6",lg:""},{default:t(()=>[l(q,{label:p.$t(U+"showSettings"),modelValue:f(e).app.config.header.showSettings,"onUpdate:modelValue":a[8]||(a[8]=i=>f(e).app.config.header.showSettings=i)},null,8,["label","modelValue"])]),_:1}),l(_,{cols:"6",lg:""},{default:t(()=>[l(q,{label:p.$t(U+"showLanguages"),modelValue:f(e).app.config.header.showLanguages,"onUpdate:modelValue":a[9]||(a[9]=i=>f(e).app.config.header.showLanguages=i)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),l(b),l($,{title:p.$t(U+"optionsCommandTitle")},{append:t(()=>[l(c,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:a[10]||(a[10]=i=>f(e).help("optionsmenü-fhem-befehle"))})]),_:1},8,["title"]),(s(!0),E(A,null,R(f(e).app.config.header.commands,(i,S)=>(s(),h($,{key:S},{default:t(()=>[l(V,{"no-gutters":""},{default:t(()=>[l(_,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandNamePlaceholder"),label:p.$t(U+"commandName"),rules:[n.required],modelValue:i.name,"onUpdate:modelValue":H=>i.name=H},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(_,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandTitlePlaceholder"),label:p.$t(U+"commandTitle"),rules:[n.required],modelValue:i.title,"onUpdate:modelValue":H=>i.title=H},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(_,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandIconPlaceholder"),label:p.$t(U+"commandIcon"),"append-inner-icon":i.icon,modelValue:i.icon,"onUpdate:modelValue":H=>i.icon=H},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),l(_,{cols:"10",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandCmdPlaceholder"),label:p.$t(U+"commandCmd"),rules:[n.required],modelValue:i.cmd,"onUpdate:modelValue":H=>i.cmd=H},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(_,{class:"pt-3 text-right"},{default:t(()=>[l(c,{variant:"text",icon:"mdi-delete",onClick:H=>y(S)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l($,null,{default:t(()=>[l(u,{ref_key:"form",ref:g},{default:t(()=>[l(V,{"no-gutters":""},{default:t(()=>[l(_,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandNamePlaceholder"),label:p.$t(U+"commandName"),rules:[n.required],modelValue:m.name,"onUpdate:modelValue":a[11]||(a[11]=i=>m.name=i)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(_,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandTitlePlaceholder"),label:p.$t(U+"commandTitle"),rules:[n.required],modelValue:m.title,"onUpdate:modelValue":a[12]||(a[12]=i=>m.title=i)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(_,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandIconPlaceholder"),label:p.$t(U+"commandIcon"),"append-inner-icon":m.icon,modelValue:m.icon,"onUpdate:modelValue":a[13]||(a[13]=i=>m.icon=i)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),l(_,{cols:"9",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(d,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(U+"commandCmdPlaceholder"),label:p.$t(U+"commandCmd"),rules:[n.required],modelValue:m.cmd,"onUpdate:modelValue":a[14]||(a[14]=i=>m.cmd=i)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(_,{class:"pt-3 text-right"},{default:t(()=>[l(c,{variant:"text",icon:"mdi-cancel",onClick:a[15]||(a[15]=i=>g.value.reset())}),l(c,{variant:"text",icon:"mdi-plus",disabled:!m.name||!m.title||!m.cmd,onClick:a[16]||(a[16]=i=>x())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},T="_app.settings.navigation.",me={__name:"SettingsNavigation",setup(z){const{mobile:e}=X(),n=F(),g=ne({path:[],route:["navigation"],items:[],newItem:{name:null,title:null,icon:null,divider:!1,groupAsChips:!1,group:[]}}),m=L(),x={required:d=>!!d||n.replacer("%t(_app.settings.rules.required)")};function y(d){typeof d<"u"&&(g.path.push(d,"group"),g.route.push(g.items[d].name)),g.items=n.getEl(n.app.config.navigation,g.path)}function p(){let d=JSON.parse(JSON.stringify(g.newItem));n.getEl(n.app.config.navigation,g.path).push(d),y(),m.value.reset()}function a(d){n.getEl(n.app.config.navigation,g.path).splice(d,1)}function c(d){return(n.getEl(g.items[d],["group"])||[]).length}function $(){g.route.pop(),g.path.splice(-2,2),y()}return y(),(d,_)=>{const q=o("v-btn"),V=o("v-list-item"),b=o("v-text-field"),u=o("v-col"),r=o("v-checkbox"),i=o("v-icon"),S=o("v-badge"),H=o("v-row"),w=o("v-divider"),v=o("v-form"),P=o("v-list");return s(),h(P,null,{default:t(()=>[l(V,{title:d.$t(T+"title")},{append:t(()=>[l(q,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:_[0]||(_[0]=I=>f(n).help("navigation"))})]),_:1},8,["title"]),g.path.length>0?(s(),h(V,{key:0},{default:t(()=>[l(q,{variant:"text",icon:"mdi-arrow-up-left",onClick:_[1]||(_[1]=I=>$())}),J(" "+K(g.route.join(" > ")),1)]),_:1})):C("",!0),(s(!0),E(A,null,R(g.items,(I,k)=>(s(),h(V,{key:k},{default:t(()=>[l(H,{"no-gutters":""},{default:t(()=>[l(u,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(b,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:d.$t(T+"namePlaceholder"),label:d.$t(T+"name"),rules:[x.required],modelValue:I.name,"onUpdate:modelValue":O=>I.name=O},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(b,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:d.$t(T+"title1Placeholder"),label:d.$t(T+"title1"),modelValue:I.title,"onUpdate:modelValue":O=>I.title=O},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(b,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:d.$t(T+"iconPlaceholder"),label:d.$t(T+"icon"),"append-inner-icon":I.icon,modelValue:I.icon,"onUpdate:modelValue":O=>I.icon=O},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:4,lg:"",class:"pt-1"},{default:t(()=>[l(r,{hint:d.$t(T+"groupAsChipsHint"),label:d.$t(T+"groupAsChips"),modelValue:I.groupAsChips,"onUpdate:modelValue":O=>I.groupAsChips=O},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(r,{hint:d.$t(T+"dividerHint"),label:d.$t(T+"divider"),modelValue:I.divider,"onUpdate:modelValue":O=>I.divider=O},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{class:"pt-3 text-right"},{default:t(()=>[l(q,{variant:"text",icon:"",onClick:O=>y(k)},{default:t(()=>[c(k)>0?(s(),h(S,{key:0,color:"success",content:c(k)},{default:t(()=>[l(i,{icon:"mdi-arrow-down-right"})]),_:2},1032,["content"])):C("",!0),c(k)===0?(s(),h(i,{key:1,icon:"mdi-arrow-down-right"})):C("",!0)]),_:2},1032,["onClick"]),l(q,{variant:"text",icon:"mdi-delete",onClick:O=>a(k)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),f(e)?(s(),h(w,{key:0})):C("",!0)]),_:2},1024))),128)),l(V,null,{default:t(()=>[l(v,{ref_key:"form",ref:m},{default:t(()=>[l(H,{"no-gutters":""},{default:t(()=>[l(u,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(b,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:d.$t(T+"namePlaceholder"),label:d.$t(T+"name"),rules:[x.required],modelValue:g.newItem.name,"onUpdate:modelValue":_[2]||(_[2]=I=>g.newItem.name=I)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(b,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:d.$t(T+"title1Placeholder"),label:d.$t(T+"title1"),modelValue:g.newItem.title,"onUpdate:modelValue":_[3]||(_[3]=I=>g.newItem.title=I)},null,8,["placeholder","label","modelValue"])]),_:1}),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(b,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:d.$t(T+"iconPlaceholder"),label:d.$t(T+"icon"),"append-inner-icon":g.newItem.icon,modelValue:g.newItem.icon,"onUpdate:modelValue":_[4]||(_[4]=I=>g.newItem.icon=I)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(r,{hint:d.$t(T+"groupAsChipsHint"),label:d.$t(T+"groupAsChips"),modelValue:g.newItem.groupAsChips,"onUpdate:modelValue":_[5]||(_[5]=I=>g.newItem.groupAsChips=I)},null,8,["hint","label","modelValue"])]),_:1}),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(r,{hint:d.$t(T+"dividerHint"),label:d.$t(T+"divider"),modelValue:g.newItem.divider,"onUpdate:modelValue":_[6]||(_[6]=I=>g.newItem.divider=I)},null,8,["hint","label","modelValue"])]),_:1}),l(u,{class:"pt-3 text-right"},{default:t(()=>[l(q,{variant:"text",icon:"mdi-cancel",onClick:_[7]||(_[7]=I=>m.value.reset())}),l(q,{variant:"text",icon:"mdi-plus",disabled:!g.newItem.name,onClick:_[8]||(_[8]=I=>p())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},fe={__name:"SettingsPropsItem",props:{type:String,typeIdx:Number,section:String,prop:String,propDef:String,propHelp:String},setup(z){const e=z,n=F(),g=L(),m=L();function x(){n.app.config[e.type][e.typeIdx][e.section][e.prop]?n.app.config[e.type][e.typeIdx][e.section][e.prop].push(m.value):n.app.config[e.type][e.typeIdx][e.section][e.prop]=[m.value],g.value.reset()}function y(p){n.app.config[e.type][e.typeIdx][e.section][e.prop].splice(p,1),n.app.config[e.type][e.typeIdx][e.section][e.prop].length===0&&delete n.app.config[e.type][e.typeIdx][e.section][e.prop]}return(p,a)=>{const c=o("v-text-field"),$=o("v-col"),d=o("v-btn"),_=o("v-row"),q=o("v-list-item"),V=o("v-form"),b=o("v-list");return s(),h(b,null,{default:t(()=>[f(n).app.config[e.type][e.typeIdx][e.section][e.prop]?(s(),h(q,{key:0,class:"pa-0"},{default:t(()=>[(s(!0),E(A,null,R(f(n).app.config[e.type][e.typeIdx][e.section][e.prop],(u,r)=>(s(),h(_,{key:r,"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(c,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+(r+1),modelValue:f(n).app.config[e.type][e.typeIdx][e.section][e.prop][r],"onUpdate:modelValue":i=>f(n).app.config[e.type][e.typeIdx][e.section][e.prop][r]=i},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(d,{variant:"text",icon:"mdi-delete",onClick:i=>y(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):C("",!0),l(q,{class:"pa-0"},{default:t(()=>[l(V,{ref_key:"form",ref:g},{default:t(()=>[l(_,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(c,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=u=>m.value=u),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":a[1]||(a[1]=u=>f(n).help(z.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(d,{variant:"text",icon:"mdi-plus",disabled:!m.value,onClick:a[2]||(a[2]=u=>x())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},ve={__name:"SettingsPropsList",props:{type:String,typeIdx:Number,section:String,extended:Boolean},setup(z){const e=z,n=F(),g={panel:[{type:"defs",show:["panels","extended.panels"],required:!0,prop:"devices",def:"key:fhem_device",help:"element-devices"},{type:"template",show:["panels","extended.panels"],required:!1,prop:"template",help:"element-template"},{type:"text",show:["templates"],required:!1,prop:"author",def:"text"},{type:"text",show:["templates"],required:!1,prop:"date",def:"text"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"navigation",def:"reading:filter:route",help:"element-navigation"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"expandable",def:"reading:filter:boolean:boolean",help:"element-expandable"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"size",def:"reading:filter:size",help:"element-size"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"sortby",def:"reading:filter:sortkey",help:"element-sortkey"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"show",def:"reading:filter:boolean",help:"element-show"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"iconmap",def:"search:icon",help:"element-iconmap"}],status:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar",def:"reading:filter:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar2",def:"reading:filter:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"imageUrl",def:"reading:filter:url",help:"element-imageurl"},{type:"defs",show:["panels","extended.panels","templates"],required:!0,prop:"title",def:"reading:filter:title",help:"element-title"}],info:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left1",def:"reading:filter:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left2",def:"reading:filter:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid1",def:"reading:filter:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid2",def:"reading:filter:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right1",def:"reading:filter:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right2",def:"reading:filter:text:icon:color",help:"element-info"}]},m=B(()=>{let y=[],p=e.type==="panels"?e.extended?"extended.panels":"panels":"templates";for(const a of g[e.section])a.show.indexOf(p)!==-1&&y.push(a);return y});function x(y){let p={icon:y.required?"mdi-alert-circle":"mdi-chevron-down",color:y.required?"error":null},a=[e.type,e.typeIdx],c=[];return e.section==="panel"&&["template","date","author"].indexOf(y.prop)!==-1?a.push(y.prop):a.push(e.section,y.prop),c=n.getEl(n.app.config,a),c&&c.length>0&&(p={icon:"mdi-check",color:"success"}),p}return(y,p)=>{const a=o("v-btn"),c=o("v-list-item"),$=o("v-icon"),d=o("v-expansion-panel-title"),_=o("v-autocomplete"),q=o("v-text-field"),V=o("v-expansion-panel-text"),b=o("v-expansion-panel"),u=o("v-expansion-panels");return s(),E(A,null,[l(c,{title:y.$t("_app.settings.title")+" "+y.$t("_app.settings.props."+z.section)+" ("+y.$t("_app.settings."+z.type+".title")+": "+f(n).app.config[z.type][z.typeIdx].name+")"},{append:t(()=>[l(a,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:p[0]||(p[0]=r=>f(n).help(z.section==="panel"?"panel-allgemein":z.section==="status"?"bereich-status":"bereich-info"))})]),_:1},8,["title"]),l(c,null,{default:t(()=>[l(u,null,{default:t(()=>[(s(!0),E(A,null,R(m.value,r=>(s(),h(b,{key:r.prop},{default:t(()=>[l(d,null,{actions:t(({expanded:i})=>[l($,{color:i?"":x(r).color,icon:i?"mdi-chevron-up":x(r).icon},null,8,["color","icon"])]),default:t(()=>[J(K(r.prop)+" ",1)]),_:2},1024),l(V,null,{default:t(()=>[r.type==="defs"?(s(),h(fe,{key:0,type:e.type,typeIdx:e.typeIdx,section:e.section,prop:r.prop,propDef:r.def,propHelp:r.help},null,8,["type","typeIdx","section","prop","propDef","propHelp"])):C("",!0),r.type==="template"?(s(),h(_,{key:1,modelValue:f(n).app.config.panels[e.typeIdx].template,"onUpdate:modelValue":p[1]||(p[1]=i=>f(n).app.config.panels[e.typeIdx].template=i),items:f(n).app.config.templates.map(i=>i.name),label:y.$t("_app.settings.templates.title"),disabled:f(n).app.config.templates.length===0,density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","items","label","disabled"])):C("",!0),r.type==="text"?(s(),h(q,{key:2,modelValue:f(n).app.config[e.type][e.typeIdx][r.prop],"onUpdate:modelValue":i=>f(n).app.config[e.type][e.typeIdx][r.prop]=i,density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:r.def,label:r.prop,class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])):C("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],64)}}},ge={__name:"SettingsPropsMainItem",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(z){const e=z,n=F(),g=L(),m=L();function x(){n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].push(m.value):n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=[m.value],g.value.reset()}function y(p){n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].splice(p,1),n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].length===0&&delete n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]}return(p,a)=>{const c=o("v-text-field"),$=o("v-col"),d=o("v-btn"),_=o("v-row"),q=o("v-list-item"),V=o("v-form"),b=o("v-list");return s(),h(b,null,{default:t(()=>[f(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?(s(),h(q,{key:0,class:"pa-0"},{default:t(()=>[(s(!0),E(A,null,R(f(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],(u,r)=>(s(),h(_,{key:r,"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(c,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+(r+1),modelValue:f(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][r],"onUpdate:modelValue":i=>f(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][r]=i},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(d,{variant:"text",icon:"mdi-delete",onClick:i=>y(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):C("",!0),l(q,{class:"pa-0"},{default:t(()=>[l(V,{ref_key:"form",ref:g},{default:t(()=>[l(_,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(c,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=u=>m.value=u),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":a[1]||(a[1]=u=>f(n).help(z.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(d,{variant:"text",icon:"mdi-plus",disabled:!m.value,onClick:a[2]||(a[2]=u=>x())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},_e={__name:"SettingsPropsMain",props:{type:String,typeIdx:Number,section:String},setup(z){const e=z,n=[{name:"level",cols:12,color:"orange"},{name:"left1",color:"orange"},{name:"left2",color:"orange"},{name:"mid",color:"orange"},{name:"right1",color:"orange"},{name:"right2",color:"orange"}],g=[{title:"none",value:null},{title:"button",value:"btn"},{title:"info",value:"info"},{title:"status",value:"status"},{title:"slider",value:"slider"},{title:"image",value:"image"},{title:"menu",value:"menu"}],m={level:[{type:"defs",required:!1,prop:"show",def:"reading:filter:boolean",help:"main-element-show"},{type:"defs",required:!1,prop:"divider",def:"reading:filter:boolean",help:"main-element-divider"},{type:"types",required:!1,prop:"left1",help:"main-element-typ"},{type:"types",required:!1,prop:"left2",help:"main-element-typ"},{type:"types",required:!1,prop:"mid",help:"main-element-typ"},{type:"types",required:!1,prop:"right1",help:"main-element-typ"},{type:"types",required:!1,prop:"right2",help:"main-element-typ"}],btn:[{type:"defs",required:!1,prop:"btn",def:"reading:filter:icon:disabled:color:variant",help:"level-element-button-btn"},{type:"defs",required:!1,prop:"status",def:"reading:filter:level:color:reverse:min:max",help:"level-element-button-status"},{type:"defs",required:!1,prop:"click",def:"reading:filter:cmd:type",help:"level-element-button-click"},{type:"defs",required:!1,prop:"longClick",def:"reading:filter:cmd:type",help:"level-element-button-longClick"},{type:"defs",required:!1,prop:"longRelease",def:"reading:filter:cmd:type",help:"level-element-button-longRelease"},{type:"defs",required:!1,prop:"divider",def:"reading:filter:boolean",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:filter:size",help:"level-element-size"}],slider:[{type:"defs",required:!1,prop:"slider",def:"reading:filter:cmd:current:color:min:max:steps",help:"level-element-slider-slider"},{type:"defs",required:!1,prop:"divider",def:"reading:filter:boolean",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:filter:size",help:"level-element-size"}],image:[{type:"defs",required:!1,prop:"image",def:"reading:filter:source",help:"level-element-image-image"},{type:"defs",required:!1,prop:"divider",def:"reading:filter:boolean",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:filter:size",help:"level-element-size"}],menu:[{type:"defs",required:!1,prop:"menu",def:"reading:filter:name:cmd",help:"level-element-menu-menu"},{type:"defs",required:!1,prop:"divider",def:"reading:filter:boolean",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:filter:size",help:"level-element-size"}],info:[{type:"defs",required:!1,prop:"text",def:"reading:filter:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"icon",def:"reading:filter:icon:color:size",help:"level-element-info-icon"},{type:"defs",required:!1,prop:"status",def:"reading:filter:level:color:min:max:reverse:linear",help:"level-element-info-status"},{type:"defs",required:!1,prop:"text2",def:"reading:filter:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"text3",def:"reading:filter:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"divider",def:"reading:filter:boolean",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:filter:size",help:"level-element-size"}]},x=F(),y=L(0);function p(u){return!x.app.config[e.type][e.typeIdx][e.section][c.value-1].level[u]&&u!=="level"}const a=B(()=>{if(y.value!==0){let u=x.app.config[e.type][e.typeIdx][e.section][c.value-1].level[n[y.value].name];if(u)return m[u]}return m[n[y.value].name]}),c=L(1),$=B(()=>x.app.config[e.type][e.typeIdx][e.section]?x.app.config[e.type][e.typeIdx][e.section].length:1);function d(u,r){u?x.app.config[e.type][e.typeIdx][e.section][c.value-1][r]={}:delete x.app.config[e.type][e.typeIdx][e.section][c.value-1][r]}function _(){x.app.config[e.type][e.typeIdx][e.section].push({level:{}}),c.value=$.value}function q(){x.app.config[e.type][e.typeIdx][e.section].splice(c.value-1,1),c.value=$.value}function V(u){let r={icon:"mdi-alert-circle",color:"error"};if(p(u))return{icon:"",color:""};if(x.app.config[e.type][e.typeIdx][e.section][c.value-1][u])for(const i of Object.keys(x.app.config[e.type][e.typeIdx][e.section][c.value-1][u]))x.app.config[e.type][e.typeIdx][e.section][c.value-1][u][i]&&(r.icon="mdi-check",r.color="green-darken-1");return r}function b(u){let r={icon:u.required?"mdi-alert-circle":"mdi-chevron-down",color:u.required?"error":null},i=[e.type,e.typeIdx,e.section,c.value-1,n[y.value].name,u.prop],S=[];return S=x.getEl(x.app.config,i),S&&S.length>0&&(r={icon:"mdi-check",color:"success"}),r}return(u,r)=>{const i=o("v-btn"),S=o("v-list-item"),H=o("v-icon"),w=o("v-card"),v=o("v-item"),P=o("v-col"),I=o("v-row"),k=o("v-item-group"),O=o("v-expansion-panel-title"),M=o("v-autocomplete"),Q=o("v-expansion-panel-text"),G=o("v-expansion-panel"),Y=o("v-expansion-panels"),Z=o("v-pagination");return s(),E(A,null,[l(S,{title:u.$t("_app.settings.title")+" "+u.$t("_app.settings.props.main")+" ("+u.$t("_app.settings."+e.type+".title")+": "+f(x).app.config[e.type][e.typeIdx].name+")"},{append:t(()=>[l(i,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:r[0]||(r[0]=D=>f(x).help("bereich-main"))})]),_:1},8,["title"]),l(S,null,{default:t(()=>[l(k,{modelValue:y.value,"onUpdate:modelValue":r[1]||(r[1]=D=>y.value=D),mandatory:""},{default:t(()=>[l(I,{class:"text-center","no-gutters":""},{default:t(()=>[(s(),E(A,null,R(n,D=>ie(l(P,{key:D.name,cols:D.cols},{default:t(()=>[l(v,null,{default:t(({isSelected:j,toggle:ee})=>[l(w,{color:j?D.color:D.color+"-lighten-5",subtitle:u.$t("_app.settings.props."+D.name),class:"ma-1 pa-0",variant:"flat",onClick:ee},{prepend:t(()=>[l(H)]),append:t(()=>[l(H,{icon:V(D.name).icon,color:V(D.name).color},null,8,["icon","color"])]),_:2},1032,["color","subtitle","onClick"])]),_:2},1024)]),_:2},1032,["cols"]),[[se,!p(D.name)]])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(S,null,{default:t(()=>[l(Y,null,{default:t(()=>[(s(!0),E(A,null,R(a.value,D=>(s(),h(G,{key:D.prop},{default:t(()=>[l(O,null,{actions:t(({expanded:j})=>[l(H,{color:j?"":b(D).color,icon:j?"mdi-chevron-up":b(D).icon},null,8,["color","icon"])]),default:t(()=>[J(K(D.prop)+" ",1)]),_:2},1024),l(Q,null,{default:t(()=>[D.type==="types"?(s(),h(M,{key:0,modelValue:f(x).app.config[e.type][e.typeIdx][e.section][c.value-1].level[D.prop],"onUpdate:modelValue":[j=>f(x).app.config[e.type][e.typeIdx][e.section][c.value-1].level[D.prop]=j,j=>d(j,D.prop)],items:g,label:u.$t("_app.settings.props.type"),density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","label"])):C("",!0),D.type==="defs"?(s(),h(ge,{key:1,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:c.value-1,mainSection:n[y.value].name,prop:D.prop,propDef:D.def,propHelp:D.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):C("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),l(S,null,{default:t(()=>[l(I,{"no-gutters":""},{default:t(()=>[l(P,null,{default:t(()=>[l(Z,{modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=D=>c.value=D),length:$.value,"total-visible":"5",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),l(P,{cols:"2",class:"text-right"},{default:t(()=>[l(i,{variant:"text",icon:"mdi-plus",onClick:r[3]||(r[3]=D=>_())}),l(i,{variant:"text",icon:"mdi-delete",disabled:$.value<2,onClick:r[4]||(r[4]=D=>q())},null,8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}},le={__name:"SettingsProps",props:{type:String},setup(z){const e=z,n=F(),{mobile:g}=X(),m="_app.settings."+e.type+".",x=[{section:"panel",color:"grey"},{section:"status",color:"green"},{section:"main",height:80,color:"orange"},{section:"info",color:"blue"}],y=L(0),p=B(()=>{let w=n.app.config[e.type].map(v=>v.name)||[];return w.sort((v,P)=>v>P?1:P>v?-1:0),w}),a=L(p.value[0]),c=B(()=>n.app.config[e.type].map(w=>w.name).indexOf(a.value)),$=L(null),d=L(null);function _(w){d.value=w}const q=B(()=>{let w=[];for(const v of n.app.config.panels)v.template===a.value&&w.push(v.name);return w.sort((v,P)=>v>P?1:P>v?-1:0),_(w[0]),w}),V=L(!0),b=L(e.type!=="panels"),u=L(!1),r={required:w=>!!w||n.replacer("%t(_app.settings.rules.required)"),uniqe:w=>p.value.indexOf(w)===-1||n.replacer("%t(_app.settings.rules.panelUniqe)")};function i(){let w=n.app.panelList.map(v=>v.name).indexOf(e.type==="templates"?d.value:a.value);return w!==-1?n.app.panelList[w]:null}function S(){n.app.config[e.type].splice(c.value,1),a.value=n.app.config[e.type].length>0?n.app.config[e.type][0].name:"",b.value=e.type!=="panels",y.value=0}function H(){let w={name:a.value,template:null,panel:{},status:{},main:[{level:{}}],info:{}},v={name:a.value,author:null,date:null,panel:{},status:{},main:[{level:{}}],info:{}};n.app.config[e.type].push(e.type==="panels"?w:v)}return(w,v)=>{const P=o("v-btn"),I=o("v-list-item"),k=o("v-col"),O=o("v-divider"),M=o("v-switch"),Q=o("v-autocomplete"),G=o("v-row"),Y=o("v-text-field"),Z=o("v-form"),D=o("v-card"),j=o("v-item"),ee=o("v-item-group"),oe=o("v-list");return s(),h(oe,null,{default:t(()=>[l(G,{"no-gutters":""},{default:t(()=>[c.value===-1?(s(),h(k,{key:0},{default:t(()=>[l(I,{title:w.$t(m+"title")},{append:t(()=>[l(P,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:v[0]||(v[0]=N=>f(n).help(e.type==="panels"?"panels":"vorlagen"))})]),_:1},8,["title"])]),_:1})):C("",!0),c.value!==-1?(s(),h(k,{key:1},{default:t(()=>[x[y.value].section!=="main"?(s(),h(ve,{key:0,type:z.type,typeIdx:c.value,section:x[y.value].section,extended:b.value},null,8,["type","typeIdx","section","extended"])):C("",!0),x[y.value].section==="main"?(s(),h(_e,{key:1,type:z.type,typeIdx:c.value,section:x[y.value].section},null,8,["type","typeIdx","section"])):C("",!0)]),_:1})):C("",!0),l(O,{vertical:!f(g)},null,8,["vertical"]),l(k,{cols:"12",lg:"4"},{default:t(()=>[e.type==="panels"?(s(),h(I,{key:0,class:"pa-0"},{default:t(()=>[l(M,{modelValue:b.value,"onUpdate:modelValue":[v[1]||(v[1]=N=>b.value=N),v[2]||(v[2]=N=>N?null:y.value=0)],label:w.$t("_app.settings.panels.extendedSettings"),color:"blue","hide-details":"",class:"ml-4"},null,8,["modelValue","label"])]),_:1})):C("",!0),l(I,null,{default:t(()=>[V.value?(s(),h(G,{key:0,"no-gutters":"",class:"pt-1"},{default:t(()=>[l(k,{cols:"8",class:"pt-1"},{default:t(()=>[l(Q,{modelValue:a.value,"onUpdate:modelValue":v[3]||(v[3]=N=>a.value=N),items:p.value,label:w.$t(m+"title"),disabled:p.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),l(k,{class:"text-right"},{default:t(()=>[l(P,{variant:"text",icon:"mdi-plus",onClick:v[4]||(v[4]=N=>{V.value=!V.value,$.value=a.value,a.value=null})}),l(P,{variant:"text",icon:"mdi-delete",disabled:c.value===-1,onClick:v[5]||(v[5]=N=>S())},null,8,["disabled"])]),_:1})]),_:1})):C("",!0),l(Z,{modelValue:u.value,"onUpdate:modelValue":v[9]||(v[9]=N=>u.value=N)},{default:t(()=>[V.value?C("",!0):(s(),h(G,{key:0,"no-gutters":"",class:"pt-1"},{default:t(()=>[l(k,{cols:"8",class:"pt-1"},{default:t(()=>[l(Y,{modelValue:a.value,"onUpdate:modelValue":v[6]||(v[6]=N=>a.value=N),label:w.$t(m+"title"),rules:[r.required,r.uniqe],density:"compact",variant:"outlined"},null,8,["modelValue","label","rules"])]),_:1}),l(k,{class:"text-right"},{default:t(()=>[l(P,{variant:"text",icon:"mdi-check",disabled:!u.value,onClick:v[7]||(v[7]=N=>{H(),V.value=!V.value})},null,8,["disabled"]),l(P,{variant:"text",icon:"mdi-cancel",onClick:v[8]||(v[8]=N=>{V.value=!V.value,a.value=$.value})})]),_:1})]),_:1}))]),_:1},8,["modelValue"]),b.value?(s(),h(ee,{key:1,modelValue:y.value,"onUpdate:modelValue":v[10]||(v[10]=N=>y.value=N),mandatory:""},{default:t(()=>[l(G,{class:"text-center pb-3","no-gutters":""},{default:t(()=>[(s(),E(A,null,R(x,N=>l(k,{key:N.section,cols:"12"},{default:t(()=>[l(j,null,{default:t(({isSelected:ae,toggle:pe})=>[l(D,{subtitle:w.$t("_app.settings.props."+N.section),color:ae?N.color:N.color+"-lighten-5",variant:"flat",class:"ma-1 pa-0",height:N.height,onClick:pe},null,8,["subtitle","color","height","onClick"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["modelValue"])):C("",!0),l(O,{class:"pb-3"}),e.type==="templates"?(s(),h(G,{key:2,"no-gutters":""},{default:t(()=>[l(k,{cols:"8",class:"pt-1"},{default:t(()=>[l(Q,{modelValue:d.value,"onUpdate:modelValue":v[11]||(v[11]=N=>d.value=N),items:q.value,label:w.$t("_app.settings.panels.preview"),disabled:p.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})]),_:1})):C("",!0),f(n).app.isReady&&i()?(s(),h(G,{key:3,"no-gutters":""},{default:t(()=>[l(k,null,{default:t(()=>[l(ue,{panel:i()},null,8,["panel"])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}},te="_app.settings.colors.",ye={__name:"SettingsColors",setup(z){const{mobile:e}=X(),n=F(),g=L(),m=B(()=>Object.keys(n.app.config.colors)),x=B(()=>{let a=[];for(const c of m.value)for(const $ of Object.keys(n.app.config.colors[c]))a.indexOf($)===-1&&a.push($);return a});function y(){n.app.config.colors.dark||(n.app.config.colors.dark={}),n.app.config.colors.light||(n.app.config.colors.light={}),n.app.config.colors.dark[g.value]="#E0E0E0",n.app.config.colors.light[g.value]="#E0E0E0",g.value=null}function p(a){for(const c of m.value)delete n.app.config.colors[c][a]}return(a,c)=>{const $=o("v-btn"),d=o("v-list-item"),_=o("v-color-picker"),q=o("v-spacer"),V=o("v-card-actions"),b=o("v-card"),u=o("v-dialog"),r=o("v-col"),i=o("v-divider"),S=o("v-row"),H=o("v-text-field"),w=o("v-list");return s(),h(w,null,{default:t(()=>[l(d,{title:a.$t(te+"title",2)},{append:t(()=>[l($,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:c[0]||(c[0]=v=>f(n).help("farben"))})]),_:1},8,["title"]),l(d,null,{default:t(()=>[l(S,{"no-gutters":"",class:"text-right"},{default:t(()=>[l(r,null,{default:t(()=>[(s(!0),E(A,null,R(x.value,v=>(s(),h(S,{key:v,"no-gutters":"",class:"pt-3"},{default:t(()=>[(s(!0),E(A,null,R(m.value,P=>(s(),h(r,{key:P,cols:"12",lg:"",class:"pa-2"},{default:t(()=>[l(u,{width:"350"},{activator:t(({props:I})=>[l($,re({text:v+" ["+P+"] "+(f(n).app.config.colors[P][v]||""),color:f(n).app.config.colors[P][v],modelValue:f(n).app.config.colors[P][v],"onUpdate:modelValue":k=>f(n).app.config.colors[P][v]=k,size:"large",width:"350"},I),null,16,["text","color","modelValue","onUpdate:modelValue"])]),default:t(({isActive:I})=>[l(b,null,{default:t(()=>[l(_,{modelValue:f(n).app.config.colors[P][v],"onUpdate:modelValue":k=>f(n).app.config.colors[P][v]=k,"show-swatches":"",mode:"hexa",width:"350",elevation:"0","swatches-max-height":"400px"},null,8,["modelValue","onUpdate:modelValue"]),l(V,null,{default:t(()=>[l(q),l($,{onClick:k=>I.value=!1},{default:t(()=>[J("ok")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l(r,{cols:"12",lg:"1",class:"pt-1"},{default:t(()=>[l($,{variant:"text",icon:"mdi-delete",onClick:P=>p(v)},null,8,["onClick"])]),_:2},1024),f(e)?(s(),h(i,{key:0})):C("",!0)]),_:2},1024))),128))]),_:1}),f(e)?C("",!0):(s(),h(i,{key:0,vertical:"",class:"mx-5"})),l(r,{cols:"12",lg:"3"},{default:t(()=>[l(S,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l(r,{class:"pt-2"},{default:t(()=>[l(H,{density:"compact",variant:"outlined",clearable:"",label:a.$t(te+"newKey"),modelValue:g.value,"onUpdate:modelValue":c[1]||(c[1]=v=>g.value=v)},null,8,["label","modelValue"])]),_:1}),l(r,{cols:"3",class:"pt-1"},{default:t(()=>[l($,{variant:"text",icon:"mdi-plus",onClick:c[2]||(c[2]=v=>y())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},W="_app.settings.content.",he={__name:"SettingsContent",setup(z){const{mobile:e}=X(),n=F(),g=L(),m=L(),x=L(!1),y=L(!1),p=B(()=>Object.keys(n.app.config.content)),a=B(()=>{let V=[];for(const b of p.value)for(const u of Object.keys(n.app.config.content[b]))V.indexOf(u)===-1&&V.push(u);return V}),c={iso639code:V=>/^[a-z]{2}$/.test(V)||n.replacer("%t(_app.settings.rules.iso639code)")};function $(){n.app.config.content[p.value[0]][g.value]="",g.value=null}function d(){n.app.config.content[m.value]={},m.value=null,x.value=!1}function _(){delete n.app.config.content[m.value],m.value=null}function q(V){for(const b of p.value)delete n.app.config.content[b][V]}return(V,b)=>{const u=o("v-btn"),r=o("v-list-item"),i=o("v-text-field"),S=o("v-col"),H=o("v-divider"),w=o("v-row"),v=o("v-autocomplete"),P=o("v-form"),I=o("v-list");return s(),h(I,null,{default:t(()=>[l(r,{title:V.$t(W+"title",2)},{append:t(()=>[l(u,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:b[0]||(b[0]=k=>f(n).help("sprachen"))})]),_:1},8,["title"]),l(r,null,{default:t(()=>[l(w,{"no-gutters":"",class:"text-right"},{default:t(()=>[l(S,null,{default:t(()=>[(s(!0),E(A,null,R(a.value,k=>(s(),h(w,{key:k,"no-gutters":"",class:"pt-3"},{default:t(()=>[(s(!0),E(A,null,R(p.value,O=>(s(),h(S,{key:O,cols:"12",lg:"",class:"pa-2"},{default:t(()=>[l(i,{density:"compact",variant:"outlined","hide-details":"",clearable:"",label:k+" ["+O+"]",modelValue:f(n).app.config.content[O][k],"onUpdate:modelValue":M=>f(n).app.config.content[O][k]=M},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),l(S,{cols:"12",lg:"1",class:"pt-1"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-delete",onClick:O=>q(k)},null,8,["onClick"])]),_:2},1024),f(e)?(s(),h(H,{key:0})):C("",!0)]),_:2},1024))),128))]),_:1}),f(e)?C("",!0):(s(),h(H,{key:0,vertical:"",class:"mx-5"})),l(S,{cols:"12",lg:"3"},{default:t(()=>[l(w,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l(S,{class:"pt-2"},{default:t(()=>[l(i,{density:"compact",variant:"outlined",clearable:"",disabled:p.value.length<1,label:V.$t(W+"newKey"),modelValue:g.value,"onUpdate:modelValue":b[1]||(b[1]=k=>g.value=k)},null,8,["disabled","label","modelValue"])]),_:1}),l(S,{cols:"4",class:"pt-1"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-plus",disabled:p.value.length<1,onClick:b[2]||(b[2]=k=>$())},null,8,["disabled"])]),_:1})]),_:1}),l(P,{modelValue:y.value,"onUpdate:modelValue":b[10]||(b[10]=k=>y.value=k)},{default:t(()=>[l(w,{"no-gutters":""},{default:t(()=>[x.value?(s(),h(S,{key:0},{default:t(()=>[l(i,{density:"compact",variant:"outlined",clearable:"",label:V.$t(W+"newLang"),rules:[c.iso639code],"append-inner-icon":"mdi-help-circle","onClick:appendInner":b[3]||(b[3]=k=>V.openHelp("Sprachcodes")),modelValue:m.value,"onUpdate:modelValue":b[4]||(b[4]=k=>m.value=k)},null,8,["label","rules","modelValue"])]),_:1})):C("",!0),x.value?(s(),h(S,{key:1,cols:"4"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-check",disabled:!y.value,onClick:b[5]||(b[5]=k=>d())},null,8,["disabled"]),l(u,{variant:"text",icon:"mdi-cancel",onClick:b[6]||(b[6]=k=>{x.value=!x.value,m.value=null})})]),_:1})):C("",!0),x.value?C("",!0):(s(),h(S,{key:2},{default:t(()=>[l(v,{modelValue:m.value,"onUpdate:modelValue":b[7]||(b[7]=k=>m.value=k),items:p.value,label:V.$t(W+"title"),disabled:p.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})),x.value?C("",!0):(s(),h(S,{key:3,cols:"4"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-plus",onClick:b[8]||(b[8]=k=>{x.value=!x.value,m.value=null})}),l(u,{variant:"text",icon:"mdi-delete",disabled:p.value.length===0||p.value.indexOf(m.value)===-1,onClick:b[9]||(b[9]=k=>_())},null,8,["disabled"])]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},xe={__name:"SettingsView",setup(z){const e=["header","panels","templates","navigation","colors","content"],n=L(e[0]),g=L(!1),m=F();de(m.app.config,y=>{y&&m.app.isReady&&(g.value=!0)});async function x(y){let p=null;y&&(p=encodeURIComponent(btoa(JSON.stringify(m.app.config))),await m.request("text","set "+m.app.fhemDevice+" config "+p)),await m.createSession(),g.value=!1}return(y,p)=>{const a=o("v-toolbar-title"),c=o("v-btn"),$=o("v-toolbar"),d=o("v-tab"),_=o("v-tabs"),q=o("v-card");return s(),h(q,{color:"primary"},{default:t(()=>[l($,{color:"primary"},{append:t(()=>[g.value?(s(),h(c,{key:0,icon:"mdi-cancel",onClick:p[0]||(p[0]=V=>x(!1))})):C("",!0),l(c,{disabled:!g.value,icon:"mdi-content-save-outline",onClick:p[1]||(p[1]=V=>x(!0))},null,8,["disabled"])]),default:t(()=>[l(a,null,{default:t(()=>[J(K(y.$t("_app.settings.title")),1)]),_:1})]),_:1}),l(_,{"bg-color":"primary",modelValue:n.value,"onUpdate:modelValue":p[2]||(p[2]=V=>n.value=V)},{default:t(()=>[(s(),E(A,null,R(e,V=>l(d,{value:V,key:V},{default:t(()=>[J(K(y.$t("_app.settings."+V+".title",2)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),n.value==="header"?(s(),h(ce,{key:0})):C("",!0),n.value==="navigation"?(s(),h(me,{key:1})):C("",!0),n.value==="panels"?(s(),h(le,{key:2,type:n.value},null,8,["type"])):C("",!0),n.value==="templates"?(s(),h(le,{key:3,type:n.value},null,8,["type"])):C("",!0),n.value==="colors"?(s(),h(ye,{key:4})):C("",!0),n.value==="content"?(s(),h(he,{key:5})):C("",!0)]),_:1})}}};export{xe as default};
