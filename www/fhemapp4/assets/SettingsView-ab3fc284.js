import{u as W,f as H,g as Ie,r as f,o as k,a as C,w as a,e as t,h as I,b as B,F as R,d as J,i as ce,j as Y,t as G,k as A,l as qe,m as ee,c as T,n as Ae,v as De,p as Pe,q as Se,s as je,x as ze}from"./index-3a3c578f.js";import{c as _e,u as Oe,V as Ne}from"./index-98a7d18b.js";import{_ as Le}from"./PanelCard-28e39448.js";const O="_app.settings.header.",Ke={__name:"SettingsHeader",setup(U){const e=W(),o={required:l=>!!l||e.replacer("%t(_app.settings.rules.required)")},p=H(),v=Ie({name:"",title:"",icon:"",cmd:""});function V(){e.app.config.header.commands.push(JSON.parse(JSON.stringify(v))),p.value.reset()}function _(l){e.app.config.header.commands.splice(l,1)}return(l,i)=>{const b=f("v-btn"),$=f("v-list-item"),y=f("v-text-field"),w=f("v-col"),D=f("v-checkbox"),d=f("v-row"),S=f("v-divider"),E=f("v-form"),x=f("v-list");return k(),C(x,null,{default:a(()=>[t($,{title:l.$t(O+"barTitle")},{append:a(()=>[t(b,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[0]||(i[0]=n=>I(e).help("kopfzeile"))})]),_:1},8,["title"]),t($,null,{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(w,{cols:"12",lg:"4",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"imageUrlPlaceholder"),label:l.$t(O+"imageUrl"),modelValue:I(e).app.config.header.imageUrl,"onUpdate:modelValue":i[1]||(i[1]=n=>I(e).app.config.header.imageUrl=n)},null,8,["placeholder","label","modelValue"])]),_:1}),t(w,{cols:"12",lg:"5",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"imageGradientPlaceholder"),label:l.$t(O+"imageGradient"),modelValue:I(e).app.config.header.imageGradient,"onUpdate:modelValue":i[2]||(i[2]=n=>I(e).app.config.header.imageGradient=n)},null,8,["placeholder","label","modelValue"])]),_:1}),t(w,{cols:"6",lg:"",class:"pt-1"},{default:a(()=>[t(D,{hint:l.$t(O+"showTimeHint"),label:l.$t(O+"showTime"),modelValue:I(e).app.config.header.showTime,"onUpdate:modelValue":i[3]||(i[3]=n=>I(e).app.config.header.showTime=n)},null,8,["hint","label","modelValue"])]),_:1}),t(w,{cols:"6",lg:"",class:"pt-1"},{default:a(()=>[t(D,{hint:l.$t(O+"showDateHint"),label:l.$t(O+"showDate"),modelValue:I(e).app.config.header.showDate,"onUpdate:modelValue":i[4]||(i[4]=n=>I(e).app.config.header.showDate=n)},null,8,["hint","label","modelValue"])]),_:1})]),_:1})]),_:1}),t(S),t($,{title:l.$t(O+"optionsTitle")},{append:a(()=>[t(b,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[5]||(i[5]=n=>I(e).help("optionsmenü"))})]),_:1},8,["title"]),t($,null,{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(w,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(O+"showDarkMode"),modelValue:I(e).app.config.header.showDarkMode,"onUpdate:modelValue":i[6]||(i[6]=n=>I(e).app.config.header.showDarkMode=n)},null,8,["label","modelValue"])]),_:1}),t(w,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(O+"showReloadPage"),modelValue:I(e).app.config.header.showReloadPage,"onUpdate:modelValue":i[7]||(i[7]=n=>I(e).app.config.header.showReloadPage=n)},null,8,["label","modelValue"])]),_:1}),t(w,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(O+"showSettings"),modelValue:I(e).app.config.header.showSettings,"onUpdate:modelValue":i[8]||(i[8]=n=>I(e).app.config.header.showSettings=n)},null,8,["label","modelValue"])]),_:1}),t(w,{cols:"6",lg:""},{default:a(()=>[t(D,{label:l.$t(O+"showLanguages"),modelValue:I(e).app.config.header.showLanguages,"onUpdate:modelValue":i[9]||(i[9]=n=>I(e).app.config.header.showLanguages=n)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),t(S),t($,{title:l.$t(O+"optionsCommandTitle")},{append:a(()=>[t(b,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:i[10]||(i[10]=n=>I(e).help("optionsmenü-fhem-befehle"))})]),_:1},8,["title"]),(k(!0),B(R,null,J(I(e).app.config.header.commands,(n,r)=>(k(),C($,{key:r},{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(w,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandNamePlaceholder"),label:l.$t(O+"commandName"),rules:[o.required],modelValue:n.name,"onUpdate:modelValue":c=>n.name=c},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandTitlePlaceholder"),label:l.$t(O+"commandTitle"),rules:[o.required],modelValue:n.title,"onUpdate:modelValue":c=>n.title=c},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandIconPlaceholder"),label:l.$t(O+"commandIcon"),"append-inner-icon":n.icon,modelValue:n.icon,"onUpdate:modelValue":c=>n.icon=c},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{cols:"10",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandCmdPlaceholder"),label:l.$t(O+"commandCmd"),rules:[o.required],modelValue:n.cmd,"onUpdate:modelValue":c=>n.cmd=c},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{class:"pt-3 text-right"},{default:a(()=>[t(b,{variant:"text",icon:"mdi-delete",onClick:c=>_(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t($,null,{default:a(()=>[t(E,{ref_key:"form",ref:p},{default:a(()=>[t(d,{"no-gutters":""},{default:a(()=>[t(w,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandNamePlaceholder"),label:l.$t(O+"commandName"),rules:[o.required],modelValue:v.name,"onUpdate:modelValue":i[11]||(i[11]=n=>v.name=n)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandTitlePlaceholder"),label:l.$t(O+"commandTitle"),rules:[o.required],modelValue:v.title,"onUpdate:modelValue":i[12]||(i[12]=n=>v.title=n)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(w,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandIconPlaceholder"),label:l.$t(O+"commandIcon"),"append-inner-icon":v.icon,modelValue:v.icon,"onUpdate:modelValue":i[13]||(i[13]=n=>v.icon=n)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(w,{cols:"9",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(y,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:l.$t(O+"commandCmdPlaceholder"),label:l.$t(O+"commandCmd"),rules:[o.required],modelValue:v.cmd,"onUpdate:modelValue":i[14]||(i[14]=n=>v.cmd=n)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(w,{class:"pt-3 text-right"},{default:a(()=>[t(b,{variant:"text",icon:"mdi-cancel",onClick:i[15]||(i[15]=n=>p.value.reset())}),t(b,{variant:"text",icon:"mdi-plus",disabled:!v.name||!v.title||!v.cmd,onClick:i[16]||(i[16]=n=>V())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},L="_app.settings.navigation.",He={__name:"SettingsNavigation",setup(U){const{mobile:e}=ce(),o=W(),p=Ie({path:[],route:["navigation"],items:[],newItem:{name:null,title:null,icon:null,divider:!1,groupAsChips:!1,sort:!1,group:[]}}),v=H(),V={required:y=>!!y||o.replacer("%t(_app.settings.rules.required)")};function _(y){typeof y<"u"&&(p.path.push(y,"group"),p.route.push(p.items[y].name)),p.items=o.getEl(o.app.config.navigation,p.path)}function l(){let y=JSON.parse(JSON.stringify(p.newItem));o.getEl(o.app.config.navigation,p.path).push(y),_(),v.value.reset()}function i(y){o.getEl(o.app.config.navigation,p.path).splice(y,1)}function b(y){return(o.getEl(p.items[y],["group"])||[]).length}function $(){p.route.pop(),p.path.splice(-2,2),_()}return _(),(y,w)=>{const D=f("v-btn"),d=f("v-list-item"),S=f("v-text-field"),E=f("v-col"),x=f("v-checkbox"),n=f("v-icon"),r=f("v-badge"),c=f("v-row"),h=f("v-divider"),g=f("v-form"),u=f("v-list");return k(),C(u,null,{default:a(()=>[t(d,{title:y.$t(L+"title")},{append:a(()=>[t(D,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:w[0]||(w[0]=s=>I(o).help("navigation"))})]),_:1},8,["title"]),p.path.length>0?(k(),C(d,{key:0},{default:a(()=>[t(D,{variant:"text",icon:"mdi-arrow-up-left",onClick:w[1]||(w[1]=s=>$())}),Y(" "+G(p.route.join(" > ")),1)]),_:1})):A("",!0),(k(!0),B(R,null,J(p.items,(s,m)=>(k(),C(d,{key:m},{default:a(()=>[t(c,{"no-gutters":""},{default:a(()=>[t(E,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:y.$t(L+"namePlaceholder"),label:y.$t(L+"name"),rules:[V.required],modelValue:s.name,"onUpdate:modelValue":F=>s.name=F},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:y.$t(L+"title1Placeholder"),label:y.$t(L+"title1"),modelValue:s.title,"onUpdate:modelValue":F=>s.title=F},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:y.$t(L+"iconPlaceholder"),label:y.$t(L+"icon"),"append-inner-icon":s.icon,modelValue:s.icon,"onUpdate:modelValue":F=>s.icon=F},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:4,lg:"",class:"pt-1"},{default:a(()=>[t(x,{hint:y.$t(L+"groupAsChipsHint"),label:y.$t(L+"groupAsChips"),modelValue:s.groupAsChips,"onUpdate:modelValue":F=>s.groupAsChips=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:4,lg:"",class:"pt-1"},{default:a(()=>[t(x,{hint:y.$t(L+"sortHint"),label:y.$t(L+"sort"),modelValue:s.sort,"onUpdate:modelValue":F=>s.sort=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(x,{hint:y.$t(L+"dividerHint"),label:y.$t(L+"divider"),modelValue:s.divider,"onUpdate:modelValue":F=>s.divider=F},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(E,{class:"pt-3 text-right"},{default:a(()=>[t(D,{variant:"text",icon:"",onClick:F=>_(m)},{default:a(()=>[b(m)>0?(k(),C(r,{key:0,color:"success",content:b(m)},{default:a(()=>[t(n,{icon:"mdi-arrow-down-right"})]),_:2},1032,["content"])):A("",!0),b(m)===0?(k(),C(n,{key:1,icon:"mdi-arrow-down-right"})):A("",!0)]),_:2},1032,["onClick"]),t(D,{variant:"text",icon:"mdi-delete",onClick:F=>i(m)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),I(e)?(k(),C(h,{key:0})):A("",!0)]),_:2},1024))),128)),t(d,null,{default:a(()=>[t(g,{ref_key:"form",ref:v},{default:a(()=>[t(c,{"no-gutters":""},{default:a(()=>[t(E,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:y.$t(L+"namePlaceholder"),label:y.$t(L+"name"),rules:[V.required],modelValue:p.newItem.name,"onUpdate:modelValue":w[2]||(w[2]=s=>p.newItem.name=s)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:y.$t(L+"title1Placeholder"),label:y.$t(L+"title1"),modelValue:p.newItem.title,"onUpdate:modelValue":w[3]||(w[3]=s=>p.newItem.title=s)},null,8,["placeholder","label","modelValue"])]),_:1}),t(E,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:a(()=>[t(S,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:y.$t(L+"iconPlaceholder"),label:y.$t(L+"icon"),"append-inner-icon":p.newItem.icon,modelValue:p.newItem.icon,"onUpdate:modelValue":w[4]||(w[4]=s=>p.newItem.icon=s)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(x,{hint:y.$t(L+"groupAsChipsHint"),label:y.$t(L+"groupAsChips"),modelValue:p.newItem.groupAsChips,"onUpdate:modelValue":w[5]||(w[5]=s=>p.newItem.groupAsChips=s)},null,8,["hint","label","modelValue"])]),_:1}),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(x,{hint:y.$t(L+"sortHint"),label:y.$t(L+"sort"),modelValue:p.newItem.sort,"onUpdate:modelValue":w[6]||(w[6]=s=>p.newItem.sort=s)},null,8,["hint","label","modelValue"])]),_:1}),t(E,{cols:"4",lg:"",class:"pt-1"},{default:a(()=>[t(x,{hint:y.$t(L+"dividerHint"),label:y.$t(L+"divider"),modelValue:p.newItem.divider,"onUpdate:modelValue":w[7]||(w[7]=s=>p.newItem.divider=s)},null,8,["hint","label","modelValue"])]),_:1}),t(E,{class:"pt-3 text-right"},{default:a(()=>[t(D,{variant:"text",icon:"mdi-cancel",onClick:w[8]||(w[8]=s=>v.value.reset())}),t(D,{variant:"text",icon:"mdi-plus",disabled:!p.newItem.name,onClick:w[9]||(w[9]=s=>l())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}};function oe(){return oe=Object.assign||function(U){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(U[p]=o[p])}return U},oe.apply(this,arguments)}var Te=13,Me=9,Be=8,Re=89,pe=90,Je=77,be=57,xe=219,ke=222,we=192,We=27,$e=100,Ye=3e3,Ge=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),he=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ee=qe({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(e){e?this.codeData=e:this.codeData=""}},content:{immediate:!0,handler:function(){var e=this;this.lineNumbers&&this.$nextTick(function(){e.setLineNumbersHeight()})}},lineNumbers:function(){var e=this;this.$nextTick(function(){e.styleLineNumbers(),e.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var e=this.highlight(this.codeData)+"<br />";return e},lineNumbersCount:function(){var e=this.codeData.split(/\r\n|\n/).length;return e}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var e=this.$refs.pre,o=this.$el.querySelector(".prism-editor__line-numbers"),p=window.getComputedStyle(e);this.$nextTick(function(){var v="border-top-left-radius",V="border-bottom-left-radius";if(o){o.style[v]=p[v],o.style[V]=p[V],e.style[v]="0",e.style[V]="0";var _=["background-color","margin-top","padding-top","font-family","font-size","line-height"];_.forEach(function(l){o.style[l]=p[l]}),o.style["margin-bottom"]="-"+p["padding-top"]}})}},_recordCurrentState:function(){var e=this.$refs.textarea;if(e){var o=e.value,p=e.selectionStart,v=e.selectionEnd;this._recordChange({value:o,selectionStart:p,selectionEnd:v})}},_getLines:function(e,o){return e.substring(0,o).split(`
`)},_applyEdits:function(e){var o=this.$refs.textarea,p=this.history.stack[this.history.offset];p&&o&&(this.history.stack[this.history.offset]=oe({},p,{selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})),this._recordChange(e),this._updateInput(e)},_recordChange:function(e,o){o===void 0&&(o=!1);var p=this.history,v=p.stack,V=p.offset;if(v.length&&V>-1){this.history.stack=v.slice(0,V+1);var _=this.history.stack.length;if(_>$e){var l=_-$e;this.history.stack=v.slice(l,_),this.history.offset=Math.max(this.history.offset-l,0)}}var i=Date.now();if(o){var b=this.history.stack[this.history.offset];if(b&&i-b.timestamp<Ye){var $,y,w=/[^a-z0-9]([a-z0-9]+)$/i,D=($=this._getLines(b.value,b.selectionStart).pop())===null||$===void 0?void 0:$.match(w),d=(y=this._getLines(e.value,e.selectionStart).pop())===null||y===void 0?void 0:y.match(w);if(D&&d&&d[1].startsWith(D[1])){this.history.stack[this.history.offset]=oe({},e,{timestamp:i});return}}}this.history.stack.push(oe({},e,{timestamp:i})),this.history.offset++},_updateInput:function(e){var o=this.$refs.textarea;o&&(o.value=e.value,o.selectionStart=e.selectionStart,o.selectionEnd=e.selectionEnd,this.$emit("update:modelValue",e.value))},handleChange:function(e){var o=e.target,p=o.value,v=o.selectionStart,V=o.selectionEnd;this._recordChange({value:p,selectionStart:v,selectionEnd:V},!0),this.$emit("update:modelValue",p)},_undoEdit:function(){var e=this.history,o=e.stack,p=e.offset,v=o[p-1];v&&(this._updateInput(v),this.history.offset=Math.max(p-1,0))},_redoEdit:function(){var e=this.history,o=e.stack,p=e.offset,v=o[p+1];v&&(this._updateInput(v),this.history.offset=Math.min(p+1,o.length-1))},handleKeyDown:function(e){var o=this.tabSize,p=this.insertSpaces,v=this.ignoreTabKey;if(this.$emit("keydown",e),!e.defaultPrevented){e.keyCode===We&&(e.target.blur(),this.$emit("blur",e));var V=e.target,_=V.value,l=V.selectionStart,i=V.selectionEnd,b=(p?" ":"	").repeat(o);if(e.keyCode===Me&&!v&&this.capture)if(e.preventDefault(),e.shiftKey){var $=this._getLines(_,l),y=$.length-1,w=this._getLines(_,i).length-1,D=_.split(`
`).map(function(q,K){return K>=y&&K<=w&&q.startsWith(b)?q.substring(b.length):q}).join(`
`);if(_!==D){var d=$[y];this._applyEdits({value:D,selectionStart:d.startsWith(b)?l-b.length:l,selectionEnd:i-(_.length-D.length)})}}else if(l!==i){var S=this._getLines(_,l),E=S.length-1,x=this._getLines(_,i).length-1,n=S[E];this._applyEdits({value:_.split(`
`).map(function(q,K){return K>=E&&K<=x?b+q:q}).join(`
`),selectionStart:/\S/.test(n)?l+b.length:l,selectionEnd:i+b.length*(x-E+1)})}else{var r=l+b.length;this._applyEdits({value:_.substring(0,l)+b+_.substring(i),selectionStart:r,selectionEnd:r})}else if(e.keyCode===Be){var c=l!==i,h=_.substring(0,l);if(h.endsWith(b)&&!c){e.preventDefault();var g=l-b.length;this._applyEdits({value:_.substring(0,l-b.length)+_.substring(i),selectionStart:g,selectionEnd:g})}}else if(e.keyCode===Te){if(l===i){var u=this._getLines(_,l).pop(),s=u==null?void 0:u.match(/^\s+/);if(s&&s[0]){e.preventDefault();var m=`
`+s[0],F=l+m.length;this._applyEdits({value:_.substring(0,l)+m+_.substring(i),selectionStart:F,selectionEnd:F})}}}else if(e.keyCode===be||e.keyCode===xe||e.keyCode===ke||e.keyCode===we){var P;e.keyCode===be&&e.shiftKey?P=["(",")"]:e.keyCode===xe?e.shiftKey?P=["{","}"]:P=["[","]"]:e.keyCode===ke?e.shiftKey?P=['"','"']:P=["'","'"]:e.keyCode===we&&!e.shiftKey&&(P=["`","`"]),l!==i&&P&&(e.preventDefault(),this._applyEdits({value:_.substring(0,l)+P[0]+_.substring(l,i)+P[1]+_.substring(i),selectionStart:l,selectionEnd:i+2}))}else(he?e.metaKey&&e.keyCode===pe:e.ctrlKey&&e.keyCode===pe)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),this._undoEdit()):(he?e.metaKey&&e.keyCode===pe&&e.shiftKey:Ge?e.ctrlKey&&e.keyCode===Re:e.ctrlKey&&e.keyCode===pe&&e.shiftKey)&&!e.altKey?(e.preventDefault(),this._redoEdit()):e.keyCode===Je&&e.ctrlKey&&(!he||e.shiftKey)&&(e.preventDefault(),this.capture=!this.capture)}}},render:function(){var e=this,o=ee("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),p=ee("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[o,Array.from(Array(this.lineNumbersCount).keys()).map(function(l,i){return ee("div",{class:"prism-editor__line-number token comment"},""+ ++i)})]),v=ee("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(i){e.$emit("click",i)},onKeyup:function(i){e.$emit("keyup",i)},onFocus:function(i){e.$emit("focus",i)},onBlur:function(i){e.$emit("blur",i)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),V=ee("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),_=ee("div",{class:"prism-editor__container"},[v,V]);return ee("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&p,_])}});var Fe={exports:{}};(function(U){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var o=function(p){var v=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,V=0,_={},l={manual:p.Prism&&p.Prism.manual,disableWorkerMessageHandler:p.Prism&&p.Prism.disableWorkerMessageHandler,util:{encode:function n(r){return r instanceof i?new i(r.type,n(r.content),r.alias):Array.isArray(r)?r.map(n):r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(n){return Object.prototype.toString.call(n).slice(8,-1)},objId:function(n){return n.__id||Object.defineProperty(n,"__id",{value:++V}),n.__id},clone:function n(r,c){c=c||{};var h,g;switch(l.util.type(r)){case"Object":if(g=l.util.objId(r),c[g])return c[g];h={},c[g]=h;for(var u in r)r.hasOwnProperty(u)&&(h[u]=n(r[u],c));return h;case"Array":return g=l.util.objId(r),c[g]?c[g]:(h=[],c[g]=h,r.forEach(function(s,m){h[m]=n(s,c)}),h);default:return r}},getLanguage:function(n){for(;n;){var r=v.exec(n.className);if(r)return r[1].toLowerCase();n=n.parentElement}return"none"},setLanguage:function(n,r){n.className=n.className.replace(RegExp(v,"gi"),""),n.classList.add("language-"+r)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(h){var n=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(h.stack)||[])[1];if(n){var r=document.getElementsByTagName("script");for(var c in r)if(r[c].src==n)return r[c]}return null}},isActive:function(n,r,c){for(var h="no-"+r;n;){var g=n.classList;if(g.contains(r))return!0;if(g.contains(h))return!1;n=n.parentElement}return!!c}},languages:{plain:_,plaintext:_,text:_,txt:_,extend:function(n,r){var c=l.util.clone(l.languages[n]);for(var h in r)c[h]=r[h];return c},insertBefore:function(n,r,c,h){h=h||l.languages;var g=h[n],u={};for(var s in g)if(g.hasOwnProperty(s)){if(s==r)for(var m in c)c.hasOwnProperty(m)&&(u[m]=c[m]);c.hasOwnProperty(s)||(u[s]=g[s])}var F=h[n];return h[n]=u,l.languages.DFS(l.languages,function(P,q){q===F&&P!=n&&(this[P]=u)}),u},DFS:function n(r,c,h,g){g=g||{};var u=l.util.objId;for(var s in r)if(r.hasOwnProperty(s)){c.call(r,s,r[s],h||s);var m=r[s],F=l.util.type(m);F==="Object"&&!g[u(m)]?(g[u(m)]=!0,n(m,c,null,g)):F==="Array"&&!g[u(m)]&&(g[u(m)]=!0,n(m,c,s,g))}}},plugins:{},highlightAll:function(n,r){l.highlightAllUnder(document,n,r)},highlightAllUnder:function(n,r,c){var h={callback:c,container:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",h),h.elements=Array.prototype.slice.apply(h.container.querySelectorAll(h.selector)),l.hooks.run("before-all-elements-highlight",h);for(var g=0,u;u=h.elements[g++];)l.highlightElement(u,r===!0,h.callback)},highlightElement:function(n,r,c){var h=l.util.getLanguage(n),g=l.languages[h];l.util.setLanguage(n,h);var u=n.parentElement;u&&u.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(u,h);var s=n.textContent,m={element:n,language:h,grammar:g,code:s};function F(q){m.highlightedCode=q,l.hooks.run("before-insert",m),m.element.innerHTML=m.highlightedCode,l.hooks.run("after-highlight",m),l.hooks.run("complete",m),c&&c.call(m.element)}if(l.hooks.run("before-sanity-check",m),u=m.element.parentElement,u&&u.nodeName.toLowerCase()==="pre"&&!u.hasAttribute("tabindex")&&u.setAttribute("tabindex","0"),!m.code){l.hooks.run("complete",m),c&&c.call(m.element);return}if(l.hooks.run("before-highlight",m),!m.grammar){F(l.util.encode(m.code));return}if(r&&p.Worker){var P=new Worker(l.filename);P.onmessage=function(q){F(q.data)},P.postMessage(JSON.stringify({language:m.language,code:m.code,immediateClose:!0}))}else F(l.highlight(m.code,m.grammar,m.language))},highlight:function(n,r,c){var h={code:n,grammar:r,language:c};if(l.hooks.run("before-tokenize",h),!h.grammar)throw new Error('The language "'+h.language+'" has no grammar.');return h.tokens=l.tokenize(h.code,h.grammar),l.hooks.run("after-tokenize",h),i.stringify(l.util.encode(h.tokens),h.language)},tokenize:function(n,r){var c=r.rest;if(c){for(var h in c)r[h]=c[h];delete r.rest}var g=new y;return w(g,g.head,n),$(n,g,r,g.head,0),d(g)},hooks:{all:{},add:function(n,r){var c=l.hooks.all;c[n]=c[n]||[],c[n].push(r)},run:function(n,r){var c=l.hooks.all[n];if(!(!c||!c.length))for(var h=0,g;g=c[h++];)g(r)}},Token:i};p.Prism=l;function i(n,r,c,h){this.type=n,this.content=r,this.alias=c,this.length=(h||"").length|0}i.stringify=function n(r,c){if(typeof r=="string")return r;if(Array.isArray(r)){var h="";return r.forEach(function(F){h+=n(F,c)}),h}var g={type:r.type,content:n(r.content,c),tag:"span",classes:["token",r.type],attributes:{},language:c},u=r.alias;u&&(Array.isArray(u)?Array.prototype.push.apply(g.classes,u):g.classes.push(u)),l.hooks.run("wrap",g);var s="";for(var m in g.attributes)s+=" "+m+'="'+(g.attributes[m]||"").replace(/"/g,"&quot;")+'"';return"<"+g.tag+' class="'+g.classes.join(" ")+'"'+s+">"+g.content+"</"+g.tag+">"};function b(n,r,c,h){n.lastIndex=r;var g=n.exec(c);if(g&&h&&g[1]){var u=g[1].length;g.index+=u,g[0]=g[0].slice(u)}return g}function $(n,r,c,h,g,u){for(var s in c)if(!(!c.hasOwnProperty(s)||!c[s])){var m=c[s];m=Array.isArray(m)?m:[m];for(var F=0;F<m.length;++F){if(u&&u.cause==s+","+F)return;var P=m[F],q=P.inside,K=!!P.lookbehind,te=!!P.greedy,le=P.alias;if(te&&!P.pattern.global){var X=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,X+"g")}for(var j=P.pattern||P,N=h.next,M=g;N!==r.tail&&!(u&&M>=u.reach);M+=N.value.length,N=N.next){var Z=N.value;if(r.length>n.length)return;if(!(Z instanceof i)){var ne=1,z;if(te){if(z=b(j,M,n,K),!z||z.index>=n.length)break;var ie=z.index,me=z.index+z[0].length,Q=M;for(Q+=N.value.length;ie>=Q;)N=N.next,Q+=N.value.length;if(Q-=N.value.length,M=Q,N.value instanceof i)continue;for(var ae=N;ae!==r.tail&&(Q<me||typeof ae.value=="string");ae=ae.next)ne++,Q+=ae.value.length;ne--,Z=n.slice(M,Q),z.index-=M}else if(z=b(j,0,Z,K),!z)continue;var ie=z.index,re=z[0],fe=Z.slice(0,ie),ye=Z.slice(ie+re.length),ve=M+Z.length;u&&ve>u.reach&&(u.reach=ve);var se=N.prev;fe&&(se=w(r,se,fe),M+=fe.length),D(r,se,ne);var Ue=new i(s,q?l.tokenize(re,q):re,le,re);if(N=w(r,se,Ue),ye&&w(r,N,ye),ne>1){var ge={cause:s+","+F,reach:ve};$(n,r,c,N.prev,M,ge),u&&ge.reach>u.reach&&(u.reach=ge.reach)}}}}}}function y(){var n={value:null,prev:null,next:null},r={value:null,prev:n,next:null};n.next=r,this.head=n,this.tail=r,this.length=0}function w(n,r,c){var h=r.next,g={value:c,prev:r,next:h};return r.next=g,h.prev=g,n.length++,g}function D(n,r,c){for(var h=r.next,g=0;g<c&&h!==n.tail;g++)h=h.next;r.next=h,h.prev=r,n.length-=g}function d(n){for(var r=[],c=n.head.next;c!==n.tail;)r.push(c.value),c=c.next;return r}if(!p.document)return p.addEventListener&&(l.disableWorkerMessageHandler||p.addEventListener("message",function(n){var r=JSON.parse(n.data),c=r.language,h=r.code,g=r.immediateClose;p.postMessage(l.highlight(h,l.languages[c],c)),g&&p.close()},!1)),l;var S=l.util.currentScript();S&&(l.filename=S.src,S.hasAttribute("data-manual")&&(l.manual=!0));function E(){l.manual||l.highlightAll()}if(!l.manual){var x=document.readyState;x==="loading"||x==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return l}(e);U.exports&&(U.exports=o),typeof _e<"u"&&(_e.Prism=o)})(Fe);var de=Fe.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Ze={__name:"SettingsPropsItem",props:{type:String,typeIdx:Number,section:String,prop:String,propDef:String,propHelp:String},setup(U){const e=U,o=W(),p=H(),v=H();function V(){o.app.config[e.type][e.typeIdx][e.section][e.prop]?o.app.config[e.type][e.typeIdx][e.section][e.prop].push(v.value):o.app.config[e.type][e.typeIdx][e.section][e.prop]=[v.value],p.value.reset()}function _(l){o.app.config[e.type][e.typeIdx][e.section][e.prop].splice(l,1),o.app.config[e.type][e.typeIdx][e.section][e.prop].length===0&&delete o.app.config[e.type][e.typeIdx][e.section][e.prop]}return(l,i)=>{const b=f("v-text-field"),$=f("v-col"),y=f("v-btn"),w=f("v-row"),D=f("v-list-item"),d=f("v-form"),S=f("v-list");return k(),C(S,{class:"pa-0"},{default:a(()=>[I(o).app.config[e.type][e.typeIdx][e.section][e.prop]?(k(),C(D,{key:0,class:"pa-0"},{default:a(()=>[(k(!0),B(R,null,J(I(o).app.config[e.type][e.typeIdx][e.section][e.prop],(E,x)=>(k(),C(w,{key:x,"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,null,{default:a(()=>[t(b,{density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"Definition "+(x+1),modelValue:I(o).app.config[e.type][e.typeIdx][e.section][e.prop][x],"onUpdate:modelValue":n=>I(o).app.config[e.type][e.typeIdx][e.section][e.prop][x]=n},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(y,{variant:"plain",icon:"mdi-delete",onClick:n=>_(x)},null,8,["onClick"])]),_:2},1024))),128))]),_:1})):A("",!0),t(D,{class:"pa-0"},{default:a(()=>[t(d,{ref_key:"form",ref:p},{default:a(()=>[t(w,{"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,{cols:"10"},{default:a(()=>[t(b,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=E=>v.value=E),density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":i[1]||(i[1]=E=>I(o).help(U.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(y,{variant:"plain",icon:"mdi-plus",disabled:!v.value,onClick:i[2]||(i[2]=E=>V())},null,8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1})}}},Qe={__name:"SettingsPropsList",props:{type:String,typeIdx:Number,section:String,extended:Boolean},setup(U){const e=U,o=W(),p={panel:[{type:"defs",show:["panels","extended.panels"],required:!0,prop:"devices",def:"key:fhem_device",help:"element-devices"},{type:"template",show:["panels","extended.panels"],required:!1,prop:"template",help:"element-template"},{type:"text",show:["templates"],required:!1,prop:"author",def:"text"},{type:"text",show:["templates"],required:!1,prop:"date",def:"text"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"navigation",def:"reading:value:route",help:"element-navigation"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"expandable",def:"reading:value:expandable:expanded:maximizable",help:"element-expandable"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"sortby",def:"reading:value:sortkey",help:"element-sortkey"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"show",def:"reading:value:show",help:"element-show"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"iconmap",def:"search:icon",help:"element-iconmap"}],status:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar2",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"imageUrl",def:"reading:value:url",help:"element-imageurl"},{type:"defs",show:["panels","extended.panels","templates"],required:!0,prop:"title",def:"reading:value:title",help:"element-title"}],info:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right2",def:"reading:value:text:icon:color",help:"element-info"}]},v=T(()=>{let l=[],i=e.type==="panels"?e.extended?"extended.panels":"panels":"templates";for(const b of p[e.section])b.show.indexOf(i)!==-1&&l.push(b);return l}),V=T(()=>{let l=[];for(const i of o.app.config.templates)i.dist||l.push({title:i.name,value:i.name});l.sort((i,b)=>i.title>b.title?1:b.title>i.title?-1:0);for(const i of o.app.distTemplates)l.push({title:i+" ("+o.replacer("%t(_app.default)","")+")",value:i});return l});function _(l){let i={icon:l.required?"mdi-alert-circle":"mdi-chevron-down",color:l.required?"error":null},b=[e.type,e.typeIdx],$=[];return e.section==="panel"&&["template","date","author"].indexOf(l.prop)!==-1?b.push(l.prop):b.push(e.section,l.prop),$=o.getEl(o.app.config,b),$&&$.length>0&&(i={icon:"mdi-check",color:"success"}),i}return(l,i)=>{const b=f("v-icon"),$=f("v-expansion-panel-title"),y=f("v-autocomplete"),w=f("v-text-field"),D=f("v-expansion-panel-text"),d=f("v-expansion-panel"),S=f("v-expansion-panels"),E=f("v-list-item");return k(),C(E,null,{default:a(()=>[t(S,null,{default:a(()=>[(k(!0),B(R,null,J(v.value,x=>(k(),C(d,{key:x.prop},{default:a(()=>[t($,null,{actions:a(({expanded:n})=>[t(b,{color:n?"":_(x).color,icon:n?"mdi-chevron-up":_(x).icon},null,8,["color","icon"])]),default:a(()=>[Y(G(x.prop)+" ",1)]),_:2},1024),t(D,null,{default:a(()=>[x.type==="defs"?(k(),C(Ze,{key:0,type:e.type,typeIdx:e.typeIdx,section:e.section,prop:x.prop,propDef:x.def,propHelp:x.help},null,8,["type","typeIdx","section","prop","propDef","propHelp"])):A("",!0),x.type==="template"?(k(),C(y,{key:1,modelValue:I(o).app.config.panels[e.typeIdx].template,"onUpdate:modelValue":i[0]||(i[0]=n=>I(o).app.config.panels[e.typeIdx].template=n),items:V.value,label:l.$t("_app.settings.templates.title"),disabled:I(o).app.config.templates.length===0,density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","items","label","disabled"])):A("",!0),x.type==="text"?(k(),C(w,{key:2,modelValue:I(o).app.config[e.type][e.typeIdx][x.prop],"onUpdate:modelValue":n=>I(o).app.config[e.type][e.typeIdx][x.prop]=n,density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:x.def,label:x.prop,class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])):A("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},Xe={__name:"SettingsPropsMainItem",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(U){const e=U,o=W(),p=H(),v=H();function V(){o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].push(v.value):o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=[v.value],p.value.reset()}function _(l){o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].splice(l,1),o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].length===0&&delete o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]}return(l,i)=>{const b=f("v-text-field"),$=f("v-col"),y=f("v-btn"),w=f("v-row"),D=f("v-list-item"),d=f("v-form"),S=f("v-list");return k(),C(S,{class:"pa-0"},{default:a(()=>[I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?(k(),C(D,{key:0,class:"pa-0"},{default:a(()=>[(k(!0),B(R,null,J(I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],(E,x)=>(k(),C(w,{key:x,"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,null,{default:a(()=>[t(b,{density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"Definition "+(x+1),modelValue:I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][x],"onUpdate:modelValue":n=>I(o).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][x]=n},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),t(y,{variant:"plain",icon:"mdi-delete",onClick:n=>_(x)},null,8,["onClick"])]),_:2},1024))),128))]),_:1})):A("",!0),t(D,{class:"pa-0"},{default:a(()=>[t(d,{ref_key:"form",ref:p},{default:a(()=>[t(w,{"no-gutters":"",class:"pt-3 align-center"},{default:a(()=>[t($,{cols:"10"},{default:a(()=>[t(b,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=E=>v.value=E),density:"compact",variant:"outlined","persistent-placeholder":"","hide-details":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":i[1]||(i[1]=E=>I(o).help(U.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),t(y,{variant:"plain",icon:"mdi-plus",disabled:!v.value,onClick:i[2]||(i[2]=E=>V())},null,8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1})}}};const et={__name:"SettingsPropsMainJson",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(U){const e=U,o=W(),p=H(null),v=H(null);function V(l){return de.highlight(l,de.languages.js)}function _(){let l=o.stringToJson(p.value,!0);v.value=l.error,v.value||(o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=l.result)}return p.value=JSON.stringify(o.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],null,"	"),(l,i)=>{const b=f("v-alert"),$=f("v-card");return k(),C($,{variant:v.value?"tonal":"outlined",color:v.value?"error":"",class:"pa-1 mt-2"},{default:a(()=>[t(I(Ee),{modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=y=>p.value=y),highlight:V,"line-numbers":"",onInput:_},null,8,["modelValue"]),v.value?(k(),C(b,{key:0,color:"error",density:"compact"},{default:a(()=>[Y(G(v.value),1)]),_:1})):A("",!0)]),_:1},8,["variant","color"])}}},tt={__name:"SettingsPropsMain",props:{type:String,typeIdx:Number,section:String},setup(U){const e=U,o=[{name:"level",cols:12,color:"orange"},{name:"left1",color:"orange"},{name:"left2",color:"orange"},{name:"mid",color:"orange"},{name:"right1",color:"orange"},{name:"right2",color:"orange"}],p=[{title:"none",value:null},{title:"button",value:"btn"},{title:"info",value:"info"},{title:"slider",value:"slider"},{title:"image",value:"image"},{title:"menu",value:"menu"},{title:"chart",value:"chart"},{title:"colorpicker",value:"colorpicker"}],v={level:[{type:"defs",required:!1,prop:"show",def:"reading:value:show",help:"main-element-show"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"main-element-divider"},{type:"defs",required:!1,prop:"height",def:"reading:value:height",help:"main-element-height"},{type:"types",required:!1,prop:"left1",help:"main-element-typ"},{type:"types",required:!1,prop:"left2",help:"main-element-typ"},{type:"types",required:!1,prop:"mid",help:"main-element-typ"},{type:"types",required:!1,prop:"right1",help:"main-element-typ"},{type:"types",required:!1,prop:"right2",help:"main-element-typ"}],btn:[{type:"defs",required:!1,prop:"btn",def:"reading:value:icon:disabled:color:variant",help:"level-element-button-btn"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse",help:"level-element-button-status"},{type:"defs",required:!1,prop:"click",def:"reading:value:cmd:type",help:"level-element-button-click"},{type:"defs",required:!1,prop:"longClick",def:"reading:value:cmd:type",help:"level-element-button-longClick"},{type:"defs",required:!1,prop:"longRelease",def:"reading:value:cmd:type",help:"level-element-button-longRelease"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],slider:[{type:"defs",required:!1,prop:"slider",def:"reading:value:cmd:current:color:min:max:steps:reverse:size:vertical",help:"level-element-slider-slider"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],image:[{type:"defs",required:!1,prop:"image",def:"reading:value:source:height",help:"level-element-image-image"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],menu:[{type:"defs",required:!1,prop:"menu",def:"reading:value:name:cmd",help:"level-element-menu-menu"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],info:[{type:"defs",required:!1,prop:"text",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"icon",def:"reading:value:icon:color:size",help:"level-element-info-icon"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse:linear",help:"level-element-info-status"},{type:"defs",required:!1,prop:"text2",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"text3",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],chart:[{type:"defs",required:!1,prop:"serie",def:"reading:value:data:name:digits:suffix:type",help:"level-element-chart-serie"},{type:"json",required:!1,prop:"options",def:"",help:"level-element-chart-options"},{type:"json",required:!1,prop:"options2",def:"",help:"level-element-chart-options"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],colorpicker:[{type:"defs",required:!1,prop:"picker",def:"reading:value:cmd:current",help:"level-element-colorpicker-picker"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}]},V=W(),_=H(0);function l(x){return!V.app.config[e.type][e.typeIdx][e.section][$.value-1].level[x]&&x!=="level"}const i=T(()=>V.app.config[e.type][e.typeIdx][e.section][$.value-1].level[o[_.value].name]),b=T(()=>{if(_.value!==0){let x=i.value;if(x)return v[x]}return v[o[_.value].name]}),$=H(1),y=T(()=>V.app.config[e.type][e.typeIdx][e.section]?V.app.config[e.type][e.typeIdx][e.section].length:1);function w(x,n){x?(V.app.config[e.type][e.typeIdx][e.section][$.value-1][n]={},x==="chart"&&(V.app.config[e.type][e.typeIdx][e.section][$.value-1][n].options={})):delete V.app.config[e.type][e.typeIdx][e.section][$.value-1][n]}function D(){V.app.config[e.type][e.typeIdx][e.section].push({level:{}}),$.value=y.value}function d(){V.app.config[e.type][e.typeIdx][e.section].splice($.value-1,1),$.value=y.value}function S(x){let n={icon:"mdi-alert-circle",color:"error"};if(l(x))return{icon:"",color:""};if(V.app.config[e.type][e.typeIdx][e.section][$.value-1][x])for(const r of Object.keys(V.app.config[e.type][e.typeIdx][e.section][$.value-1][x]))V.app.config[e.type][e.typeIdx][e.section][$.value-1][x][r]&&(n.icon="mdi-check",n.color="green-darken-1");return n}function E(x){let n={icon:x.required?"mdi-alert-circle":"mdi-chevron-down",color:x.required?"error":null},r=[e.type,e.typeIdx,e.section,$.value-1,o[_.value].name,x.prop],c=[];return c=V.getEl(V.app.config,r),c&&Object.keys(c).length>0&&(n={icon:"mdi-check",color:"success"}),n}return(x,n)=>{const r=f("v-icon"),c=f("v-card"),h=f("v-item"),g=f("v-col"),u=f("v-row"),s=f("v-item-group"),m=f("v-list-item"),F=f("v-expansion-panel-title"),P=f("v-autocomplete"),q=f("v-expansion-panel-text"),K=f("v-expansion-panel"),te=f("v-expansion-panels"),le=f("v-pagination"),X=f("v-btn");return k(),B(R,null,[t(m,null,{default:a(()=>[t(s,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=j=>_.value=j),mandatory:""},{default:a(()=>[t(u,{class:"text-center","no-gutters":""},{default:a(()=>[(k(),B(R,null,J(o,j=>Ae(t(g,{key:j.name,cols:j.cols},{default:a(()=>[t(h,null,{default:a(({isSelected:N,toggle:M})=>[t(c,{color:N?j.color:j.color+"-lighten-5",subtitle:x.$t("_app.settings.props."+j.name),class:"ma-1 pa-0",variant:"flat",onClick:M},{prepend:a(()=>[t(r)]),append:a(()=>[t(r,{icon:S(j.name).icon,color:S(j.name).color},null,8,["icon","color"])]),_:2},1032,["color","subtitle","onClick"])]),_:2},1024)]),_:2},1032,["cols"]),[[De,!l(j.name)]])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(m,null,{default:a(()=>[t(te,null,{default:a(()=>[(k(!0),B(R,null,J(b.value,j=>(k(),C(K,{key:j.prop},{default:a(()=>[t(F,null,{actions:a(({expanded:N})=>[t(r,{color:N?"":E(j).color,icon:N?"mdi-chevron-up":E(j).icon},null,8,["color","icon"])]),default:a(()=>[Y(G(i.value?i.value+"-":"")+G(j.prop)+" ",1)]),_:2},1024),t(q,null,{default:a(()=>[j.type==="types"?(k(),C(P,{key:0,modelValue:I(V).app.config[e.type][e.typeIdx][e.section][$.value-1].level[j.prop],"onUpdate:modelValue":[N=>I(V).app.config[e.type][e.typeIdx][e.section][$.value-1].level[j.prop]=N,N=>w(N,j.prop)],items:p,label:x.$t("_app.settings.props.type"),density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","label"])):A("",!0),j.type==="json"?(k(),C(et,{key:1,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:$.value-1,mainSection:o[_.value].name,prop:j.prop,propDef:j.def,propHelp:j.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):A("",!0),j.type==="defs"?(k(),C(Xe,{key:2,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:$.value-1,mainSection:o[_.value].name,prop:j.prop,propDef:j.def,propHelp:j.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):A("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(m,null,{default:a(()=>[t(u,{"no-gutters":""},{default:a(()=>[t(g,null,{default:a(()=>[t(le,{modelValue:$.value,"onUpdate:modelValue":n[1]||(n[1]=j=>$.value=j),length:y.value,"total-visible":"5",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),t(g,{cols:"2",class:"text-right"},{default:a(()=>[t(X,{variant:"text",icon:"mdi-plus",onClick:n[2]||(n[2]=j=>D())}),t(X,{variant:"text",icon:"mdi-delete",disabled:y.value<2,onClick:n[3]||(n[3]=j=>d())},null,8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}},Ve={__name:"SettingsProps",props:{type:String},setup(U){const e=U,o=W(),p=Pe(),{mobile:v}=ce(),{toClipboard:V}=Oe(),_="_app.settings."+e.type+".",l=T(()=>{let u=[{key:"name",title:p.t(_+"title"),sortable:!0,align:"start"},{key:"actions",title:"",sortable:!1,align:"end"}];return v.value||(e.type==="panels"?u=[{key:"name",title:p.t(_+"title"),sortable:!0,align:"start"},{key:"devices",title:"Devices",sortable:!0,align:"start"},{key:"advanced",title:p.t(_+"extended"),sortable:!0},{key:"actions",title:"",sortable:!1,align:"end"}]:u=[{key:"name",title:p.t(_+"title"),sortable:!0,align:"start"},{key:"panels",title:p.t("_app.settings.panels.title",2),sortable:!0,align:"end"},{key:"actions",title:"",sortable:!1,align:"end"}]),u}),i=H(),b=T(()=>{let u=[],s=[],m="",F=null;for(const[P,q]of Object.entries(o.app.config[e.type]))q.dist||(s=[],e.type==="panels"?(Object.keys(q.status).length>0&&s.push("status"),(q.main.length>1||Object.keys(q.main[0].level).length>0)&&s.push("main"),Object.keys(q.info).length>0&&s.push("info"),q.panel.devices&&(m=q.panel.devices.join(", "))):F=o.app.config.panels.map(K=>K.template).filter(K=>K===q.name).length,u.push({idx:parseFloat(P),name:q.name,advanced:s.length>0?s.join(", "):"-",panels:F||"-",devices:m}));return u.sort((P,q)=>P.name.toUpperCase()>q.name.toUpperCase()?1:q.name.toUpperCase()>P.name.toUpperCase()?-1:0),u}),$=T(()=>!(d.value.newItem&&b.value.map(u=>u.name).indexOf(d.value.newItem)===-1)),y=T(()=>{let u=[];for(const s of o.app.config.panels)s.template===i.value.name&&u.push(s.name);return u.sort((s,m)=>s.toUpperCase()>m.toUpperCase()?1:m.toUpperCase()>s.toUpperCase()?-1:0),S(u[0]),u}),w=T(()=>{let u=[{value:"panel"},{value:"status"},{value:"main"},{value:"info"}];for(const s of u)s.title=p.t("_app.settings.props."+s.value);return u}),D=T(()=>window.innerHeight-350+"px"),d=H({search:"",newItem:"",itemIdx:null,extended:e.type!=="panels",rawMode:!1,section:"panel",panel:null,preview:"panel",jsonDef:null,jsonError:null});function S(u){d.value.panel=u}function E(){let u=o.app.panelList.map(s=>s.name).indexOf(e.type==="templates"?d.value.panel:i.value.name);return u!==-1?o.app.panelList[u]:null}function x(){let u={name:d.value.newItem,template:null,panel:{},status:{},main:[{level:{}}],info:{}},s={name:d.value.newItem,author:null,date:null,panel:{},status:{},main:[{level:{}}],info:{}};o.app.config[e.type].push(e.type==="panels"?u:s),d.value.newItem=""}function n(u){i.value=o.app.config[e.type][u],d.value.itemIdx=u,d.value.extended=b.value[b.value.map(s=>s.idx).indexOf(u)].advanced!=="-",typeof i.value=="object"&&(d.value.jsonDef=JSON.stringify(i.value,null,"	"),d.value.jsonError=null)}function r(u){o.app.config[e.type].splice(u,1)}function c(u){return de.highlight(u,de.languages.js)}function h(){let u=o.stringToJson(d.value.jsonDef,!0);d.value.jsonError=u.error,d.value.jsonError||(o.app.config[e.type][d.value.itemIdx]=u.result)}function g(){V(d.value.jsonDef)}return(u,s)=>{const m=f("v-btn"),F=f("v-list-item"),P=f("v-text-field"),q=f("v-col"),K=f("v-row"),te=f("v-data-table"),le=f("v-autocomplete"),X=f("v-switch"),j=f("v-snackbar"),N=f("v-alert"),M=f("v-card"),Z=f("v-divider"),ne=f("v-list");return k(),C(ne,null,{default:a(()=>[t(F,{title:u.$t(_+"title",i.value?1:2)+(i.value?" ("+i.value.name+")":"")},{append:a(()=>[t(m,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:s[0]||(s[0]=z=>I(o).help(e.type==="panels"?"panels":"vorlagen"))})]),_:1},8,["title"]),i.value?A("",!0):(k(),C(F,{key:0},{default:a(()=>[t(K,{"no-gutters":""},{default:a(()=>[t(q,null,{default:a(()=>[t(P,{modelValue:d.value.search,"onUpdate:modelValue":s[1]||(s[1]=z=>d.value.search=z),label:u.$t(_+"search"),"prepend-inner-icon":"mdi-magnify","single-line":"",clearable:"",density:"compact",variant:"outlined"},null,8,["modelValue","label"])]),_:1}),t(q,{class:"mx-2"},{default:a(()=>[t(P,{modelValue:d.value.newItem,"onUpdate:modelValue":s[3]||(s[3]=z=>d.value.newItem=z),label:u.$t(_+"new"),"single-line":"",clearable:"",density:"compact",variant:"outlined"},{append:a(()=>[t(m,{variant:"text",icon:"mdi-plus",disabled:$.value,density:"compact",onClick:s[2]||(s[2]=z=>x())},null,8,["disabled"])]),_:1},8,["modelValue","label"])]),_:1})]),_:1})]),_:1})),i.value?A("",!0):(k(),C(F,{key:1},{default:a(()=>[t(te,{headers:l.value,items:b.value,search:d.value.search,density:"compact"},{"item.actions":a(({item:z})=>[t(m,{icon:"mdi-pencil",variant:"plain",density:"compact",class:"mr-3",onClick:me=>n(z.idx)},null,8,["onClick"]),t(m,{icon:"mdi-delete",variant:"plain",density:"compact",onClick:me=>r(z.idx)},null,8,["onClick"])]),_:1},8,["headers","items","search"])]),_:1})),i.value?(k(),C(F,{key:2},{default:a(()=>[t(K,null,{default:a(()=>[t(q,null,{default:a(()=>[t(K,{class:"align-center"},{default:a(()=>[t(m,{variant:"plain",icon:"mdi-arrow-up-left",onClick:s[4]||(s[4]=z=>i.value=null)}),t(q,{cols:"10",md:""},{default:a(()=>[d.value.rawMode?A("",!0):(k(),C(le,{key:0,modelValue:d.value.section,"onUpdate:modelValue":s[5]||(s[5]=z=>d.value.section=z),items:w.value,disabled:!(d.value.extended||e.type==="templates"),density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","items","disabled"]))]),_:1}),e.type==="panels"?(k(),C(q,{key:0,cols:"6",md:"auto",class:"pl-5"},{default:a(()=>[t(X,{modelValue:d.value.extended,"onUpdate:modelValue":[s[6]||(s[6]=z=>d.value.extended=z),s[7]||(s[7]=z=>z?null:d.value.section="panel")],label:u.$t("_app.settings.panels.extended"),color:"blue","hide-details":""},null,8,["modelValue","label"])]),_:1})):A("",!0),d.value.rawMode?(k(),C(j,{key:1,timeout:2e3,rounded:"pill"},{activator:a(({props:z})=>[t(m,Se(z,{variant:"text",icon:"mdi-clipboard-multiple-outline",size:"small",onClick:g}),null,16)]),default:a(()=>[Y(" "+G(u.$t("_app.messages.clipboard.text")),1)]),_:1})):A("",!0),t(q,{cols:"6",md:"auto",class:"pl-5"},{default:a(()=>[t(X,{modelValue:d.value.rawMode,"onUpdate:modelValue":s[8]||(s[8]=z=>d.value.rawMode=z),label:u.$t("_app.settings.panels.rawMode"),color:"blue","hide-details":""},null,8,["modelValue","label"])]),_:1})]),_:1}),d.value.rawMode?A("",!0):(k(),C(K,{key:0,"no-gutters":""},{default:a(()=>[t(q,null,{default:a(()=>[d.value.section!=="main"?(k(),C(Qe,{key:0,type:U.type,typeIdx:d.value.itemIdx,section:d.value.section,extended:d.value.extended},null,8,["type","typeIdx","section","extended"])):A("",!0),d.value.section==="main"?(k(),C(tt,{key:1,type:U.type,typeIdx:d.value.itemIdx,section:d.value.section},null,8,["type","typeIdx","section"])):A("",!0)]),_:1})]),_:1})),d.value.rawMode?(k(),C(K,{key:1,"no-gutters":""},{default:a(()=>[t(q,null,{default:a(()=>[t(M,{variant:d.value.jsonError?"tonal":"outlined",color:d.value.jsonError?"error":"",class:"pa-1 mt-2",height:D.value},{default:a(()=>[t(I(Ee),{modelValue:d.value.jsonDef,"onUpdate:modelValue":s[9]||(s[9]=z=>d.value.jsonDef=z),highlight:c,"line-numbers":"",onInput:h},null,8,["modelValue"]),d.value.jsonError?(k(),C(N,{key:0,color:"error",density:"compact"},{default:a(()=>[Y(G(d.value.jsonError),1)]),_:1})):A("",!0)]),_:1},8,["variant","color","height"])]),_:1})]),_:1})):A("",!0)]),_:1}),t(Z,{vertical:!I(v)},null,8,["vertical"]),t(q,{cols:"12",lg:"4"},{default:a(()=>[t(K,{class:"align-center pt-2"},{default:a(()=>[t(q,null,{default:a(()=>[t(le,{modelValue:d.value.panel,"onUpdate:modelValue":s[10]||(s[10]=z=>d.value.panel=z),items:y.value,label:u.$t("_app.settings.panels.preview"),disabled:e.type!=="templates",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),t(m,{class:"mr-3",variant:"plain",icon:d.value.preview==="panel"?"mdi-code-json":"mdi-view-day",onClick:s[11]||(s[11]=z=>d.value.preview=d.value.preview==="panel"?"json":"panel")},null,8,["icon"]),d.value.preview==="panel"&&I(o).app.isReady&&E()?(k(),C(q,{key:0,cols:"12",class:"pt-0"},{default:a(()=>[t(Le,{panel:E()},null,8,["panel"])]),_:1})):A("",!0),d.value.preview==="json"?(k(),C(q,{key:1,cols:"12"},{default:a(()=>[t(I(Ne),{data:E(),deep:1,showLine:!1},null,8,["data"])]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})}}},Ce="_app.settings.colors.",lt={__name:"SettingsColors",setup(U){const{mobile:e}=ce(),o=W(),p=H(),v=T(()=>Object.keys(o.app.config.colors)),V=T(()=>{let i=[];for(const b of v.value)for(const $ of Object.keys(o.app.config.colors[b]))i.indexOf($)===-1&&i.push($);return i});function _(){o.app.config.colors.dark||(o.app.config.colors.dark={}),o.app.config.colors.light||(o.app.config.colors.light={}),o.app.config.colors.dark[p.value]="#E0E0E0",o.app.config.colors.light[p.value]="#E0E0E0",p.value=null}function l(i){for(const b of v.value)delete o.app.config.colors[b][i]}return(i,b)=>{const $=f("v-btn"),y=f("v-list-item"),w=f("v-color-picker"),D=f("v-spacer"),d=f("v-card-actions"),S=f("v-card"),E=f("v-dialog"),x=f("v-col"),n=f("v-divider"),r=f("v-row"),c=f("v-text-field"),h=f("v-list");return k(),C(h,null,{default:a(()=>[t(y,{title:i.$t(Ce+"title",2)},{append:a(()=>[t($,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:b[0]||(b[0]=g=>I(o).help("farben"))})]),_:1},8,["title"]),t(y,null,{default:a(()=>[t(r,{"no-gutters":"",class:"text-right"},{default:a(()=>[t(x,null,{default:a(()=>[(k(!0),B(R,null,J(V.value,g=>(k(),C(r,{key:g,"no-gutters":"",class:"pt-3"},{default:a(()=>[(k(!0),B(R,null,J(v.value,u=>(k(),C(x,{key:u,cols:"12",lg:"",class:"pa-2"},{default:a(()=>[t(E,{width:"350"},{activator:a(({props:s})=>[t($,Se({text:g+" ["+u+"] "+(I(o).app.config.colors[u][g]||""),color:I(o).app.config.colors[u][g],modelValue:I(o).app.config.colors[u][g],"onUpdate:modelValue":m=>I(o).app.config.colors[u][g]=m,size:"large",width:"350"},s),null,16,["text","color","modelValue","onUpdate:modelValue"])]),default:a(({isActive:s})=>[t(S,null,{default:a(()=>[t(w,{modelValue:I(o).app.config.colors[u][g],"onUpdate:modelValue":m=>I(o).app.config.colors[u][g]=m,"show-swatches":"",mode:"hexa",width:"350",elevation:"0","swatches-max-height":"400px"},null,8,["modelValue","onUpdate:modelValue"]),t(d,null,{default:a(()=>[t(D),t($,{onClick:m=>s.value=!1},{default:a(()=>[Y("ok")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t(x,{cols:"12",lg:"1",class:"pt-1"},{default:a(()=>[t($,{variant:"text",icon:"mdi-delete",onClick:u=>l(g)},null,8,["onClick"])]),_:2},1024),I(e)?(k(),C(n,{key:0})):A("",!0)]),_:2},1024))),128))]),_:1}),I(e)?A("",!0):(k(),C(n,{key:0,vertical:"",class:"mx-5"})),t(x,{cols:"12",lg:"3"},{default:a(()=>[t(r,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(x,{class:"pt-2"},{default:a(()=>[t(c,{density:"compact",variant:"outlined",clearable:"",label:i.$t(Ce+"newKey"),modelValue:p.value,"onUpdate:modelValue":b[1]||(b[1]=g=>p.value=g)},null,8,["label","modelValue"])]),_:1}),t(x,{cols:"3",class:"pt-1"},{default:a(()=>[t($,{variant:"text",icon:"mdi-plus",onClick:b[2]||(b[2]=g=>_())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ue="_app.settings.content.",nt={__name:"SettingsContent",setup(U){const{mobile:e}=ce(),o=W(),p=H(),v=H(),V=H(!1),_=H(!1),l=T(()=>Object.keys(o.app.config.content)),i=T(()=>{let d=[];for(const S of l.value)for(const E of Object.keys(o.app.config.content[S]))d.indexOf(E)===-1&&d.push(E);return d}),b={iso639code:d=>/^[a-z]{2}$/.test(d)||o.replacer("%t(_app.settings.rules.iso639code)")};function $(){o.app.config.content[l.value[0]][p.value]="",p.value=null}function y(){o.app.config.content[v.value]={},v.value=null,V.value=!1}function w(){delete o.app.config.content[v.value],v.value=null}function D(d){for(const S of l.value)delete o.app.config.content[S][d]}return(d,S)=>{const E=f("v-btn"),x=f("v-list-item"),n=f("v-text-field"),r=f("v-col"),c=f("v-divider"),h=f("v-row"),g=f("v-autocomplete"),u=f("v-form"),s=f("v-list");return k(),C(s,null,{default:a(()=>[t(x,{title:d.$t(ue+"title",2)},{append:a(()=>[t(E,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:S[0]||(S[0]=m=>I(o).help("sprachen"))})]),_:1},8,["title"]),t(x,null,{default:a(()=>[t(h,{"no-gutters":"",class:"text-right"},{default:a(()=>[t(r,null,{default:a(()=>[(k(!0),B(R,null,J(i.value,m=>(k(),C(h,{key:m,"no-gutters":"",class:"pt-3"},{default:a(()=>[(k(!0),B(R,null,J(l.value,F=>(k(),C(r,{key:F,cols:"12",lg:"",class:"pa-2"},{default:a(()=>[t(n,{density:"compact",variant:"outlined","hide-details":"",clearable:"",label:m+" ["+F+"]",modelValue:I(o).app.config.content[F][m],"onUpdate:modelValue":P=>I(o).app.config.content[F][m]=P},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),t(r,{cols:"12",lg:"1",class:"pt-1"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-delete",onClick:F=>D(m)},null,8,["onClick"])]),_:2},1024),I(e)?(k(),C(c,{key:0})):A("",!0)]),_:2},1024))),128))]),_:1}),I(e)?A("",!0):(k(),C(c,{key:0,vertical:"",class:"mx-5"})),t(r,{cols:"12",lg:"3"},{default:a(()=>[t(h,{"no-gutters":"",class:"pt-3"},{default:a(()=>[t(r,{class:"pt-2"},{default:a(()=>[t(n,{density:"compact",variant:"outlined",clearable:"",disabled:l.value.length<1,label:d.$t(ue+"newKey"),modelValue:p.value,"onUpdate:modelValue":S[1]||(S[1]=m=>p.value=m)},null,8,["disabled","label","modelValue"])]),_:1}),t(r,{cols:"4",class:"pt-1"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-plus",disabled:l.value.length<1,onClick:S[2]||(S[2]=m=>$())},null,8,["disabled"])]),_:1})]),_:1}),t(u,{modelValue:_.value,"onUpdate:modelValue":S[10]||(S[10]=m=>_.value=m)},{default:a(()=>[t(h,{"no-gutters":""},{default:a(()=>[V.value?(k(),C(r,{key:0},{default:a(()=>[t(n,{density:"compact",variant:"outlined",clearable:"",label:d.$t(ue+"newLang"),rules:[b.iso639code],"append-inner-icon":"mdi-help-circle","onClick:appendInner":S[3]||(S[3]=m=>d.openHelp("Sprachcodes")),modelValue:v.value,"onUpdate:modelValue":S[4]||(S[4]=m=>v.value=m)},null,8,["label","rules","modelValue"])]),_:1})):A("",!0),V.value?(k(),C(r,{key:1,cols:"4"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-check",disabled:!_.value,onClick:S[5]||(S[5]=m=>y())},null,8,["disabled"]),t(E,{variant:"text",icon:"mdi-cancel",onClick:S[6]||(S[6]=m=>{V.value=!V.value,v.value=null})})]),_:1})):A("",!0),V.value?A("",!0):(k(),C(r,{key:2},{default:a(()=>[t(g,{modelValue:v.value,"onUpdate:modelValue":S[7]||(S[7]=m=>v.value=m),items:l.value,label:d.$t(ue+"title"),disabled:l.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})),V.value?A("",!0):(k(),C(r,{key:3,cols:"4"},{default:a(()=>[t(E,{variant:"text",icon:"mdi-plus",onClick:S[8]||(S[8]=m=>{V.value=!V.value,v.value=null})}),t(E,{variant:"text",icon:"mdi-delete",disabled:l.value.length===0||l.value.indexOf(v.value)===-1,onClick:S[9]||(S[9]=m=>w())},null,8,["disabled"])]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},rt={__name:"SettingsView",setup(U){const e=["header","panels","templates","navigation","colors","content"],o=H(e[0]),p=H(!1),v=W();je(v.app.config,_=>{_&&v.app.isReady&&(p.value=!0)});async function V(_){let l=null;if(_){for(const[i,b]of Object.entries(v.app.config.templates))b.dist&&v.app.config.templates.splice(i,1);l=encodeURIComponent(btoa(JSON.stringify(v.app.config))),await v.request("text","set "+v.app.fhemDevice+" config "+l)}await v.createSession(),p.value=!1}return ze(()=>{v.app.noConfig&&v.log(3,"Settings View - No Config handling",null,"noConfig")}),(_,l)=>{const i=f("v-toolbar-title"),b=f("v-btn"),$=f("v-toolbar"),y=f("v-tab"),w=f("v-tabs"),D=f("v-card");return k(),C(D,null,{default:a(()=>[t($,null,{append:a(()=>[p.value?(k(),C(b,{key:0,icon:"mdi-cancel",onClick:l[0]||(l[0]=d=>V(!1))})):A("",!0),t(b,{disabled:!p.value,icon:"mdi-content-save-outline",onClick:l[1]||(l[1]=d=>V(!0))},null,8,["disabled"])]),default:a(()=>[t(i,null,{default:a(()=>[Y(G(_.$t("_app.settings.title")),1)]),_:1})]),_:1}),t(w,{modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=d=>o.value=d)},{default:a(()=>[(k(),B(R,null,J(e,d=>t(y,{value:d,key:d},{default:a(()=>[Y(G(_.$t("_app.settings."+d+".title",2)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),o.value==="header"?(k(),C(Ke,{key:0})):A("",!0),o.value==="navigation"?(k(),C(He,{key:1})):A("",!0),o.value==="panels"?(k(),C(Ve,{key:2,type:o.value},null,8,["type"])):A("",!0),o.value==="templates"?(k(),C(Ve,{key:3,type:o.value},null,8,["type"])):A("",!0),o.value==="colors"?(k(),C(lt,{key:4})):A("",!0),o.value==="content"?(k(),C(nt,{key:5})):A("",!0)]),_:1})}}};export{rt as default};
