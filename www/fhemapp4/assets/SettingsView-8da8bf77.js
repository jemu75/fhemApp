import{u as B,f as O,g as ne,r as a,o as s,a as y,w as t,e as l,h as m,b as T,F as E,d as j,i as X,j as M,t as K,k as U,c as R,l as se,v as de,m as re,n as ue}from"./index-c03ab259.js";import{V as ce}from"./styles-bb296acf.js";import{_ as me}from"./PanelCard-6bf0314a.js";const D="_app.settings.header.",ve={__name:"SettingsHeader",setup(N){const e=B(),n={required:p=>!!p||e.replacer("%t(_app.settings.rules.required)")},v=O(),c=ne({name:"",title:"",icon:"",cmd:""});function x(){e.app.config.header.commands.push(JSON.parse(JSON.stringify(c))),v.value.reset()}function w(p){e.app.config.header.commands.splice(p,1)}return(p,o)=>{const d=a("v-btn"),$=a("v-list-item"),r=a("v-text-field"),g=a("v-col"),S=a("v-checkbox"),b=a("v-row"),h=a("v-divider"),u=a("v-form"),_=a("v-list");return s(),y(_,null,{default:t(()=>[l($,{title:p.$t(D+"barTitle")},{append:t(()=>[l(d,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:o[0]||(o[0]=i=>m(e).help("kopfzeile"))})]),_:1},8,["title"]),l($,null,{default:t(()=>[l(b,{"no-gutters":""},{default:t(()=>[l(g,{cols:"12",lg:"4",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"imageUrlPlaceholder"),label:p.$t(D+"imageUrl"),modelValue:m(e).app.config.header.imageUrl,"onUpdate:modelValue":o[1]||(o[1]=i=>m(e).app.config.header.imageUrl=i)},null,8,["placeholder","label","modelValue"])]),_:1}),l(g,{cols:"12",lg:"5",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"imageGradientPlaceholder"),label:p.$t(D+"imageGradient"),modelValue:m(e).app.config.header.imageGradient,"onUpdate:modelValue":o[2]||(o[2]=i=>m(e).app.config.header.imageGradient=i)},null,8,["placeholder","label","modelValue"])]),_:1}),l(g,{cols:"6",lg:"",class:"pt-1"},{default:t(()=>[l(S,{hint:p.$t(D+"showTimeHint"),label:p.$t(D+"showTime"),modelValue:m(e).app.config.header.showTime,"onUpdate:modelValue":o[3]||(o[3]=i=>m(e).app.config.header.showTime=i)},null,8,["hint","label","modelValue"])]),_:1}),l(g,{cols:"6",lg:"",class:"pt-1"},{default:t(()=>[l(S,{hint:p.$t(D+"showDateHint"),label:p.$t(D+"showDate"),modelValue:m(e).app.config.header.showDate,"onUpdate:modelValue":o[4]||(o[4]=i=>m(e).app.config.header.showDate=i)},null,8,["hint","label","modelValue"])]),_:1})]),_:1})]),_:1}),l(h),l($,{title:p.$t(D+"optionsTitle")},{append:t(()=>[l(d,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:o[5]||(o[5]=i=>m(e).help("optionsmenü"))})]),_:1},8,["title"]),l($,null,{default:t(()=>[l(b,{"no-gutters":""},{default:t(()=>[l(g,{cols:"6",lg:""},{default:t(()=>[l(S,{label:p.$t(D+"showDarkMode"),modelValue:m(e).app.config.header.showDarkMode,"onUpdate:modelValue":o[6]||(o[6]=i=>m(e).app.config.header.showDarkMode=i)},null,8,["label","modelValue"])]),_:1}),l(g,{cols:"6",lg:""},{default:t(()=>[l(S,{label:p.$t(D+"showReloadPage"),modelValue:m(e).app.config.header.showReloadPage,"onUpdate:modelValue":o[7]||(o[7]=i=>m(e).app.config.header.showReloadPage=i)},null,8,["label","modelValue"])]),_:1}),l(g,{cols:"6",lg:""},{default:t(()=>[l(S,{label:p.$t(D+"showSettings"),modelValue:m(e).app.config.header.showSettings,"onUpdate:modelValue":o[8]||(o[8]=i=>m(e).app.config.header.showSettings=i)},null,8,["label","modelValue"])]),_:1}),l(g,{cols:"6",lg:""},{default:t(()=>[l(S,{label:p.$t(D+"showLanguages"),modelValue:m(e).app.config.header.showLanguages,"onUpdate:modelValue":o[9]||(o[9]=i=>m(e).app.config.header.showLanguages=i)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),l(h),l($,{title:p.$t(D+"optionsCommandTitle")},{append:t(()=>[l(d,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:o[10]||(o[10]=i=>m(e).help("optionsmenü-fhem-befehle"))})]),_:1},8,["title"]),(s(!0),T(E,null,j(m(e).app.config.header.commands,(i,I)=>(s(),y($,{key:I},{default:t(()=>[l(b,{"no-gutters":""},{default:t(()=>[l(g,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandNamePlaceholder"),label:p.$t(D+"commandName"),rules:[n.required],modelValue:i.name,"onUpdate:modelValue":L=>i.name=L},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(g,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandTitlePlaceholder"),label:p.$t(D+"commandTitle"),rules:[n.required],modelValue:i.title,"onUpdate:modelValue":L=>i.title=L},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(g,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandIconPlaceholder"),label:p.$t(D+"commandIcon"),"append-inner-icon":i.icon,modelValue:i.icon,"onUpdate:modelValue":L=>i.icon=L},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),l(g,{cols:"10",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandCmdPlaceholder"),label:p.$t(D+"commandCmd"),rules:[n.required],modelValue:i.cmd,"onUpdate:modelValue":L=>i.cmd=L},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(g,{class:"pt-3 text-right"},{default:t(()=>[l(d,{variant:"text",icon:"mdi-delete",onClick:L=>w(I)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l($,null,{default:t(()=>[l(u,{ref_key:"form",ref:v},{default:t(()=>[l(b,{"no-gutters":""},{default:t(()=>[l(g,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandNamePlaceholder"),label:p.$t(D+"commandName"),rules:[n.required],modelValue:c.name,"onUpdate:modelValue":o[11]||(o[11]=i=>c.name=i)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(g,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandTitlePlaceholder"),label:p.$t(D+"commandTitle"),rules:[n.required],modelValue:c.title,"onUpdate:modelValue":o[12]||(o[12]=i=>c.title=i)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(g,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandIconPlaceholder"),label:p.$t(D+"commandIcon"),"append-inner-icon":c.icon,modelValue:c.icon,"onUpdate:modelValue":o[13]||(o[13]=i=>c.icon=i)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),l(g,{cols:"9",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(r,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:p.$t(D+"commandCmdPlaceholder"),label:p.$t(D+"commandCmd"),rules:[n.required],modelValue:c.cmd,"onUpdate:modelValue":o[14]||(o[14]=i=>c.cmd=i)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(g,{class:"pt-3 text-right"},{default:t(()=>[l(d,{variant:"text",icon:"mdi-cancel",onClick:o[15]||(o[15]=i=>v.value.reset())}),l(d,{variant:"text",icon:"mdi-plus",disabled:!c.name||!c.title||!c.cmd,onClick:o[16]||(o[16]=i=>x())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},H="_app.settings.navigation.",fe={__name:"SettingsNavigation",setup(N){const{mobile:e}=X(),n=B(),v=ne({path:[],route:["navigation"],items:[],newItem:{name:null,title:null,icon:null,divider:!1,groupAsChips:!1,sort:!1,group:[]}}),c=O(),x={required:r=>!!r||n.replacer("%t(_app.settings.rules.required)")};function w(r){typeof r<"u"&&(v.path.push(r,"group"),v.route.push(v.items[r].name)),v.items=n.getEl(n.app.config.navigation,v.path)}function p(){let r=JSON.parse(JSON.stringify(v.newItem));n.getEl(n.app.config.navigation,v.path).push(r),w(),c.value.reset()}function o(r){n.getEl(n.app.config.navigation,v.path).splice(r,1)}function d(r){return(n.getEl(v.items[r],["group"])||[]).length}function $(){v.route.pop(),v.path.splice(-2,2),w()}return w(),(r,g)=>{const S=a("v-btn"),b=a("v-list-item"),h=a("v-text-field"),u=a("v-col"),_=a("v-checkbox"),i=a("v-icon"),I=a("v-badge"),L=a("v-row"),A=a("v-divider"),k=a("v-form"),f=a("v-list");return s(),y(f,null,{default:t(()=>[l(b,{title:r.$t(H+"title")},{append:t(()=>[l(S,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:g[0]||(g[0]=V=>m(n).help("navigation"))})]),_:1},8,["title"]),v.path.length>0?(s(),y(b,{key:0},{default:t(()=>[l(S,{variant:"text",icon:"mdi-arrow-up-left",onClick:g[1]||(g[1]=V=>$())}),M(" "+K(v.route.join(" > ")),1)]),_:1})):U("",!0),(s(!0),T(E,null,j(v.items,(V,C)=>(s(),y(b,{key:C},{default:t(()=>[l(L,{"no-gutters":""},{default:t(()=>[l(u,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:r.$t(H+"namePlaceholder"),label:r.$t(H+"name"),rules:[x.required],modelValue:V.name,"onUpdate:modelValue":q=>V.name=q},null,8,["placeholder","label","rules","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:r.$t(H+"title1Placeholder"),label:r.$t(H+"title1"),modelValue:V.title,"onUpdate:modelValue":q=>V.title=q},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:r.$t(H+"iconPlaceholder"),label:r.$t(H+"icon"),"append-inner-icon":V.icon,modelValue:V.icon,"onUpdate:modelValue":q=>V.icon=q},null,8,["placeholder","label","append-inner-icon","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:4,lg:"",class:"pt-1"},{default:t(()=>[l(_,{hint:r.$t(H+"groupAsChipsHint"),label:r.$t(H+"groupAsChips"),modelValue:V.groupAsChips,"onUpdate:modelValue":q=>V.groupAsChips=q},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:4,lg:"",class:"pt-1"},{default:t(()=>[l(_,{hint:r.$t(H+"sortHint"),label:r.$t(H+"sort"),modelValue:V.sort,"onUpdate:modelValue":q=>V.sort=q},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(_,{hint:r.$t(H+"dividerHint"),label:r.$t(H+"divider"),modelValue:V.divider,"onUpdate:modelValue":q=>V.divider=q},null,8,["hint","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{class:"pt-3 text-right"},{default:t(()=>[l(S,{variant:"text",icon:"",onClick:q=>w(C)},{default:t(()=>[d(C)>0?(s(),y(I,{key:0,color:"success",content:d(C)},{default:t(()=>[l(i,{icon:"mdi-arrow-down-right"})]),_:2},1032,["content"])):U("",!0),d(C)===0?(s(),y(i,{key:1,icon:"mdi-arrow-down-right"})):U("",!0)]),_:2},1032,["onClick"]),l(S,{variant:"text",icon:"mdi-delete",onClick:q=>o(C)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),m(e)?(s(),y(A,{key:0})):U("",!0)]),_:2},1024))),128)),l(b,null,{default:t(()=>[l(k,{ref_key:"form",ref:c},{default:t(()=>[l(L,{"no-gutters":""},{default:t(()=>[l(u,{cols:"12",lg:"2",class:"pt-3 pr-3"},{default:t(()=>[l(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:r.$t(H+"namePlaceholder"),label:r.$t(H+"name"),rules:[x.required],modelValue:v.newItem.name,"onUpdate:modelValue":g[2]||(g[2]=V=>v.newItem.name=V)},null,8,["placeholder","label","rules","modelValue"])]),_:1}),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:r.$t(H+"title1Placeholder"),label:r.$t(H+"title1"),modelValue:v.newItem.title,"onUpdate:modelValue":g[3]||(g[3]=V=>v.newItem.title=V)},null,8,["placeholder","label","modelValue"])]),_:1}),l(u,{cols:"12",lg:"3",class:"pt-3 pr-3"},{default:t(()=>[l(h,{density:"compact",variant:"outlined",clearable:"","persistent-placeholder":"",placeholder:r.$t(H+"iconPlaceholder"),label:r.$t(H+"icon"),"append-inner-icon":v.newItem.icon,modelValue:v.newItem.icon,"onUpdate:modelValue":g[4]||(g[4]=V=>v.newItem.icon=V)},null,8,["placeholder","label","append-inner-icon","modelValue"])]),_:1}),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(_,{hint:r.$t(H+"groupAsChipsHint"),label:r.$t(H+"groupAsChips"),modelValue:v.newItem.groupAsChips,"onUpdate:modelValue":g[5]||(g[5]=V=>v.newItem.groupAsChips=V)},null,8,["hint","label","modelValue"])]),_:1}),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(_,{hint:r.$t(H+"sortHint"),label:r.$t(H+"sort"),modelValue:v.newItem.sort,"onUpdate:modelValue":g[6]||(g[6]=V=>v.newItem.sort=V)},null,8,["hint","label","modelValue"])]),_:1}),l(u,{cols:"4",lg:"",class:"pt-1"},{default:t(()=>[l(_,{hint:r.$t(H+"dividerHint"),label:r.$t(H+"divider"),modelValue:v.newItem.divider,"onUpdate:modelValue":g[7]||(g[7]=V=>v.newItem.divider=V)},null,8,["hint","label","modelValue"])]),_:1}),l(u,{class:"pt-3 text-right"},{default:t(()=>[l(S,{variant:"text",icon:"mdi-cancel",onClick:g[8]||(g[8]=V=>c.value.reset())}),l(S,{variant:"text",icon:"mdi-plus",disabled:!v.newItem.name,onClick:g[9]||(g[9]=V=>p())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},ge={__name:"SettingsPropsItem",props:{type:String,typeIdx:Number,section:String,prop:String,propDef:String,propHelp:String},setup(N){const e=N,n=B(),v=O(),c=O();function x(){n.app.config[e.type][e.typeIdx][e.section][e.prop]?n.app.config[e.type][e.typeIdx][e.section][e.prop].push(c.value):n.app.config[e.type][e.typeIdx][e.section][e.prop]=[c.value],v.value.reset()}function w(p){n.app.config[e.type][e.typeIdx][e.section][e.prop].splice(p,1),n.app.config[e.type][e.typeIdx][e.section][e.prop].length===0&&delete n.app.config[e.type][e.typeIdx][e.section][e.prop]}return(p,o)=>{const d=a("v-text-field"),$=a("v-col"),r=a("v-btn"),g=a("v-row"),S=a("v-list-item"),b=a("v-form"),h=a("v-list");return s(),y(h,null,{default:t(()=>[m(n).app.config[e.type][e.typeIdx][e.section][e.prop]?(s(),y(S,{key:0,class:"pa-0"},{default:t(()=>[(s(!0),T(E,null,j(m(n).app.config[e.type][e.typeIdx][e.section][e.prop],(u,_)=>(s(),y(g,{key:_,"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(d,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+(_+1),modelValue:m(n).app.config[e.type][e.typeIdx][e.section][e.prop][_],"onUpdate:modelValue":i=>m(n).app.config[e.type][e.typeIdx][e.section][e.prop][_]=i},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(r,{variant:"text",icon:"mdi-delete",onClick:i=>w(_)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):U("",!0),l(S,{class:"pa-0"},{default:t(()=>[l(b,{ref_key:"form",ref:v},{default:t(()=>[l(g,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(d,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=u=>c.value=u),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":o[1]||(o[1]=u=>m(n).help(N.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(r,{variant:"text",icon:"mdi-plus",disabled:!c.value,onClick:o[2]||(o[2]=u=>x())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},_e={__name:"SettingsPropsList",props:{type:String,typeIdx:Number,section:String,extended:Boolean},setup(N){const e=N,n=B(),v={panel:[{type:"defs",show:["panels","extended.panels"],required:!0,prop:"devices",def:"key:fhem_device",help:"element-devices"},{type:"template",show:["panels","extended.panels"],required:!1,prop:"template",help:"element-template"},{type:"text",show:["templates"],required:!1,prop:"author",def:"text"},{type:"text",show:["templates"],required:!1,prop:"date",def:"text"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"navigation",def:"reading:value:route",help:"element-navigation"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"expandable",def:"reading:value:expandable:expanded:maximizable",help:"element-expandable"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"sortby",def:"reading:value:sortkey",help:"element-sortkey"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"show",def:"reading:value:show",help:"element-show"},{type:"defs",show:["extended.panels","templates"],required:!1,prop:"iconmap",def:"search:icon",help:"element-iconmap"}],status:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"bar2",def:"reading:value:level:color:min:max:reverse",help:"element-bar"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"imageUrl",def:"reading:value:url",help:"element-imageurl"},{type:"defs",show:["panels","extended.panels","templates"],required:!0,prop:"title",def:"reading:value:title",help:"element-title"}],info:[{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"left2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"mid2",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right1",def:"reading:value:text:icon:color",help:"element-info"},{type:"defs",show:["panels","extended.panels","templates"],required:!1,prop:"right2",def:"reading:value:text:icon:color",help:"element-info"}]},c=R(()=>{let p=[],o=e.type==="panels"?e.extended?"extended.panels":"panels":"templates";for(const d of v[e.section])d.show.indexOf(o)!==-1&&p.push(d);return p}),x=R(()=>{let p=[];for(const o of n.app.config.templates)o.dist||p.push({title:o.name,value:o.name});p.sort((o,d)=>o.title>d.title?1:d.title>o.title?-1:0);for(const o of n.app.distTemplates)p.push({title:o+" ("+n.replacer("%t(_app.default)","")+")",value:o});return p});function w(p){let o={icon:p.required?"mdi-alert-circle":"mdi-chevron-down",color:p.required?"error":null},d=[e.type,e.typeIdx],$=[];return e.section==="panel"&&["template","date","author"].indexOf(p.prop)!==-1?d.push(p.prop):d.push(e.section,p.prop),$=n.getEl(n.app.config,d),$&&$.length>0&&(o={icon:"mdi-check",color:"success"}),o}return(p,o)=>{const d=a("v-btn"),$=a("v-list-item"),r=a("v-icon"),g=a("v-expansion-panel-title"),S=a("v-autocomplete"),b=a("v-text-field"),h=a("v-expansion-panel-text"),u=a("v-expansion-panel"),_=a("v-expansion-panels");return s(),T(E,null,[l($,{title:p.$t("_app.settings.title")+" "+p.$t("_app.settings.props."+N.section)+" ("+p.$t("_app.settings."+N.type+".title")+": "+m(n).app.config[N.type][N.typeIdx].name+")"},{append:t(()=>[l(d,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:o[0]||(o[0]=i=>m(n).help(N.section==="panel"?"panel-allgemein":N.section==="status"?"bereich-status":"bereich-info"))})]),_:1},8,["title"]),l($,null,{default:t(()=>[l(_,null,{default:t(()=>[(s(!0),T(E,null,j(c.value,i=>(s(),y(u,{key:i.prop},{default:t(()=>[l(g,null,{actions:t(({expanded:I})=>[l(r,{color:I?"":w(i).color,icon:I?"mdi-chevron-up":w(i).icon},null,8,["color","icon"])]),default:t(()=>[M(K(i.prop)+" ",1)]),_:2},1024),l(h,null,{default:t(()=>[i.type==="defs"?(s(),y(ge,{key:0,type:e.type,typeIdx:e.typeIdx,section:e.section,prop:i.prop,propDef:i.def,propHelp:i.help},null,8,["type","typeIdx","section","prop","propDef","propHelp"])):U("",!0),i.type==="template"?(s(),y(S,{key:1,modelValue:m(n).app.config.panels[e.typeIdx].template,"onUpdate:modelValue":o[1]||(o[1]=I=>m(n).app.config.panels[e.typeIdx].template=I),items:x.value,label:p.$t("_app.settings.templates.title"),disabled:m(n).app.config.templates.length===0,density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","items","label","disabled"])):U("",!0),i.type==="text"?(s(),y(b,{key:2,modelValue:m(n).app.config[e.type][e.typeIdx][i.prop],"onUpdate:modelValue":I=>m(n).app.config[e.type][e.typeIdx][i.prop]=I,density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:i.def,label:i.prop,class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","placeholder","label"])):U("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],64)}}},ye={__name:"SettingsPropsMainItem",props:{type:String,typeIdx:Number,section:String,mainIdx:Number,mainSection:String,prop:String,propDef:String,propHelp:String},setup(N){const e=N,n=B(),v=O(),c=O();function x(){n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].push(c.value):n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]=[c.value],v.value.reset()}function w(p){n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].splice(p,1),n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop].length===0&&delete n.app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]}return(p,o)=>{const d=a("v-text-field"),$=a("v-col"),r=a("v-btn"),g=a("v-row"),S=a("v-list-item"),b=a("v-form"),h=a("v-list");return s(),y(h,null,{default:t(()=>[m(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop]?(s(),y(S,{key:0,class:"pa-0"},{default:t(()=>[(s(!0),T(E,null,j(m(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop],(u,_)=>(s(),y(g,{key:_,"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(d,{density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"Definition "+(_+1),modelValue:m(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][_],"onUpdate:modelValue":i=>m(n).app.config[e.type][e.typeIdx][e.section][e.mainIdx][e.mainSection][e.prop][_]=i},null,8,["placeholder","label","modelValue","onUpdate:modelValue"])]),_:2},1024),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(r,{variant:"text",icon:"mdi-delete",onClick:i=>w(_)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):U("",!0),l(S,{class:"pa-0"},{default:t(()=>[l(b,{ref_key:"form",ref:v},{default:t(()=>[l(g,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l($,null,{default:t(()=>[l(d,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=u=>c.value=u),density:"compact",variant:"outlined","persistent-placeholder":"",placeholder:e.propDef,label:"new Definition","append-inner-icon":e.propHelp?"mdi-help-circle":"",clearable:"","onClick:appendInner":o[1]||(o[1]=u=>m(n).help(N.propHelp))},null,8,["modelValue","placeholder","append-inner-icon"])]),_:1}),l($,{cols:"1",class:"text-right"},{default:t(()=>[l(r,{variant:"text",icon:"mdi-plus",disabled:!c.value,onClick:o[2]||(o[2]=u=>x())},null,8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},he={__name:"SettingsPropsMain",props:{type:String,typeIdx:Number,section:String},setup(N){const e=N,n=[{name:"level",cols:12,color:"orange"},{name:"left1",color:"orange"},{name:"left2",color:"orange"},{name:"mid",color:"orange"},{name:"right1",color:"orange"},{name:"right2",color:"orange"}],v=[{title:"none",value:null},{title:"button",value:"btn"},{title:"info",value:"info"},{title:"slider",value:"slider"},{title:"image",value:"image"},{title:"menu",value:"menu"}],c={level:[{type:"defs",required:!1,prop:"show",def:"reading:value:show",help:"main-element-show"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"main-element-divider"},{type:"defs",required:!1,prop:"height",def:"reading:value:height",help:"main-element-height"},{type:"types",required:!1,prop:"left1",help:"main-element-typ"},{type:"types",required:!1,prop:"left2",help:"main-element-typ"},{type:"types",required:!1,prop:"mid",help:"main-element-typ"},{type:"types",required:!1,prop:"right1",help:"main-element-typ"},{type:"types",required:!1,prop:"right2",help:"main-element-typ"}],btn:[{type:"defs",required:!1,prop:"btn",def:"reading:value:icon:disabled:color:variant",help:"level-element-button-btn"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse",help:"level-element-button-status"},{type:"defs",required:!1,prop:"click",def:"reading:value:cmd:type",help:"level-element-button-click"},{type:"defs",required:!1,prop:"longClick",def:"reading:value:cmd:type",help:"level-element-button-longClick"},{type:"defs",required:!1,prop:"longRelease",def:"reading:value:cmd:type",help:"level-element-button-longRelease"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],slider:[{type:"defs",required:!1,prop:"slider",def:"reading:value:cmd:current:color:min:max:steps:reverse:size:vertical",help:"level-element-slider-slider"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],image:[{type:"defs",required:!1,prop:"image",def:"reading:value:source:height",help:"level-element-image-image"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],menu:[{type:"defs",required:!1,prop:"menu",def:"reading:value:name:cmd",help:"level-element-menu-menu"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}],info:[{type:"defs",required:!1,prop:"text",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"icon",def:"reading:value:icon:color:size",help:"level-element-info-icon"},{type:"defs",required:!1,prop:"status",def:"reading:value:level:color:min:max:reverse:linear",help:"level-element-info-status"},{type:"defs",required:!1,prop:"text2",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"text3",def:"reading:value:text:format",help:"level-element-info-text"},{type:"defs",required:!1,prop:"divider",def:"reading:value:divider",help:"level-element-divider"},{type:"defs",required:!1,prop:"size",def:"reading:value:size",help:"level-element-size"}]},x=B(),w=O(0);function p(u){return!x.app.config[e.type][e.typeIdx][e.section][d.value-1].level[u]&&u!=="level"}const o=R(()=>{if(w.value!==0){let u=x.app.config[e.type][e.typeIdx][e.section][d.value-1].level[n[w.value].name];if(u)return c[u]}return c[n[w.value].name]}),d=O(1),$=R(()=>x.app.config[e.type][e.typeIdx][e.section]?x.app.config[e.type][e.typeIdx][e.section].length:1);function r(u,_){u?x.app.config[e.type][e.typeIdx][e.section][d.value-1][_]={}:delete x.app.config[e.type][e.typeIdx][e.section][d.value-1][_]}function g(){x.app.config[e.type][e.typeIdx][e.section].push({level:{}}),d.value=$.value}function S(){x.app.config[e.type][e.typeIdx][e.section].splice(d.value-1,1),d.value=$.value}function b(u){let _={icon:"mdi-alert-circle",color:"error"};if(p(u))return{icon:"",color:""};if(x.app.config[e.type][e.typeIdx][e.section][d.value-1][u])for(const i of Object.keys(x.app.config[e.type][e.typeIdx][e.section][d.value-1][u]))x.app.config[e.type][e.typeIdx][e.section][d.value-1][u][i]&&(_.icon="mdi-check",_.color="green-darken-1");return _}function h(u){let _={icon:u.required?"mdi-alert-circle":"mdi-chevron-down",color:u.required?"error":null},i=[e.type,e.typeIdx,e.section,d.value-1,n[w.value].name,u.prop],I=[];return I=x.getEl(x.app.config,i),I&&I.length>0&&(_={icon:"mdi-check",color:"success"}),_}return(u,_)=>{const i=a("v-btn"),I=a("v-list-item"),L=a("v-icon"),A=a("v-card"),k=a("v-item"),f=a("v-col"),V=a("v-row"),C=a("v-item-group"),q=a("v-expansion-panel-title"),G=a("v-autocomplete"),Y=a("v-expansion-panel-text"),Q=a("v-expansion-panel"),F=a("v-expansion-panels"),Z=a("v-pagination");return s(),T(E,null,[l(I,{title:u.$t("_app.settings.title")+" "+u.$t("_app.settings.props.main")+" ("+u.$t("_app.settings."+e.type+".title")+": "+m(x).app.config[e.type][e.typeIdx].name+")"},{append:t(()=>[l(i,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:_[0]||(_[0]=P=>m(x).help("bereich-main"))})]),_:1},8,["title"]),l(I,null,{default:t(()=>[l(C,{modelValue:w.value,"onUpdate:modelValue":_[1]||(_[1]=P=>w.value=P),mandatory:""},{default:t(()=>[l(V,{class:"text-center","no-gutters":""},{default:t(()=>[(s(),T(E,null,j(n,P=>se(l(f,{key:P.name,cols:P.cols},{default:t(()=>[l(k,null,{default:t(({isSelected:J,toggle:ee})=>[l(A,{color:J?P.color:P.color+"-lighten-5",subtitle:u.$t("_app.settings.props."+P.name),class:"ma-1 pa-0",variant:"flat",onClick:ee},{prepend:t(()=>[l(L)]),append:t(()=>[l(L,{icon:b(P.name).icon,color:b(P.name).color},null,8,["icon","color"])]),_:2},1032,["color","subtitle","onClick"])]),_:2},1024)]),_:2},1032,["cols"]),[[de,!p(P.name)]])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(F,null,{default:t(()=>[(s(!0),T(E,null,j(o.value,P=>(s(),y(Q,{key:P.prop},{default:t(()=>[l(q,null,{actions:t(({expanded:J})=>[l(L,{color:J?"":h(P).color,icon:J?"mdi-chevron-up":h(P).icon},null,8,["color","icon"])]),default:t(()=>[M(K(P.prop)+" ",1)]),_:2},1024),l(Y,null,{default:t(()=>[P.type==="types"?(s(),y(G,{key:0,modelValue:m(x).app.config[e.type][e.typeIdx][e.section][d.value-1].level[P.prop],"onUpdate:modelValue":[J=>m(x).app.config[e.type][e.typeIdx][e.section][d.value-1].level[P.prop]=J,J=>r(J,P.prop)],items:v,label:u.$t("_app.settings.props.type"),density:"compact",variant:"outlined",class:"pt-3"},null,8,["modelValue","onUpdate:modelValue","label"])):U("",!0),P.type==="defs"?(s(),y(ye,{key:1,type:e.type,typeIdx:e.typeIdx,section:e.section,mainIdx:d.value-1,mainSection:n[w.value].name,prop:P.prop,propDef:P.def,propHelp:P.help},null,8,["type","typeIdx","section","mainIdx","mainSection","prop","propDef","propHelp"])):U("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),l(I,null,{default:t(()=>[l(V,{"no-gutters":""},{default:t(()=>[l(f,null,{default:t(()=>[l(Z,{modelValue:d.value,"onUpdate:modelValue":_[2]||(_[2]=P=>d.value=P),length:$.value,"total-visible":"5",rounded:"circle"},null,8,["modelValue","length"])]),_:1}),l(f,{cols:"2",class:"text-right"},{default:t(()=>[l(i,{variant:"text",icon:"mdi-plus",onClick:_[3]||(_[3]=P=>g())}),l(i,{variant:"text",icon:"mdi-delete",disabled:$.value<2,onClick:_[4]||(_[4]=P=>S())},null,8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}},le={__name:"SettingsProps",props:{type:String},setup(N){const e=N,n=B(),{mobile:v}=X(),c="_app.settings."+e.type+".",x=[{section:"panel",color:"grey"},{section:"status",color:"green"},{section:"main",height:80,color:"orange"},{section:"info",color:"blue"}],w=O(0),p=R(()=>{let k=[];for(const f of n.app.config[e.type])f.dist||k.push(f.name);return k.sort((f,V)=>f>V?1:V>f?-1:0),k}),o=O(p.value[0]),d=R(()=>n.app.config[e.type].map(k=>k.name).indexOf(o.value)),$=O(null),r=O(null);function g(k){r.value=k}const S=R(()=>{let k=[];for(const f of n.app.config.panels)f.template===o.value&&k.push(f.name);return k.sort((f,V)=>f>V?1:V>f?-1:0),g(k[0]),k}),b=O(!0),h=O("panel"),u=O(e.type!=="panels"),_=O(!1),i={required:k=>!!k||n.replacer("%t(_app.settings.rules.required)"),uniqe:k=>p.value.indexOf(k)===-1||n.replacer("%t(_app.settings.rules.panelUniqe)")};function I(){let k=n.app.panelList.map(f=>f.name).indexOf(e.type==="templates"?r.value:o.value);return k!==-1?n.app.panelList[k]:null}function L(){n.app.config[e.type].splice(d.value,1),o.value=n.app.config[e.type].length>0?n.app.config[e.type][0].name:"",u.value=e.type!=="panels",w.value=0}function A(){let k={name:o.value,template:null,panel:{},status:{},main:[{level:{}}],info:{}},f={name:o.value,author:null,date:null,panel:{},status:{},main:[{level:{}}],info:{}};n.app.config[e.type].push(e.type==="panels"?k:f)}return(k,f)=>{const V=a("v-btn"),C=a("v-list-item"),q=a("v-col"),G=a("v-divider"),Y=a("v-switch"),Q=a("v-autocomplete"),F=a("v-row"),Z=a("v-text-field"),P=a("v-form"),J=a("v-card"),ee=a("v-item"),oe=a("v-item-group"),ae=a("v-list");return s(),y(ae,null,{default:t(()=>[l(F,{"no-gutters":""},{default:t(()=>[d.value===-1?(s(),y(q,{key:0},{default:t(()=>[l(C,{title:k.$t(c+"title")},{append:t(()=>[l(V,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:f[0]||(f[0]=z=>m(n).help(e.type==="panels"?"panels":"vorlagen"))})]),_:1},8,["title"])]),_:1})):U("",!0),d.value!==-1?(s(),y(q,{key:1},{default:t(()=>[x[w.value].section!=="main"?(s(),y(_e,{key:0,type:N.type,typeIdx:d.value,section:x[w.value].section,extended:u.value},null,8,["type","typeIdx","section","extended"])):U("",!0),x[w.value].section==="main"?(s(),y(he,{key:1,type:N.type,typeIdx:d.value,section:x[w.value].section},null,8,["type","typeIdx","section"])):U("",!0)]),_:1})):U("",!0),l(G,{vertical:!m(v)},null,8,["vertical"]),l(q,{cols:"12",lg:"4"},{default:t(()=>[e.type==="panels"?(s(),y(C,{key:0,class:"pa-0"},{default:t(()=>[l(Y,{modelValue:u.value,"onUpdate:modelValue":[f[1]||(f[1]=z=>u.value=z),f[2]||(f[2]=z=>z?null:w.value=0)],label:k.$t("_app.settings.panels.extendedSettings"),color:"blue","hide-details":"",class:"ml-4"},null,8,["modelValue","label"])]),_:1})):U("",!0),l(C,null,{default:t(()=>[b.value?(s(),y(F,{key:0,"no-gutters":"",class:"pt-1"},{default:t(()=>[l(q,{cols:"8",class:"pt-1"},{default:t(()=>[l(Q,{modelValue:o.value,"onUpdate:modelValue":f[3]||(f[3]=z=>o.value=z),items:p.value,label:k.$t(c+"title"),disabled:p.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),l(q,{class:"text-right"},{default:t(()=>[l(V,{variant:"text",icon:"mdi-plus",onClick:f[4]||(f[4]=z=>{b.value=!b.value,$.value=o.value,o.value=null})}),l(V,{variant:"text",icon:"mdi-delete",disabled:d.value===-1,onClick:f[5]||(f[5]=z=>L())},null,8,["disabled"])]),_:1})]),_:1})):U("",!0),l(P,{modelValue:_.value,"onUpdate:modelValue":f[9]||(f[9]=z=>_.value=z)},{default:t(()=>[b.value?U("",!0):(s(),y(F,{key:0,"no-gutters":"",class:"pt-1"},{default:t(()=>[l(q,{cols:"8",class:"pt-1"},{default:t(()=>[l(Z,{modelValue:o.value,"onUpdate:modelValue":f[6]||(f[6]=z=>o.value=z),label:k.$t(c+"title"),rules:[i.required,i.uniqe],density:"compact",variant:"outlined"},null,8,["modelValue","label","rules"])]),_:1}),l(q,{class:"text-right"},{default:t(()=>[l(V,{variant:"text",icon:"mdi-check",disabled:!_.value,onClick:f[7]||(f[7]=z=>{A(),b.value=!b.value})},null,8,["disabled"]),l(V,{variant:"text",icon:"mdi-cancel",onClick:f[8]||(f[8]=z=>{b.value=!b.value,o.value=$.value})})]),_:1})]),_:1}))]),_:1},8,["modelValue"]),u.value?(s(),y(oe,{key:1,modelValue:w.value,"onUpdate:modelValue":f[10]||(f[10]=z=>w.value=z),mandatory:""},{default:t(()=>[l(F,{class:"text-center pb-3","no-gutters":""},{default:t(()=>[(s(),T(E,null,j(x,z=>l(q,{key:z.section,cols:"12"},{default:t(()=>[l(ee,null,{default:t(({isSelected:pe,toggle:ie})=>[l(J,{subtitle:k.$t("_app.settings.props."+z.section),color:pe?z.color:z.color+"-lighten-5",variant:"flat",class:"ma-1 pa-0",height:z.height,onClick:ie},null,8,["subtitle","color","height","onClick"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["modelValue"])):U("",!0),l(G,{class:"pb-3"}),e.type==="templates"?(s(),y(F,{key:2,"no-gutters":""},{default:t(()=>[l(q,{cols:"8",class:"pt-1"},{default:t(()=>[l(Q,{modelValue:r.value,"onUpdate:modelValue":f[11]||(f[11]=z=>r.value=z),items:S.value,label:k.$t("_app.settings.panels.preview"),disabled:p.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1}),l(q,{class:"text-right"},{default:t(()=>[l(V,{variant:"text",icon:h.value==="panel"?"mdi-code-json":"mdi-view-day",onClick:f[12]||(f[12]=z=>h.value=h.value==="panel"?"json":"panel")},null,8,["icon"])]),_:1})]),_:1})):U("",!0),m(n).app.isReady&&I()?(s(),y(F,{key:3,"no-gutters":""},{default:t(()=>[h.value==="panel"?(s(),y(q,{key:0},{default:t(()=>[l(me,{panel:I()},null,8,["panel"])]),_:1})):U("",!0),h.value==="json"?(s(),y(q,{key:1},{default:t(()=>[l(m(ce),{data:I(),deep:1,showLine:!1},null,8,["data"])]),_:1})):U("",!0)]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}},te="_app.settings.colors.",be={__name:"SettingsColors",setup(N){const{mobile:e}=X(),n=B(),v=O(),c=R(()=>Object.keys(n.app.config.colors)),x=R(()=>{let o=[];for(const d of c.value)for(const $ of Object.keys(n.app.config.colors[d]))o.indexOf($)===-1&&o.push($);return o});function w(){n.app.config.colors.dark||(n.app.config.colors.dark={}),n.app.config.colors.light||(n.app.config.colors.light={}),n.app.config.colors.dark[v.value]="#E0E0E0",n.app.config.colors.light[v.value]="#E0E0E0",v.value=null}function p(o){for(const d of c.value)delete n.app.config.colors[d][o]}return(o,d)=>{const $=a("v-btn"),r=a("v-list-item"),g=a("v-color-picker"),S=a("v-spacer"),b=a("v-card-actions"),h=a("v-card"),u=a("v-dialog"),_=a("v-col"),i=a("v-divider"),I=a("v-row"),L=a("v-text-field"),A=a("v-list");return s(),y(A,null,{default:t(()=>[l(r,{title:o.$t(te+"title",2)},{append:t(()=>[l($,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:d[0]||(d[0]=k=>m(n).help("farben"))})]),_:1},8,["title"]),l(r,null,{default:t(()=>[l(I,{"no-gutters":"",class:"text-right"},{default:t(()=>[l(_,null,{default:t(()=>[(s(!0),T(E,null,j(x.value,k=>(s(),y(I,{key:k,"no-gutters":"",class:"pt-3"},{default:t(()=>[(s(!0),T(E,null,j(c.value,f=>(s(),y(_,{key:f,cols:"12",lg:"",class:"pa-2"},{default:t(()=>[l(u,{width:"350"},{activator:t(({props:V})=>[l($,re({text:k+" ["+f+"] "+(m(n).app.config.colors[f][k]||""),color:m(n).app.config.colors[f][k],modelValue:m(n).app.config.colors[f][k],"onUpdate:modelValue":C=>m(n).app.config.colors[f][k]=C,size:"large",width:"350"},V),null,16,["text","color","modelValue","onUpdate:modelValue"])]),default:t(({isActive:V})=>[l(h,null,{default:t(()=>[l(g,{modelValue:m(n).app.config.colors[f][k],"onUpdate:modelValue":C=>m(n).app.config.colors[f][k]=C,"show-swatches":"",mode:"hexa",width:"350",elevation:"0","swatches-max-height":"400px"},null,8,["modelValue","onUpdate:modelValue"]),l(b,null,{default:t(()=>[l(S),l($,{onClick:C=>V.value=!1},{default:t(()=>[M("ok")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l(_,{cols:"12",lg:"1",class:"pt-1"},{default:t(()=>[l($,{variant:"text",icon:"mdi-delete",onClick:f=>p(k)},null,8,["onClick"])]),_:2},1024),m(e)?(s(),y(i,{key:0})):U("",!0)]),_:2},1024))),128))]),_:1}),m(e)?U("",!0):(s(),y(i,{key:0,vertical:"",class:"mx-5"})),l(_,{cols:"12",lg:"3"},{default:t(()=>[l(I,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l(_,{class:"pt-2"},{default:t(()=>[l(L,{density:"compact",variant:"outlined",clearable:"",label:o.$t(te+"newKey"),modelValue:v.value,"onUpdate:modelValue":d[1]||(d[1]=k=>v.value=k)},null,8,["label","modelValue"])]),_:1}),l(_,{cols:"3",class:"pt-1"},{default:t(()=>[l($,{variant:"text",icon:"mdi-plus",onClick:d[2]||(d[2]=k=>w())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},W="_app.settings.content.",Ve={__name:"SettingsContent",setup(N){const{mobile:e}=X(),n=B(),v=O(),c=O(),x=O(!1),w=O(!1),p=R(()=>Object.keys(n.app.config.content)),o=R(()=>{let b=[];for(const h of p.value)for(const u of Object.keys(n.app.config.content[h]))b.indexOf(u)===-1&&b.push(u);return b}),d={iso639code:b=>/^[a-z]{2}$/.test(b)||n.replacer("%t(_app.settings.rules.iso639code)")};function $(){n.app.config.content[p.value[0]][v.value]="",v.value=null}function r(){n.app.config.content[c.value]={},c.value=null,x.value=!1}function g(){delete n.app.config.content[c.value],c.value=null}function S(b){for(const h of p.value)delete n.app.config.content[h][b]}return(b,h)=>{const u=a("v-btn"),_=a("v-list-item"),i=a("v-text-field"),I=a("v-col"),L=a("v-divider"),A=a("v-row"),k=a("v-autocomplete"),f=a("v-form"),V=a("v-list");return s(),y(V,null,{default:t(()=>[l(_,{title:b.$t(W+"title",2)},{append:t(()=>[l(u,{color:"info",icon:"mdi-help-circle",variant:"text",onClick:h[0]||(h[0]=C=>m(n).help("sprachen"))})]),_:1},8,["title"]),l(_,null,{default:t(()=>[l(A,{"no-gutters":"",class:"text-right"},{default:t(()=>[l(I,null,{default:t(()=>[(s(!0),T(E,null,j(o.value,C=>(s(),y(A,{key:C,"no-gutters":"",class:"pt-3"},{default:t(()=>[(s(!0),T(E,null,j(p.value,q=>(s(),y(I,{key:q,cols:"12",lg:"",class:"pa-2"},{default:t(()=>[l(i,{density:"compact",variant:"outlined","hide-details":"",clearable:"",label:C+" ["+q+"]",modelValue:m(n).app.config.content[q][C],"onUpdate:modelValue":G=>m(n).app.config.content[q][C]=G},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),l(I,{cols:"12",lg:"1",class:"pt-1"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-delete",onClick:q=>S(C)},null,8,["onClick"])]),_:2},1024),m(e)?(s(),y(L,{key:0})):U("",!0)]),_:2},1024))),128))]),_:1}),m(e)?U("",!0):(s(),y(L,{key:0,vertical:"",class:"mx-5"})),l(I,{cols:"12",lg:"3"},{default:t(()=>[l(A,{"no-gutters":"",class:"pt-3"},{default:t(()=>[l(I,{class:"pt-2"},{default:t(()=>[l(i,{density:"compact",variant:"outlined",clearable:"",disabled:p.value.length<1,label:b.$t(W+"newKey"),modelValue:v.value,"onUpdate:modelValue":h[1]||(h[1]=C=>v.value=C)},null,8,["disabled","label","modelValue"])]),_:1}),l(I,{cols:"4",class:"pt-1"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-plus",disabled:p.value.length<1,onClick:h[2]||(h[2]=C=>$())},null,8,["disabled"])]),_:1})]),_:1}),l(f,{modelValue:w.value,"onUpdate:modelValue":h[10]||(h[10]=C=>w.value=C)},{default:t(()=>[l(A,{"no-gutters":""},{default:t(()=>[x.value?(s(),y(I,{key:0},{default:t(()=>[l(i,{density:"compact",variant:"outlined",clearable:"",label:b.$t(W+"newLang"),rules:[d.iso639code],"append-inner-icon":"mdi-help-circle","onClick:appendInner":h[3]||(h[3]=C=>b.openHelp("Sprachcodes")),modelValue:c.value,"onUpdate:modelValue":h[4]||(h[4]=C=>c.value=C)},null,8,["label","rules","modelValue"])]),_:1})):U("",!0),x.value?(s(),y(I,{key:1,cols:"4"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-check",disabled:!w.value,onClick:h[5]||(h[5]=C=>r())},null,8,["disabled"]),l(u,{variant:"text",icon:"mdi-cancel",onClick:h[6]||(h[6]=C=>{x.value=!x.value,c.value=null})})]),_:1})):U("",!0),x.value?U("",!0):(s(),y(I,{key:2},{default:t(()=>[l(k,{modelValue:c.value,"onUpdate:modelValue":h[7]||(h[7]=C=>c.value=C),items:p.value,label:b.$t(W+"title"),disabled:p.value.length===0,density:"compact",variant:"outlined"},null,8,["modelValue","items","label","disabled"])]),_:1})),x.value?U("",!0):(s(),y(I,{key:3,cols:"4"},{default:t(()=>[l(u,{variant:"text",icon:"mdi-plus",onClick:h[8]||(h[8]=C=>{x.value=!x.value,c.value=null})}),l(u,{variant:"text",icon:"mdi-delete",disabled:p.value.length===0||p.value.indexOf(c.value)===-1,onClick:h[9]||(h[9]=C=>g())},null,8,["disabled"])]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},we={__name:"SettingsView",setup(N){const e=["header","panels","templates","navigation","colors","content"],n=O(e[0]),v=O(!1),c=B();ue(c.app.config,w=>{w&&c.app.isReady&&(v.value=!0)});async function x(w){let p=null;if(w){for(const[o,d]of Object.entries(c.app.config.templates))d.dist&&c.app.config.templates.splice(o,1);p=encodeURIComponent(btoa(JSON.stringify(c.app.config))),await c.request("text","set "+c.app.fhemDevice+" config "+p)}await c.createSession(),v.value=!1}return(w,p)=>{const o=a("v-toolbar-title"),d=a("v-btn"),$=a("v-toolbar"),r=a("v-tab"),g=a("v-tabs"),S=a("v-card");return s(),y(S,null,{default:t(()=>[l($,null,{append:t(()=>[v.value?(s(),y(d,{key:0,icon:"mdi-cancel",onClick:p[0]||(p[0]=b=>x(!1))})):U("",!0),l(d,{disabled:!v.value,icon:"mdi-content-save-outline",onClick:p[1]||(p[1]=b=>x(!0))},null,8,["disabled"])]),default:t(()=>[l(o,null,{default:t(()=>[M(K(w.$t("_app.settings.title")),1)]),_:1})]),_:1}),l(g,{modelValue:n.value,"onUpdate:modelValue":p[2]||(p[2]=b=>n.value=b)},{default:t(()=>[(s(),T(E,null,j(e,b=>l(r,{value:b,key:b},{default:t(()=>[M(K(w.$t("_app.settings."+b+".title",2)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),n.value==="header"?(s(),y(ve,{key:0})):U("",!0),n.value==="navigation"?(s(),y(fe,{key:1})):U("",!0),n.value==="panels"?(s(),y(le,{key:2,type:n.value},null,8,["type"])):U("",!0),n.value==="templates"?(s(),y(le,{key:3,type:n.value},null,8,["type"])):U("",!0),n.value==="colors"?(s(),y(be,{key:4})):U("",!0),n.value==="content"?(s(),y(Ve,{key:5})):U("",!0)]),_:1})}}};export{we as default};
