{"version":3,"file":"VBadge.mjs","names":["VIcon","useBackgroundColor","useTextColor","makeComponentProps","IconValue","useLocale","makeLocationProps","useLocation","makeRoundedProps","useRounded","makeTagProps","makeThemeProps","useTheme","makeTransitionProps","MaybeTransition","toRef","genericComponent","pickWithRest","propsFactory","useRender","makeVBadgeProps","bordered","Boolean","color","String","content","Number","dot","floating","icon","inline","label","type","default","max","modelValue","offsetX","offsetY","textColor","location","transition","VBadge","name","inheritAttrs","props","setup","ctx","backgroundColorClasses","backgroundColorStyles","roundedClasses","t","textColorClasses","textColorStyles","themeClasses","locationStyles","side","base","includes","value","isNaN","badgeAttrs","attrs","_createVNode","tag","_mergeProps","class","style","slots","_withDirectives","undefined","badge","_vShow"],"sources":["../../../src/components/VBadge/VBadge.tsx"],"sourcesContent":["// Styles\nimport './VBadge.sass'\n\n// Components\nimport { VIcon } from '@/components/VIcon'\n\n// Composables\nimport { useBackgroundColor, useTextColor } from '@/composables/color'\nimport { makeComponentProps } from '@/composables/component'\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, useTheme } from '@/composables/theme'\nimport { makeTransitionProps, MaybeTransition } from '@/composables/transition'\n\n// Utilities\nimport { toRef } from 'vue'\nimport { genericComponent, pickWithRest, propsFactory, useRender } from '@/util'\n\nexport type VBadgeSlots = {\n  default: never\n  badge: never\n}\n\nexport const makeVBadgeProps = propsFactory({\n  bordered: Boolean,\n  color: String,\n  content: [Number, String],\n  dot: Boolean,\n  floating: Boolean,\n  icon: IconValue,\n  inline: Boolean,\n  label: {\n    type: String,\n    default: '$vuetify.badge',\n  },\n  max: [Number, String],\n  modelValue: {\n    type: Boolean,\n    default: true,\n  },\n  offsetX: [Number, String],\n  offsetY: [Number, String],\n  textColor: String,\n\n  ...makeComponentProps(),\n  ...makeLocationProps({ location: 'top end' } as const),\n  ...makeRoundedProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeTransitionProps({ transition: 'scale-rotate-transition' }),\n}, 'VBadge')\n\nexport const VBadge = genericComponent<VBadgeSlots>()({\n  name: 'VBadge',\n\n  inheritAttrs: false,\n\n  props: makeVBadgeProps(),\n\n  setup (props, ctx) {\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(toRef(props, 'color'))\n    const { roundedClasses } = useRounded(props)\n    const { t } = useLocale()\n    const { textColorClasses, textColorStyles } = useTextColor(toRef(props, 'textColor'))\n    const { themeClasses } = useTheme()\n\n    const { locationStyles } = useLocation(props, true, side => {\n      const base = props.floating\n        ? (props.dot ? 2 : 4)\n        : (props.dot ? 8 : 12)\n\n      return base + (\n        ['top', 'bottom'].includes(side) ? +(props.offsetY ?? 0)\n        : ['left', 'right'].includes(side) ? +(props.offsetX ?? 0)\n        : 0\n      )\n    })\n\n    useRender(() => {\n      const value = Number(props.content)\n      const content = (!props.max || isNaN(value)) ? props.content\n        : value <= +props.max ? value\n        : `${props.max}+`\n\n      const [badgeAttrs, attrs] = pickWithRest(ctx.attrs as Record<string, any>, [\n        'aria-atomic',\n        'aria-label',\n        'aria-live',\n        'role',\n        'title',\n      ])\n\n      return (\n        <props.tag\n          class={[\n            'v-badge',\n            {\n              'v-badge--bordered': props.bordered,\n              'v-badge--dot': props.dot,\n              'v-badge--floating': props.floating,\n              'v-badge--inline': props.inline,\n            },\n            props.class,\n          ]}\n          { ...attrs }\n          style={ props.style }\n        >\n          <div class=\"v-badge__wrapper\">\n            { ctx.slots.default?.() }\n\n            <MaybeTransition transition={ props.transition }>\n              <span\n                v-show={ props.modelValue }\n                class={[\n                  'v-badge__badge',\n                  themeClasses.value,\n                  backgroundColorClasses.value,\n                  roundedClasses.value,\n                  textColorClasses.value,\n                ]}\n                style={[\n                  backgroundColorStyles.value,\n                  textColorStyles.value,\n                  props.inline ? {} : locationStyles.value,\n                ]}\n                aria-atomic=\"true\"\n                aria-label={ t(props.label, value) }\n                aria-live=\"polite\"\n                role=\"status\"\n                { ...badgeAttrs }\n              >\n                {\n                  props.dot ? undefined\n                  : ctx.slots.badge ? ctx.slots.badge?.()\n                  : props.icon ? <VIcon icon={ props.icon } />\n                  : content\n                }\n              </span>\n            </MaybeTransition>\n          </div>\n        </props.tag>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VBadge = InstanceType<typeof VBadge>\n"],"mappings":"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"}